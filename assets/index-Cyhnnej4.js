(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(l){if(l.ep)return;l.ep=!0;const h=i(l);fetch(l.href,h)}})();function kE(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var gf={exports:{}},xo={};var cy;function jE(){if(cy)return xo;cy=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(a,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var p in l)p!=="key"&&(h[p]=l[p])}else h=l;return l=h.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:h}}return xo.Fragment=n,xo.jsx=i,xo.jsxs=i,xo}var hy;function qE(){return hy||(hy=1,gf.exports=jE()),gf.exports}var Z=qE(),pf={exports:{}},yt={};var fy;function HE(){if(fy)return yt;fy=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),I=Symbol.iterator;function q(N){return N===null||typeof N!="object"?null:(N=I&&N[I]||N["@@iterator"],typeof N=="function"?N:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,X={};function ut(N,Y,nt){this.props=N,this.context=Y,this.refs=X,this.updater=nt||J}ut.prototype.isReactComponent={},ut.prototype.setState=function(N,Y){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Y,"setState")},ut.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function ft(){}ft.prototype=ut.prototype;function ot(N,Y,nt){this.props=N,this.context=Y,this.refs=X,this.updater=nt||J}var wt=ot.prototype=new ft;wt.constructor=ot,$(wt,ut.prototype),wt.isPureReactComponent=!0;var Ut=Array.isArray;function st(){}var b={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function D(N,Y,nt){var it=nt.ref;return{$$typeof:s,type:N,key:Y,ref:it!==void 0?it:null,props:nt}}function O(N,Y){return D(N.type,Y,N.props)}function V(N){return typeof N=="object"&&N!==null&&N.$$typeof===s}function z(N){var Y={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(nt){return Y[nt]})}var R=/\/+/g;function $t(N,Y){return typeof N=="object"&&N!==null&&N.key!=null?z(""+N.key):Y.toString(36)}function we(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(st,st):(N.status="pending",N.then(function(Y){N.status==="pending"&&(N.status="fulfilled",N.value=Y)},function(Y){N.status==="pending"&&(N.status="rejected",N.reason=Y)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function G(N,Y,nt,it,pt){var St=typeof N;(St==="undefined"||St==="boolean")&&(N=null);var Mt=!1;if(N===null)Mt=!0;else switch(St){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(N.$$typeof){case s:case n:Mt=!0;break;case S:return Mt=N._init,G(Mt(N._payload),Y,nt,it,pt)}}if(Mt)return pt=pt(N),Mt=it===""?"."+$t(N,0):it,Ut(pt)?(nt="",Mt!=null&&(nt=Mt.replace(R,"$&/")+"/"),G(pt,Y,nt,"",function(Mr){return Mr})):pt!=null&&(V(pt)&&(pt=O(pt,nt+(pt.key==null||N&&N.key===pt.key?"":(""+pt.key).replace(R,"$&/")+"/")+Mt)),Y.push(pt)),1;Mt=0;var Ce=it===""?".":it+":";if(Ut(N))for(var ee=0;ee<N.length;ee++)it=N[ee],St=Ce+$t(it,ee),Mt+=G(it,Y,nt,St,pt);else if(ee=q(N),typeof ee=="function")for(N=ee.call(N),ee=0;!(it=N.next()).done;)it=it.value,St=Ce+$t(it,ee++),Mt+=G(it,Y,nt,St,pt);else if(St==="object"){if(typeof N.then=="function")return G(we(N),Y,nt,it,pt);throw Y=String(N),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function et(N,Y,nt){if(N==null)return N;var it=[],pt=0;return G(N,it,"","",function(St){return Y.call(nt,St,pt++)}),it}function dt(N){if(N._status===-1){var Y=N._result;Y=Y(),Y.then(function(nt){(N._status===0||N._status===-1)&&(N._status=1,N._result=nt)},function(nt){(N._status===0||N._status===-1)&&(N._status=2,N._result=nt)}),N._status===-1&&(N._status=0,N._result=Y)}if(N._status===1)return N._result.default;throw N._result}var Lt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Ht={map:et,forEach:function(N,Y,nt){et(N,function(){Y.apply(this,arguments)},nt)},count:function(N){var Y=0;return et(N,function(){Y++}),Y},toArray:function(N){return et(N,function(Y){return Y})||[]},only:function(N){if(!V(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return yt.Activity=w,yt.Children=Ht,yt.Component=ut,yt.Fragment=i,yt.Profiler=l,yt.PureComponent=ot,yt.StrictMode=a,yt.Suspense=v,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=b,yt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return b.H.useMemoCache(N)}},yt.cache=function(N){return function(){return N.apply(null,arguments)}},yt.cacheSignal=function(){return null},yt.cloneElement=function(N,Y,nt){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var it=$({},N.props),pt=N.key;if(Y!=null)for(St in Y.key!==void 0&&(pt=""+Y.key),Y)!A.call(Y,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&Y.ref===void 0||(it[St]=Y[St]);var St=arguments.length-2;if(St===1)it.children=nt;else if(1<St){for(var Mt=Array(St),Ce=0;Ce<St;Ce++)Mt[Ce]=arguments[Ce+2];it.children=Mt}return D(N.type,pt,it)},yt.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:h,_context:N},N},yt.createElement=function(N,Y,nt){var it,pt={},St=null;if(Y!=null)for(it in Y.key!==void 0&&(St=""+Y.key),Y)A.call(Y,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(pt[it]=Y[it]);var Mt=arguments.length-2;if(Mt===1)pt.children=nt;else if(1<Mt){for(var Ce=Array(Mt),ee=0;ee<Mt;ee++)Ce[ee]=arguments[ee+2];pt.children=Ce}if(N&&N.defaultProps)for(it in Mt=N.defaultProps,Mt)pt[it]===void 0&&(pt[it]=Mt[it]);return D(N,St,pt)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(N){return{$$typeof:p,render:N}},yt.isValidElement=V,yt.lazy=function(N){return{$$typeof:S,_payload:{_status:-1,_result:N},_init:dt}},yt.memo=function(N,Y){return{$$typeof:_,type:N,compare:Y===void 0?null:Y}},yt.startTransition=function(N){var Y=b.T,nt={};b.T=nt;try{var it=N(),pt=b.S;pt!==null&&pt(nt,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(st,Lt)}catch(St){Lt(St)}finally{Y!==null&&nt.types!==null&&(Y.types=nt.types),b.T=Y}},yt.unstable_useCacheRefresh=function(){return b.H.useCacheRefresh()},yt.use=function(N){return b.H.use(N)},yt.useActionState=function(N,Y,nt){return b.H.useActionState(N,Y,nt)},yt.useCallback=function(N,Y){return b.H.useCallback(N,Y)},yt.useContext=function(N){return b.H.useContext(N)},yt.useDebugValue=function(){},yt.useDeferredValue=function(N,Y){return b.H.useDeferredValue(N,Y)},yt.useEffect=function(N,Y){return b.H.useEffect(N,Y)},yt.useEffectEvent=function(N){return b.H.useEffectEvent(N)},yt.useId=function(){return b.H.useId()},yt.useImperativeHandle=function(N,Y,nt){return b.H.useImperativeHandle(N,Y,nt)},yt.useInsertionEffect=function(N,Y){return b.H.useInsertionEffect(N,Y)},yt.useLayoutEffect=function(N,Y){return b.H.useLayoutEffect(N,Y)},yt.useMemo=function(N,Y){return b.H.useMemo(N,Y)},yt.useOptimistic=function(N,Y){return b.H.useOptimistic(N,Y)},yt.useReducer=function(N,Y,nt){return b.H.useReducer(N,Y,nt)},yt.useRef=function(N){return b.H.useRef(N)},yt.useState=function(N){return b.H.useState(N)},yt.useSyncExternalStore=function(N,Y,nt){return b.H.useSyncExternalStore(N,Y,nt)},yt.useTransition=function(){return b.H.useTransition()},yt.version="19.2.3",yt}var dy;function dd(){return dy||(dy=1,pf.exports=HE()),pf.exports}var xt=dd(),yf={exports:{}},zo={},_f={exports:{}},vf={};var my;function GE(){return my||(my=1,(function(s){function n(G,et){var dt=G.length;G.push(et);t:for(;0<dt;){var Lt=dt-1>>>1,Ht=G[Lt];if(0<l(Ht,et))G[Lt]=et,G[dt]=Ht,dt=Lt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var et=G[0],dt=G.pop();if(dt!==et){G[0]=dt;t:for(var Lt=0,Ht=G.length,N=Ht>>>1;Lt<N;){var Y=2*(Lt+1)-1,nt=G[Y],it=Y+1,pt=G[it];if(0>l(nt,dt))it<Ht&&0>l(pt,nt)?(G[Lt]=pt,G[it]=dt,Lt=it):(G[Lt]=nt,G[Y]=dt,Lt=Y);else if(it<Ht&&0>l(pt,dt))G[Lt]=pt,G[it]=dt,Lt=it;else break t}}return et}function l(G,et){var dt=G.sortIndex-et.sortIndex;return dt!==0?dt:G.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var v=[],_=[],S=1,w=null,I=3,q=!1,J=!1,$=!1,X=!1,ut=typeof setTimeout=="function"?setTimeout:null,ft=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function wt(G){for(var et=i(_);et!==null;){if(et.callback===null)a(_);else if(et.startTime<=G)a(_),et.sortIndex=et.expirationTime,n(v,et);else break;et=i(_)}}function Ut(G){if($=!1,wt(G),!J)if(i(v)!==null)J=!0,st||(st=!0,z());else{var et=i(_);et!==null&&we(Ut,et.startTime-G)}}var st=!1,b=-1,A=5,D=-1;function O(){return X?!0:!(s.unstable_now()-D<A)}function V(){if(X=!1,st){var G=s.unstable_now();D=G;var et=!0;try{t:{J=!1,$&&($=!1,ft(b),b=-1),q=!0;var dt=I;try{e:{for(wt(G),w=i(v);w!==null&&!(w.expirationTime>G&&O());){var Lt=w.callback;if(typeof Lt=="function"){w.callback=null,I=w.priorityLevel;var Ht=Lt(w.expirationTime<=G);if(G=s.unstable_now(),typeof Ht=="function"){w.callback=Ht,wt(G),et=!0;break e}w===i(v)&&a(v),wt(G)}else a(v);w=i(v)}if(w!==null)et=!0;else{var N=i(_);N!==null&&we(Ut,N.startTime-G),et=!1}}break t}finally{w=null,I=dt,q=!1}et=void 0}}finally{et?z():st=!1}}}var z;if(typeof ot=="function")z=function(){ot(V)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,$t=R.port2;R.port1.onmessage=V,z=function(){$t.postMessage(null)}}else z=function(){ut(V,0)};function we(G,et){b=ut(function(){G(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(G){switch(I){case 1:case 2:case 3:var et=3;break;default:et=I}var dt=I;I=et;try{return G()}finally{I=dt}},s.unstable_requestPaint=function(){X=!0},s.unstable_runWithPriority=function(G,et){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var dt=I;I=G;try{return et()}finally{I=dt}},s.unstable_scheduleCallback=function(G,et,dt){var Lt=s.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Lt+dt:Lt):dt=Lt,G){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=dt+Ht,G={id:S++,callback:et,priorityLevel:G,startTime:dt,expirationTime:Ht,sortIndex:-1},dt>Lt?(G.sortIndex=dt,n(_,G),i(v)===null&&G===i(_)&&($?(ft(b),b=-1):$=!0,we(Ut,dt-Lt))):(G.sortIndex=Ht,n(v,G),J||q||(J=!0,st||(st=!0,z()))),G},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(G){var et=I;return function(){var dt=I;I=et;try{return G.apply(this,arguments)}finally{I=dt}}}})(vf)),vf}var gy;function FE(){return gy||(gy=1,_f.exports=GE()),_f.exports}var Ef={exports:{}},Fe={};var py;function QE(){if(py)return Fe;py=1;var s=dd();function n(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(v,_,S){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:v,containerInfo:_,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Fe.createPortal=function(v,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(n(299));return h(v,_,null,S)},Fe.flushSync=function(v){var _=d.T,S=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=S,a.d.f()}},Fe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},Fe.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Fe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var S=_.as,w=p(S,_.crossOrigin),I=typeof _.integrity=="string"?_.integrity:void 0,q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:I,fetchPriority:q}):S==="script"&&a.d.X(v,{crossOrigin:w,integrity:I,fetchPriority:q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Fe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=p(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},Fe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,w=p(S,_.crossOrigin);a.d.L(v,S,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Fe.preloadModule=function(v,_){if(typeof v=="string")if(_){var S=p(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},Fe.requestFormReset=function(v){a.d.r(v)},Fe.unstable_batchedUpdates=function(v,_){return v(_)},Fe.useFormState=function(v,_,S){return d.H.useFormState(v,_,S)},Fe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fe.version="19.2.3",Fe}var yy;function YE(){if(yy)return Ef.exports;yy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Ef.exports=QE(),Ef.exports}var _y;function KE(){if(_y)return zo;_y=1;var s=FE(),n=dd(),i=YE();function a(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function d(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function p(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(a(188))}function _(t){var e=t.alternate;if(!e){if(e=h(t),e===null)throw Error(a(188));return e!==t?null:t}for(var r=t,o=e;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){r=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return v(c),t;if(f===o)return v(c),e;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=c,o=f;else{for(var g=!1,E=c.child;E;){if(E===r){g=!0,r=c,o=f;break}if(E===o){g=!0,o=c,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=c;break}if(E===o){g=!0,o=f,r=c;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:e}function S(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=S(t),e!==null)return e;t=t.sibling}return null}var w=Object.assign,I=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),ut=Symbol.for("react.profiler"),ft=Symbol.for("react.consumer"),ot=Symbol.for("react.context"),wt=Symbol.for("react.forward_ref"),Ut=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function $t(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case ut:return"Profiler";case X:return"StrictMode";case Ut:return"Suspense";case st:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case ot:return t.displayName||"Context";case ft:return(t._context.displayName||"Context")+".Consumer";case wt:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case b:return e=t.displayName||null,e!==null?e:$t(t.type)||"Memo";case A:e=t._payload,t=t._init;try{return $t(t(e))}catch{}}return null}var we=Array.isArray,G=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Lt=[],Ht=-1;function N(t){return{current:t}}function Y(t){0>Ht||(t.current=Lt[Ht],Lt[Ht]=null,Ht--)}function nt(t,e){Ht++,Lt[Ht]=t.current,t.current=e}var it=N(null),pt=N(null),St=N(null),Mt=N(null);function Ce(t,e){switch(nt(St,e),nt(pt,t),nt(it,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Op(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Op(e),t=xp(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(it),nt(it,t)}function ee(){Y(it),Y(pt),Y(St)}function Mr(t){t.memoizedState!==null&&nt(Mt,t);var e=it.current,r=xp(e,t.type);e!==r&&(nt(pt,t),nt(it,r))}function ya(t){pt.current===t&&(Y(it),Y(pt)),Mt.current===t&&(Y(Mt),Vo._currentValue=dt)}var _a,va;function Gn(t){if(_a===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);_a=e&&e[1]||"",va=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_a+t+va}var Is=!1;function Nr(t,e){if(!t||Is)return"";Is=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(e){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(j){var B=j}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(j){B=j}t.call(Q.prototype)}}else{try{throw Error()}catch(j){B=j}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(j){if(j&&B&&typeof j.stack=="string")return[j.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),P=E.split(`
`);for(c=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(o===C.length||c===P.length)for(o=C.length-1,c=P.length-1;1<=o&&0<=c&&C[o]!==P[c];)c--;for(;1<=o&&0<=c;o--,c--)if(C[o]!==P[c]){if(o!==1||c!==1)do if(o--,c--,0>c||C[o]!==P[c]){var H=`
`+C[o].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=o&&0<=c);break}}}finally{Is=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Gn(r):""}function Vs(t,e){switch(t.tag){case 26:case 27:case 5:return Gn(t.type);case 16:return Gn("Lazy");case 13:return t.child!==e&&e!==null?Gn("Suspense Fallback"):Gn("Suspense");case 19:return Gn("SuspenseList");case 0:case 15:return Nr(t.type,!1);case 11:return Nr(t.type.render,!1);case 1:return Nr(t.type,!0);case 31:return Gn("Activity");default:return""}}function Ms(t){try{var e="",r=null;do e+=Vs(t,r),r=t,t=t.return;while(t);return e}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var me=Object.prototype.hasOwnProperty,De=s.unstable_scheduleCallback,Bi=s.unstable_cancelCallback,pc=s.unstable_shouldYield,sl=s.unstable_requestPaint,Xe=s.unstable_now,Or=s.unstable_getCurrentPriorityLevel,Ns=s.unstable_ImmediatePriority,Os=s.unstable_UserBlockingPriority,ki=s.unstable_NormalPriority,yc=s.unstable_LowPriority,ol=s.unstable_IdlePriority,ll=s.log,ul=s.unstable_setDisableYieldValue,Mn=null,Le=null;function _n(t){if(typeof ll=="function"&&ul(t),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(Mn,t)}catch{}}var ue=Math.clz32?Math.clz32:hl,cl=Math.log,Ea=Math.LN2;function hl(t){return t>>>=0,t===0?32:31-(cl(t)/Ea|0)|0}var Fn=256,xr=262144,ge=4194304;function Qn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Yn(t,e,r){var o=t.pendingLanes;if(o===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?c=Qn(o):(g&=E,g!==0?c=Qn(g):r||(r=E&~t,r!==0&&(c=Qn(r))))):(E=o&~f,E!==0?c=Qn(E):g!==0?c=Qn(g):r||(r=o&~t,r!==0&&(c=Qn(r)))),c===0?0:e!==0&&e!==c&&(e&f)===0&&(f=c&-c,r=e&-e,f>=r||f===32&&(r&4194048)!==0)?e:c}function Nn(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function _c(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fl(){var t=ge;return ge<<=1,(ge&62914560)===0&&(ge=4194304),t}function Kn(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function zr(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function vc(t,e,r,o,c,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,P=t.hiddenUpdates;for(r=g&~r;0<r;){var H=31-ue(r),Q=1<<H;E[H]=0,C[H]=-1;var B=P[H];if(B!==null)for(P[H]=null,H=0;H<B.length;H++){var j=B[H];j!==null&&(j.lane&=-536870913)}r&=~Q}o!==0&&Ur(t,o,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~e))}function Ur(t,e,r){t.pendingLanes|=e,t.suspendedLanes&=~e;var o=31-ue(e);t.entangledLanes|=e,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function xs(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var o=31-ue(r),c=1<<o;c&e|t[o]&e&&(t[o]|=e),r&=~c}}function zs(t,e){var r=e&-e;return r=(r&42)!==0?1:Lr(r),(r&(t.suspendedLanes|e))!==0?0:r}function Lr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function _i(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function dl(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:iy(t.type))}function On(t,e){var r=et.p;try{return et.p=t,e()}finally{et.p=r}}var xn=Math.random().toString(36).slice(2),pe="__reactFiber$"+xn,Ne="__reactProps$"+xn,Xn="__reactContainer$"+xn,Ta="__reactEvents$"+xn,Ec="__reactListeners$"+xn,ml="__reactHandles$"+xn,gl="__reactResources$"+xn,Zn="__reactMarker$"+xn;function Sa(t){delete t[pe],delete t[Ne],delete t[Ta],delete t[Ec],delete t[ml]}function Jn(t){var e=t[pe];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Xn]||r[pe]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=jp(t);t!==null;){if(r=t[pe])return r;t=jp(t)}return e}t=r,r=t.parentNode}return null}function vn(t){if(t=t[pe]||t[Xn]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function un(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(a(33))}function $n(t){var e=t[gl];return e||(e=t[gl]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ye(t){t[Zn]=!0}var Us=new Set,Ls={};function Wn(t,e){ti(t,e),ti(t+"Capture",e)}function ti(t,e){for(Ls[t]=e,t=0;t<e.length;t++)Us.add(e[t])}var Ps=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bs={},ks={};function pl(t){return me.call(ks,t)?!0:me.call(Bs,t)?!1:Ps.test(t)?ks[t]=!0:(Bs[t]=!0,!1)}function Aa(t,e,r){if(pl(e))if(r===null)t.removeAttribute(e);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var o=e.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+r)}}function cn(t,e,r){if(r===null)t.removeAttribute(e);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+r)}}function _e(t,e,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(e,r,""+o)}}function Oe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ji(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function js(t,e,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,f=o.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return c.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(t,e,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Gt(t){if(!t._valueTracker){var e=ji(t)?"checked":"value";t._valueTracker=js(t,e,""+t[e])}}function Pr(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),o="";return t&&(o=ji(t)?t.checked?"true":"false":t.value),t=o,t!==r?(e.setValue(t),!0):!1}function ei(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Br=/[\n"\\]/g;function tn(t){return t.replace(Br,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function ba(t,e,r,o,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),e!=null?g==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Oe(e)):t.value!==""+Oe(e)&&(t.value=""+Oe(e)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),e!=null?qs(t,g,Oe(e)):r!=null?qs(t,g,Oe(r)):o!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Oe(E):t.removeAttribute("name")}function yl(t,e,r,o,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),e!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||e!=null)){Gt(t);return}r=r!=null?""+Oe(r):"",e=e!=null?""+Oe(e):r,E||e===t.value||(t.value=e),t.defaultValue=e}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Gt(t)}function qs(t,e,r){e==="number"&&ei(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function qi(t,e,r,o){if(t=t.options,e){e={};for(var c=0;c<r.length;c++)e["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=e.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&o&&(t[r].defaultSelected=!0)}else{for(r=""+Oe(r),e=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,o&&(t[c].defaultSelected=!0);return}e!==null||t[c].disabled||(e=t[c])}e!==null&&(e.selected=!0)}}function _l(t,e,r){if(e!=null&&(e=""+Oe(e),e!==t.value&&(t.value=e),r==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=r!=null?""+Oe(r):""}function Hi(t,e,r,o){if(e==null){if(o!=null){if(r!=null)throw Error(a(92));if(we(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),e=r}r=Oe(e),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),Gt(t)}function en(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var vl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hs(t,e,r){var o=e.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":o?t.setProperty(e,r):typeof r!="number"||r===0||vl.has(e)?e==="float"?t.cssFloat=r:t[e]=(""+r).trim():t[e]=r+"px"}function Gs(t,e,r){if(e!=null&&typeof e!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||e!=null&&e.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var c in e)o=e[c],e.hasOwnProperty(c)&&r[c]!==o&&Hs(t,c,o)}else for(var f in e)e.hasOwnProperty(f)&&Hs(t,f,e[f])}function Ra(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var El=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wa(t){return Gi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function zn(){}var Fs=null;function En(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fi=null,ni=null;function kr(t){var e=vn(t);if(e&&(t=e.stateNode)){var r=t[Ne]||null;t:switch(t=e.stateNode,e.type){case"input":if(ba(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+tn(""+e)+'"][type="radio"]'),e=0;e<r.length;e++){var o=r[e];if(o!==t&&o.form===t.form){var c=o[Ne]||null;if(!c)throw Error(a(90));ba(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(e=0;e<r.length;e++)o=r[e],o.form===t.form&&Pr(o)}break t;case"textarea":_l(t,r.value,r.defaultValue);break t;case"select":e=r.value,e!=null&&qi(t,!!r.multiple,e,!1)}}}var Ca=!1;function Qi(t,e,r){if(Ca)return t(e,r);Ca=!0;try{var o=t(e);return o}finally{if(Ca=!1,(Fi!==null||ni!==null)&&(du(),Fi&&(e=Fi,t=ni,ni=Fi=null,kr(e),t)))for(e=0;e<t.length;e++)kr(t[e])}}function Un(t,e){var r=t.stateNode;if(r===null)return null;var o=r[Ne]||null;if(o===null)return null;r=o[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,e,typeof r));return r}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jr=!1;if(Tn)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){jr=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{jr=!1}var ii=null,Qs=null,qr=null;function Ys(){if(qr)return qr;var t,e=Qs,r=e.length,o,c="value"in ii?ii.value:ii.textContent,f=c.length;for(t=0;t<r&&e[t]===c[t];t++);var g=r-t;for(o=1;o<=g&&e[r-o]===c[f-o];o++);return qr=c.slice(t,1<o?1-o:void 0)}function Hr(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vi(){return!0}function Ln(){return!1}function Pe(t){function e(r,o,c,f,g){this._reactName=r,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?vi:Ln,this.isPropagationStopped=Ln,this}return w(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=vi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=vi)},persist:function(){},isPersistent:vi}),e}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ri=Pe(Ei),Yi=w({},Ei,{view:0,detail:0}),Ks=Pe(Yi),Ki,Da,ai,Ia=w({},Yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ai&&(ai&&t.type==="mousemove"?(Ki=t.screenX-ai.screenX,Da=t.screenY-ai.screenY):Da=Ki=0,ai=t),Ki)},movementY:function(t){return"movementY"in t?t.movementY:Da}}),Xs=Pe(Ia),Gr=w({},Ia,{dataTransfer:0}),Tl=Pe(Gr),Sl=w({},Yi,{relatedTarget:0}),Fr=Pe(Sl),Zs=w({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),Al=Pe(Zs),Va=w({},Ei,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bl=Pe(Va),Rl=w({},Ei,{data:0}),si=Pe(Rl),wl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Il(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Dl[t])?!!e[t]:!1}function Xi(){return Il}var Ze=w({},Yi,{key:function(t){if(t.key){var e=wl[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cl[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xi,charCode:function(t){return t.type==="keypress"?Hr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Vl=Pe(Ze),Ml=w({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ti=Pe(Ml),u=w({},Yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xi}),m=Pe(u),y=w({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Pe(y),U=w({},Ia,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),k=Pe(U),W=w({},Ei,{newState:0,oldState:0}),Et=Pe(W),ce=[9,13,27,32],jt=Tn&&"CompositionEvent"in window,ne=null;Tn&&"documentMode"in document&&(ne=document.documentMode);var Sn=Tn&&"TextEvent"in window&&!ne,oi=Tn&&(!jt||ne&&8<ne&&11>=ne),Pn=" ",Bn=!1;function Qr(t,e){switch(t){case"keyup":return ce.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ma(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Na=!1;function c0(t,e){switch(t){case"compositionend":return Ma(e);case"keypress":return e.which!==32?null:(Bn=!0,Pn);case"textInput":return t=e.data,t===Pn&&Bn?null:t;default:return null}}function h0(t,e){if(Na)return t==="compositionend"||!jt&&Qr(t,e)?(t=Ys(),qr=Qs=ii=null,Na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return oi&&e.locale!=="ko"?null:e.data;default:return null}}var f0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!f0[t.type]:e==="textarea"}function Fd(t,e,r,o){Fi?ni?ni.push(o):ni=[o]:Fi=o,e=Eu(e,"onChange"),0<e.length&&(r=new ri("onChange","change",null,r,o),t.push({event:r,listeners:e}))}var Js=null,$s=null;function d0(t){Cp(t,0)}function Nl(t){var e=un(t);if(Pr(e))return t}function Qd(t,e){if(t==="change")return e}var Yd=!1;if(Tn){var Tc;if(Tn){var Sc="oninput"in document;if(!Sc){var Kd=document.createElement("div");Kd.setAttribute("oninput","return;"),Sc=typeof Kd.oninput=="function"}Tc=Sc}else Tc=!1;Yd=Tc&&(!document.documentMode||9<document.documentMode)}function Xd(){Js&&(Js.detachEvent("onpropertychange",Zd),$s=Js=null)}function Zd(t){if(t.propertyName==="value"&&Nl($s)){var e=[];Fd(e,$s,t,En(t)),Qi(d0,e)}}function m0(t,e,r){t==="focusin"?(Xd(),Js=e,$s=r,Js.attachEvent("onpropertychange",Zd)):t==="focusout"&&Xd()}function g0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nl($s)}function p0(t,e){if(t==="click")return Nl(e)}function y0(t,e){if(t==="input"||t==="change")return Nl(e)}function _0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hn=typeof Object.is=="function"?Object.is:_0;function Ws(t,e){if(hn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),o=Object.keys(e);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var c=r[o];if(!me.call(e,c)||!hn(t[c],e[c]))return!1}return!0}function Jd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $d(t,e){var r=Jd(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=e&&o>=e)return{node:r,offset:e-t};t=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Jd(r)}}function Wd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Wd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=ei(t.document);e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ei(t.document)}return e}function Ac(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var v0=Tn&&"documentMode"in document&&11>=document.documentMode,Oa=null,bc=null,to=null,Rc=!1;function em(t,e,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Rc||Oa==null||Oa!==ei(o)||(o=Oa,"selectionStart"in o&&Ac(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),to&&Ws(to,o)||(to=o,o=Eu(bc,"onSelect"),0<o.length&&(e=new ri("onSelect","select",null,e,r),t.push({event:e,listeners:o}),e.target=Oa)))}function Yr(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var xa={animationend:Yr("Animation","AnimationEnd"),animationiteration:Yr("Animation","AnimationIteration"),animationstart:Yr("Animation","AnimationStart"),transitionrun:Yr("Transition","TransitionRun"),transitionstart:Yr("Transition","TransitionStart"),transitioncancel:Yr("Transition","TransitionCancel"),transitionend:Yr("Transition","TransitionEnd")},wc={},nm={};Tn&&(nm=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Kr(t){if(wc[t])return wc[t];if(!xa[t])return t;var e=xa[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in nm)return wc[t]=e[r];return t}var im=Kr("animationend"),rm=Kr("animationiteration"),am=Kr("animationstart"),E0=Kr("transitionrun"),T0=Kr("transitionstart"),S0=Kr("transitioncancel"),sm=Kr("transitionend"),om=new Map,Cc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cc.push("scrollEnd");function kn(t,e){om.set(t,e),Wn(e,[t])}var Ol=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},An=[],za=0,Dc=0;function xl(){for(var t=za,e=Dc=za=0;e<t;){var r=An[e];An[e++]=null;var o=An[e];An[e++]=null;var c=An[e];An[e++]=null;var f=An[e];if(An[e++]=null,o!==null&&c!==null){var g=o.pending;g===null?c.next=c:(c.next=g.next,g.next=c),o.pending=c}f!==0&&lm(r,c,f)}}function zl(t,e,r,o){An[za++]=t,An[za++]=e,An[za++]=r,An[za++]=o,Dc|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Ic(t,e,r,o){return zl(t,e,r,o),Ul(t)}function Xr(t,e){return zl(t,null,null,e),Ul(t)}function lm(t,e,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&e!==null&&(c=31-ue(r),t=f.hiddenUpdates,o=t[c],o===null?t[c]=[e]:o.push(e),e.lane=r|536870912),f):null}function Ul(t){if(50<Ao)throw Ao=0,Ph=null,Error(a(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Ua={};function A0(t,e,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,e,r,o){return new A0(t,e,r,o)}function Vc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Si(t,e){var r=t.alternate;return r===null?(r=fn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function um(t,e){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,e=r.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Ll(t,e,r,o,c,f){var g=0;if(o=t,typeof t=="function")Vc(t)&&(g=1);else if(typeof t=="string")g=DE(t,r,it.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case D:return t=fn(31,r,e,c),t.elementType=D,t.lanes=f,t;case $:return Zr(r.children,c,f,e);case X:g=8,c|=24;break;case ut:return t=fn(12,r,e,c|2),t.elementType=ut,t.lanes=f,t;case Ut:return t=fn(13,r,e,c),t.elementType=Ut,t.lanes=f,t;case st:return t=fn(19,r,e,c),t.elementType=st,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ot:g=10;break t;case ft:g=9;break t;case wt:g=11;break t;case b:g=14;break t;case A:g=16,o=null;break t}g=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return e=fn(g,r,e,c),e.elementType=t,e.type=o,e.lanes=f,e}function Zr(t,e,r,o){return t=fn(7,t,o,e),t.lanes=r,t}function Mc(t,e,r){return t=fn(6,t,null,e),t.lanes=r,t}function cm(t){var e=fn(18,null,null,0);return e.stateNode=t,e}function Nc(t,e,r){return e=fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var hm=new WeakMap;function bn(t,e){if(typeof t=="object"&&t!==null){var r=hm.get(t);return r!==void 0?r:(e={value:t,source:e,stack:Ms(e)},hm.set(t,e),e)}return{value:t,source:e,stack:Ms(e)}}var La=[],Pa=0,Pl=null,eo=0,Rn=[],wn=0,Zi=null,li=1,ui="";function Ai(t,e){La[Pa++]=eo,La[Pa++]=Pl,Pl=t,eo=e}function fm(t,e,r){Rn[wn++]=li,Rn[wn++]=ui,Rn[wn++]=Zi,Zi=t;var o=li;t=ui;var c=32-ue(o)-1;o&=~(1<<c),r+=1;var f=32-ue(e)+c;if(30<f){var g=c-c%5;f=(o&(1<<g)-1).toString(32),o>>=g,c-=g,li=1<<32-ue(e)+c|r<<c|o,ui=f+t}else li=1<<f|r<<c|o,ui=t}function Oc(t){t.return!==null&&(Ai(t,1),fm(t,1,0))}function xc(t){for(;t===Pl;)Pl=La[--Pa],La[Pa]=null,eo=La[--Pa],La[Pa]=null;for(;t===Zi;)Zi=Rn[--wn],Rn[wn]=null,ui=Rn[--wn],Rn[wn]=null,li=Rn[--wn],Rn[wn]=null}function dm(t,e){Rn[wn++]=li,Rn[wn++]=ui,Rn[wn++]=Zi,li=e.id,ui=e.overflow,Zi=t}var Be=null,Wt=null,It=!1,Ji=null,Cn=!1,zc=Error(a(519));function $i(t){var e=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw no(bn(e,t)),zc}function mm(t){var e=t.stateNode,r=t.type,o=t.memoizedProps;switch(e[pe]=t,e[Ne]=o,r){case"dialog":Rt("cancel",e),Rt("close",e);break;case"iframe":case"object":case"embed":Rt("load",e);break;case"video":case"audio":for(r=0;r<Ro.length;r++)Rt(Ro[r],e);break;case"source":Rt("error",e);break;case"img":case"image":case"link":Rt("error",e),Rt("load",e);break;case"details":Rt("toggle",e);break;case"input":Rt("invalid",e),yl(e,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Rt("invalid",e);break;case"textarea":Rt("invalid",e),Hi(e,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||e.textContent===""+r||o.suppressHydrationWarning===!0||Mp(e.textContent,r)?(o.popover!=null&&(Rt("beforetoggle",e),Rt("toggle",e)),o.onScroll!=null&&Rt("scroll",e),o.onScrollEnd!=null&&Rt("scrollend",e),o.onClick!=null&&(e.onclick=zn),e=!0):e=!1,e||$i(t,!0)}function gm(t){for(Be=t.return;Be;)switch(Be.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:Be=Be.return}}function Ba(t){if(t!==Be)return!1;if(!It)return gm(t),It=!0,!1;var e=t.tag,r;if((r=e!==3&&e!==27)&&((r=e===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Wh(t.type,t.memoizedProps)),r=!r),r&&Wt&&$i(t),gm(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Wt=kp(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Wt=kp(t)}else e===27?(e=Wt,fr(t.type)?(t=af,af=null,Wt=t):Wt=e):Wt=Be?In(t.stateNode.nextSibling):null;return!0}function Jr(){Wt=Be=null,It=!1}function Uc(){var t=Ji;return t!==null&&(sn===null?sn=t:sn.push.apply(sn,t),Ji=null),t}function no(t){Ji===null?Ji=[t]:Ji.push(t)}var Lc=N(null),$r=null,bi=null;function Wi(t,e,r){nt(Lc,e._currentValue),e._currentValue=r}function Ri(t){t._currentValue=Lc.current,Y(Lc)}function Pc(t,e,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),t===r)break;t=t.return}}function Bc(t,e,r,o){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var C=0;C<e.length;C++)if(E.context===e[C]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Pc(f.return,r,t),o||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Pc(g,r,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function ka(t,e,r,o){t=null;for(var c=e,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=c.type;hn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===Mt.current){if(g=c.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Vo):t=[Vo])}c=c.return}t!==null&&Bc(e,t,r,o),e.flags|=262144}function Bl(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Wr(t){$r=t,bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ke(t){return pm($r,t)}function kl(t,e){return $r===null&&Wr(t),pm(t,e)}function pm(t,e){var r=e._currentValue;if(e={context:e,memoizedValue:r,next:null},bi===null){if(t===null)throw Error(a(308));bi=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else bi=bi.next=e;return r}var b0=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){e.aborted=!0,t.forEach(function(r){return r()})}},R0=s.unstable_scheduleCallback,w0=s.unstable_NormalPriority,ve={$$typeof:ot,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kc(){return{controller:new b0,data:new Map,refCount:0}}function io(t){t.refCount--,t.refCount===0&&R0(w0,function(){t.controller.abort()})}var ro=null,jc=0,ja=0,qa=null;function C0(t,e){if(ro===null){var r=ro=[];jc=0,ja=Gh(),qa={status:"pending",value:void 0,then:function(o){r.push(o)}}}return jc++,e.then(ym,ym),e}function ym(){if(--jc===0&&ro!==null){qa!==null&&(qa.status="fulfilled");var t=ro;ro=null,ja=0,qa=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function D0(t,e){var r=[],o={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){o.status="fulfilled",o.value=e;for(var c=0;c<r.length;c++)(0,r[c])(e)},function(c){for(o.status="rejected",o.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),o}var _m=G.S;G.S=function(t,e){ep=Xe(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&C0(t,e),_m!==null&&_m(t,e)};var ta=N(null);function qc(){var t=ta.current;return t!==null?t:Jt.pooledCache}function jl(t,e){e===null?nt(ta,ta.current):nt(ta,e.pool)}function vm(){var t=qc();return t===null?null:{parent:ve._currentValue,pool:t}}var Ha=Error(a(460)),Hc=Error(a(474)),ql=Error(a(542)),Hl={then:function(){}};function Em(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Tm(t,e,r){switch(r=t[r],r===void 0?t.push(e):r!==e&&(e.then(zn,zn),e=r),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Am(t),t;default:if(typeof e.status=="string")e.then(zn,zn);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=e,t.status="pending",t.then(function(o){if(e.status==="pending"){var c=e;c.status="fulfilled",c.value=o}},function(o){if(e.status==="pending"){var c=e;c.status="rejected",c.reason=o}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Am(t),t}throw na=e,Ha}}function ea(t){try{var e=t._init;return e(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(na=r,Ha):r}}var na=null;function Sm(){if(na===null)throw Error(a(459));var t=na;return na=null,t}function Am(t){if(t===Ha||t===ql)throw Error(a(483))}var Ga=null,ao=0;function Gl(t){var e=ao;return ao+=1,Ga===null&&(Ga=[]),Tm(Ga,t,e)}function so(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Fl(t,e){throw e.$$typeof===I?Error(a(525)):(t=Object.prototype.toString.call(e),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function bm(t){function e(x,M){if(t){var L=x.deletions;L===null?(x.deletions=[M],x.flags|=16):L.push(M)}}function r(x,M){if(!t)return null;for(;M!==null;)e(x,M),M=M.sibling;return null}function o(x){for(var M=new Map;x!==null;)x.key!==null?M.set(x.key,x):M.set(x.index,x),x=x.sibling;return M}function c(x,M){return x=Si(x,M),x.index=0,x.sibling=null,x}function f(x,M,L){return x.index=L,t?(L=x.alternate,L!==null?(L=L.index,L<M?(x.flags|=67108866,M):L):(x.flags|=67108866,M)):(x.flags|=1048576,M)}function g(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,M,L,F){return M===null||M.tag!==6?(M=Mc(L,x.mode,F),M.return=x,M):(M=c(M,L),M.return=x,M)}function C(x,M,L,F){var ht=L.type;return ht===$?H(x,M,L.props.children,F,L.key):M!==null&&(M.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===A&&ea(ht)===M.type)?(M=c(M,L.props),so(M,L),M.return=x,M):(M=Ll(L.type,L.key,L.props,null,x.mode,F),so(M,L),M.return=x,M)}function P(x,M,L,F){return M===null||M.tag!==4||M.stateNode.containerInfo!==L.containerInfo||M.stateNode.implementation!==L.implementation?(M=Nc(L,x.mode,F),M.return=x,M):(M=c(M,L.children||[]),M.return=x,M)}function H(x,M,L,F,ht){return M===null||M.tag!==7?(M=Zr(L,x.mode,F,ht),M.return=x,M):(M=c(M,L),M.return=x,M)}function Q(x,M,L){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Mc(""+M,x.mode,L),M.return=x,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case q:return L=Ll(M.type,M.key,M.props,null,x.mode,L),so(L,M),L.return=x,L;case J:return M=Nc(M,x.mode,L),M.return=x,M;case A:return M=ea(M),Q(x,M,L)}if(we(M)||z(M))return M=Zr(M,x.mode,L,null),M.return=x,M;if(typeof M.then=="function")return Q(x,Gl(M),L);if(M.$$typeof===ot)return Q(x,kl(x,M),L);Fl(x,M)}return null}function B(x,M,L,F){var ht=M!==null?M.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ht!==null?null:E(x,M,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case q:return L.key===ht?C(x,M,L,F):null;case J:return L.key===ht?P(x,M,L,F):null;case A:return L=ea(L),B(x,M,L,F)}if(we(L)||z(L))return ht!==null?null:H(x,M,L,F,null);if(typeof L.then=="function")return B(x,M,Gl(L),F);if(L.$$typeof===ot)return B(x,M,kl(x,L),F);Fl(x,L)}return null}function j(x,M,L,F,ht){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return x=x.get(L)||null,E(M,x,""+F,ht);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case q:return x=x.get(F.key===null?L:F.key)||null,C(M,x,F,ht);case J:return x=x.get(F.key===null?L:F.key)||null,P(M,x,F,ht);case A:return F=ea(F),j(x,M,L,F,ht)}if(we(F)||z(F))return x=x.get(L)||null,H(M,x,F,ht,null);if(typeof F.then=="function")return j(x,M,L,Gl(F),ht);if(F.$$typeof===ot)return j(x,M,L,kl(M,F),ht);Fl(M,F)}return null}function at(x,M,L,F){for(var ht=null,Bt=null,lt=M,At=M=0,Dt=null;lt!==null&&At<L.length;At++){lt.index>At?(Dt=lt,lt=null):Dt=lt.sibling;var kt=B(x,lt,L[At],F);if(kt===null){lt===null&&(lt=Dt);break}t&&lt&&kt.alternate===null&&e(x,lt),M=f(kt,M,At),Bt===null?ht=kt:Bt.sibling=kt,Bt=kt,lt=Dt}if(At===L.length)return r(x,lt),It&&Ai(x,At),ht;if(lt===null){for(;At<L.length;At++)lt=Q(x,L[At],F),lt!==null&&(M=f(lt,M,At),Bt===null?ht=lt:Bt.sibling=lt,Bt=lt);return It&&Ai(x,At),ht}for(lt=o(lt);At<L.length;At++)Dt=j(lt,x,At,L[At],F),Dt!==null&&(t&&Dt.alternate!==null&&lt.delete(Dt.key===null?At:Dt.key),M=f(Dt,M,At),Bt===null?ht=Dt:Bt.sibling=Dt,Bt=Dt);return t&&lt.forEach(function(yr){return e(x,yr)}),It&&Ai(x,At),ht}function gt(x,M,L,F){if(L==null)throw Error(a(151));for(var ht=null,Bt=null,lt=M,At=M=0,Dt=null,kt=L.next();lt!==null&&!kt.done;At++,kt=L.next()){lt.index>At?(Dt=lt,lt=null):Dt=lt.sibling;var yr=B(x,lt,kt.value,F);if(yr===null){lt===null&&(lt=Dt);break}t&&lt&&yr.alternate===null&&e(x,lt),M=f(yr,M,At),Bt===null?ht=yr:Bt.sibling=yr,Bt=yr,lt=Dt}if(kt.done)return r(x,lt),It&&Ai(x,At),ht;if(lt===null){for(;!kt.done;At++,kt=L.next())kt=Q(x,kt.value,F),kt!==null&&(M=f(kt,M,At),Bt===null?ht=kt:Bt.sibling=kt,Bt=kt);return It&&Ai(x,At),ht}for(lt=o(lt);!kt.done;At++,kt=L.next())kt=j(lt,x,At,kt.value,F),kt!==null&&(t&&kt.alternate!==null&&lt.delete(kt.key===null?At:kt.key),M=f(kt,M,At),Bt===null?ht=kt:Bt.sibling=kt,Bt=kt);return t&&lt.forEach(function(BE){return e(x,BE)}),It&&Ai(x,At),ht}function Zt(x,M,L,F){if(typeof L=="object"&&L!==null&&L.type===$&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case q:t:{for(var ht=L.key;M!==null;){if(M.key===ht){if(ht=L.type,ht===$){if(M.tag===7){r(x,M.sibling),F=c(M,L.props.children),F.return=x,x=F;break t}}else if(M.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===A&&ea(ht)===M.type){r(x,M.sibling),F=c(M,L.props),so(F,L),F.return=x,x=F;break t}r(x,M);break}else e(x,M);M=M.sibling}L.type===$?(F=Zr(L.props.children,x.mode,F,L.key),F.return=x,x=F):(F=Ll(L.type,L.key,L.props,null,x.mode,F),so(F,L),F.return=x,x=F)}return g(x);case J:t:{for(ht=L.key;M!==null;){if(M.key===ht)if(M.tag===4&&M.stateNode.containerInfo===L.containerInfo&&M.stateNode.implementation===L.implementation){r(x,M.sibling),F=c(M,L.children||[]),F.return=x,x=F;break t}else{r(x,M);break}else e(x,M);M=M.sibling}F=Nc(L,x.mode,F),F.return=x,x=F}return g(x);case A:return L=ea(L),Zt(x,M,L,F)}if(we(L))return at(x,M,L,F);if(z(L)){if(ht=z(L),typeof ht!="function")throw Error(a(150));return L=ht.call(L),gt(x,M,L,F)}if(typeof L.then=="function")return Zt(x,M,Gl(L),F);if(L.$$typeof===ot)return Zt(x,M,kl(x,L),F);Fl(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,M!==null&&M.tag===6?(r(x,M.sibling),F=c(M,L),F.return=x,x=F):(r(x,M),F=Mc(L,x.mode,F),F.return=x,x=F),g(x)):r(x,M)}return function(x,M,L,F){try{ao=0;var ht=Zt(x,M,L,F);return Ga=null,ht}catch(lt){if(lt===Ha||lt===ql)throw lt;var Bt=fn(29,lt,null,x.mode);return Bt.lanes=F,Bt.return=x,Bt}}}var ia=bm(!0),Rm=bm(!1),tr=!1;function Gc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function er(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function nr(t,e,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(qt&2)!==0){var c=o.pending;return c===null?e.next=e:(e.next=c.next,c.next=e),o.pending=e,e=Ul(t),lm(t,null,r),e}return zl(t,o,e,r),Ul(t)}function oo(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194048)!==0)){var o=e.lanes;o&=t.pendingLanes,r|=o,e.lanes=r,xs(t,r)}}function Qc(t,e){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?c=f=e:f=f.next=e}else c=f=e;r={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}var Yc=!1;function lo(){if(Yc){var t=qa;if(t!==null)throw t}}function uo(t,e,r,o){Yc=!1;var c=t.updateQueue;tr=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var C=E,P=C.next;C.next=null,g===null?f=P:g.next=P,g=C;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==g&&(E===null?H.firstBaseUpdate=P:E.next=P,H.lastBaseUpdate=C))}if(f!==null){var Q=c.baseState;g=0,H=P=C=null,E=f;do{var B=E.lane&-536870913,j=B!==E.lane;if(j?(Ct&B)===B:(o&B)===B){B!==0&&B===ja&&(Yc=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=t,gt=E;B=e;var Zt=r;switch(gt.tag){case 1:if(at=gt.payload,typeof at=="function"){Q=at.call(Zt,Q,B);break t}Q=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=gt.payload,B=typeof at=="function"?at.call(Zt,Q,B):at,B==null)break t;Q=w({},Q,B);break t;case 2:tr=!0}}B=E.callback,B!==null&&(t.flags|=64,j&&(t.flags|=8192),j=c.callbacks,j===null?c.callbacks=[B]:j.push(B))}else j={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(P=H=j,C=Q):H=H.next=j,g|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;j=E,E=j.next,j.next=null,c.lastBaseUpdate=j,c.shared.pending=null}}while(!0);H===null&&(C=Q),c.baseState=C,c.firstBaseUpdate=P,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),or|=g,t.lanes=g,t.memoizedState=Q}}function wm(t,e){if(typeof t!="function")throw Error(a(191,t));t.call(e)}function Cm(t,e){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)wm(r[t],e)}var Fa=N(null),Ql=N(0);function Dm(t,e){t=xi,nt(Ql,t),nt(Fa,e),xi=t|e.baseLanes}function Kc(){nt(Ql,xi),nt(Fa,Fa.current)}function Xc(){xi=Ql.current,Y(Fa),Y(Ql)}var dn=N(null),Dn=null;function ir(t){var e=t.alternate;nt(he,he.current&1),nt(dn,t),Dn===null&&(e===null||Fa.current!==null||e.memoizedState!==null)&&(Dn=t)}function Zc(t){nt(he,he.current),nt(dn,t),Dn===null&&(Dn=t)}function Im(t){t.tag===22?(nt(he,he.current),nt(dn,t),Dn===null&&(Dn=t)):rr()}function rr(){nt(he,he.current),nt(dn,dn.current)}function mn(t){Y(dn),Dn===t&&(Dn=null),Y(he)}var he=N(0);function Yl(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||nf(r)||rf(r)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wi=0,Tt=null,Kt=null,Ee=null,Kl=!1,Qa=!1,ra=!1,Xl=0,co=0,Ya=null,I0=0;function se(){throw Error(a(321))}function Jc(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!hn(t[r],e[r]))return!1;return!0}function $c(t,e,r,o,c,f){return wi=f,Tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,G.H=t===null||t.memoizedState===null?fg:dh,ra=!1,f=r(o,c),ra=!1,Qa&&(f=Mm(e,r,o,c)),Vm(t),f}function Vm(t){G.H=mo;var e=Kt!==null&&Kt.next!==null;if(wi=0,Ee=Kt=Tt=null,Kl=!1,co=0,Ya=null,e)throw Error(a(300));t===null||Te||(t=t.dependencies,t!==null&&Bl(t)&&(Te=!0))}function Mm(t,e,r,o){Tt=t;var c=0;do{if(Qa&&(Ya=null),co=0,Qa=!1,25<=c)throw Error(a(301));if(c+=1,Ee=Kt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=dg,f=e(r,o)}while(Qa);return f}function V0(){var t=G.H,e=t.useState()[0];return e=typeof e.then=="function"?ho(e):e,t=t.useState()[0],(Kt!==null?Kt.memoizedState:null)!==t&&(Tt.flags|=1024),e}function Wc(){var t=Xl!==0;return Xl=0,t}function th(t,e,r){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r}function eh(t){if(Kl){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Kl=!1}wi=0,Ee=Kt=Tt=null,Qa=!1,co=Xl=0,Ya=null}function Je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?Tt.memoizedState=Ee=t:Ee=Ee.next=t,Ee}function fe(){if(Kt===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=Kt.next;var e=Ee===null?Tt.memoizedState:Ee.next;if(e!==null)Ee=e,Kt=t;else{if(t===null)throw Tt.alternate===null?Error(a(467)):Error(a(310));Kt=t,t={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Ee===null?Tt.memoizedState=Ee=t:Ee=Ee.next=t}return Ee}function Zl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ho(t){var e=co;return co+=1,Ya===null&&(Ya=[]),t=Tm(Ya,t,e),e=Tt,(Ee===null?e.memoizedState:Ee.next)===null&&(e=e.alternate,G.H=e===null||e.memoizedState===null?fg:dh),t}function Jl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ho(t);if(t.$$typeof===ot)return ke(t)}throw Error(a(438,String(t)))}function nh(t){var e=null,r=Tt.updateQueue;if(r!==null&&(e=r.memoCache),e==null){var o=Tt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(e={data:o.data.map(function(c){return c.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),r===null&&(r=Zl(),Tt.updateQueue=r),r.memoCache=e,r=e.data[e.index],r===void 0)for(r=e.data[e.index]=Array(t),o=0;o<t;o++)r[o]=O;return e.index++,r}function Ci(t,e){return typeof e=="function"?e(t):e}function $l(t){var e=fe();return ih(e,Kt,t)}function ih(t,e,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var c=t.baseQueue,f=o.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}e.baseQueue=c=f,o.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{e=c.next;var E=g=null,C=null,P=e,H=!1;do{var Q=P.lane&-536870913;if(Q!==P.lane?(Ct&Q)===Q:(wi&Q)===Q){var B=P.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Q===ja&&(H=!0);else if((wi&B)===B){P=P.next,B===ja&&(H=!0);continue}else Q={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(E=C=Q,g=f):C=C.next=Q,Tt.lanes|=B,or|=B;Q=P.action,ra&&r(f,Q),f=P.hasEagerState?P.eagerState:r(f,Q)}else B={lane:Q,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(E=C=B,g=f):C=C.next=B,Tt.lanes|=Q,or|=Q;P=P.next}while(P!==null&&P!==e);if(C===null?g=f:C.next=E,!hn(f,t.memoizedState)&&(Te=!0,H&&(r=qa,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=C,o.lastRenderedState=f}return c===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function rh(t){var e=fe(),r=e.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,c=r.pending,f=e.memoizedState;if(c!==null){r.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);hn(f,e.memoizedState)||(Te=!0),e.memoizedState=f,e.baseQueue===null&&(e.baseState=f),r.lastRenderedState=f}return[f,o]}function Nm(t,e,r){var o=Tt,c=fe(),f=It;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=e();var g=!hn((Kt||c).memoizedState,r);if(g&&(c.memoizedState=r,Te=!0),c=c.queue,oh(zm.bind(null,o,c,t),[t]),c.getSnapshot!==e||g||Ee!==null&&Ee.memoizedState.tag&1){if(o.flags|=2048,Ka(9,{destroy:void 0},xm.bind(null,o,c,r,e),null),Jt===null)throw Error(a(349));f||(wi&127)!==0||Om(o,e,r)}return r}function Om(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Tt.updateQueue,e===null?(e=Zl(),Tt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function xm(t,e,r,o){e.value=r,e.getSnapshot=o,Um(e)&&Lm(t)}function zm(t,e,r){return r(function(){Um(e)&&Lm(t)})}function Um(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!hn(t,r)}catch{return!0}}function Lm(t){var e=Xr(t,2);e!==null&&on(e,t,2)}function ah(t){var e=Je();if(typeof t=="function"){var r=t;if(t=r(),ra){_n(!0);try{r()}finally{_n(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:t},e}function Pm(t,e,r,o){return t.baseState=r,ih(t,Kt,typeof o=="function"?o:Ci)}function M0(t,e,r,o,c){if(eu(t))throw Error(a(485));if(t=e.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?r(!0):f.isTransition=!1,o(f),r=e.pending,r===null?(f.next=e.pending=f,Bm(e,f)):(f.next=r.next,e.pending=r.next=f)}}function Bm(t,e){var r=e.action,o=e.payload,c=t.state;if(e.isTransition){var f=G.T,g={};G.T=g;try{var E=r(c,o),C=G.S;C!==null&&C(g,E),km(t,e,E)}catch(P){sh(t,e,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=r(c,o),km(t,e,f)}catch(P){sh(t,e,P)}}function km(t,e,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){jm(t,e,o)},function(o){return sh(t,e,o)}):jm(t,e,r)}function jm(t,e,r){e.status="fulfilled",e.value=r,qm(e),t.state=r,e=t.pending,e!==null&&(r=e.next,r===e?t.pending=null:(r=r.next,e.next=r,Bm(t,r)))}function sh(t,e,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do e.status="rejected",e.reason=r,qm(e),e=e.next;while(e!==o)}t.action=null}function qm(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Hm(t,e){return e}function Gm(t,e){if(It){var r=Jt.formState;if(r!==null){t:{var o=Tt;if(It){if(Wt){e:{for(var c=Wt,f=Cn;c.nodeType!==8;){if(!f){c=null;break e}if(c=In(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Wt=In(c.nextSibling),o=c.data==="F!";break t}}$i(o)}o=!1}o&&(e=r[0])}}return r=Je(),r.memoizedState=r.baseState=e,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hm,lastRenderedState:e},r.queue=o,r=ug.bind(null,Tt,o),o.dispatch=r,o=ah(!1),f=fh.bind(null,Tt,!1,o.queue),o=Je(),c={state:e,dispatch:null,action:t,pending:null},o.queue=c,r=M0.bind(null,Tt,c,f,r),c.dispatch=r,o.memoizedState=t,[e,r,!1]}function Fm(t){var e=fe();return Qm(e,Kt,t)}function Qm(t,e,r){if(e=ih(t,e,Hm)[0],t=$l(Ci)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var o=ho(e)}catch(g){throw g===Ha?ql:g}else o=e;e=fe();var c=e.queue,f=c.dispatch;return r!==e.memoizedState&&(Tt.flags|=2048,Ka(9,{destroy:void 0},N0.bind(null,c,r),null)),[o,f,t]}function N0(t,e){t.action=e}function Ym(t){var e=fe(),r=Kt;if(r!==null)return Qm(e,r,t);fe(),e=e.memoizedState,r=fe();var o=r.queue.dispatch;return r.memoizedState=t,[e,o,!1]}function Ka(t,e,r,o){return t={tag:t,create:r,deps:o,inst:e,next:null},e=Tt.updateQueue,e===null&&(e=Zl(),Tt.updateQueue=e),r=e.lastEffect,r===null?e.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,e.lastEffect=t),t}function Km(){return fe().memoizedState}function Wl(t,e,r,o){var c=Je();Tt.flags|=t,c.memoizedState=Ka(1|e,{destroy:void 0},r,o===void 0?null:o)}function tu(t,e,r,o){var c=fe();o=o===void 0?null:o;var f=c.memoizedState.inst;Kt!==null&&o!==null&&Jc(o,Kt.memoizedState.deps)?c.memoizedState=Ka(e,f,r,o):(Tt.flags|=t,c.memoizedState=Ka(1|e,f,r,o))}function Xm(t,e){Wl(8390656,8,t,e)}function oh(t,e){tu(2048,8,t,e)}function O0(t){Tt.flags|=4;var e=Tt.updateQueue;if(e===null)e=Zl(),Tt.updateQueue=e,e.events=[t];else{var r=e.events;r===null?e.events=[t]:r.push(t)}}function Zm(t){var e=fe().memoizedState;return O0({ref:e,nextImpl:t}),function(){if((qt&2)!==0)throw Error(a(440));return e.impl.apply(void 0,arguments)}}function Jm(t,e){return tu(4,2,t,e)}function $m(t,e){return tu(4,4,t,e)}function Wm(t,e){if(typeof e=="function"){t=t();var r=e(t);return function(){typeof r=="function"?r():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function tg(t,e,r){r=r!=null?r.concat([t]):null,tu(4,4,Wm.bind(null,e,t),r)}function lh(){}function eg(t,e){var r=fe();e=e===void 0?null:e;var o=r.memoizedState;return e!==null&&Jc(e,o[1])?o[0]:(r.memoizedState=[t,e],t)}function ng(t,e){var r=fe();e=e===void 0?null:e;var o=r.memoizedState;if(e!==null&&Jc(e,o[1]))return o[0];if(o=t(),ra){_n(!0);try{t()}finally{_n(!1)}}return r.memoizedState=[o,e],o}function uh(t,e,r){return r===void 0||(wi&1073741824)!==0&&(Ct&261930)===0?t.memoizedState=e:(t.memoizedState=r,t=ip(),Tt.lanes|=t,or|=t,r)}function ig(t,e,r,o){return hn(r,e)?r:Fa.current!==null?(t=uh(t,r,o),hn(t,e)||(Te=!0),t):(wi&42)===0||(wi&1073741824)!==0&&(Ct&261930)===0?(Te=!0,t.memoizedState=r):(t=ip(),Tt.lanes|=t,or|=t,e)}function rg(t,e,r,o,c){var f=et.p;et.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,fh(t,!1,e,r);try{var C=c(),P=G.S;if(P!==null&&P(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var H=D0(C,o);fo(t,e,H,yn(t))}else fo(t,e,o,yn(t))}catch(Q){fo(t,e,{then:function(){},status:"rejected",reason:Q},yn())}finally{et.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function x0(){}function ch(t,e,r,o){if(t.tag!==5)throw Error(a(476));var c=ag(t).queue;rg(t,c,e,dt,r===null?x0:function(){return sg(t),r(o)})}function ag(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:dt},next:null};var r={};return e.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:r},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function sg(t){var e=ag(t);e.next===null&&(e=t.alternate.memoizedState),fo(t,e.next.queue,{},yn())}function hh(){return ke(Vo)}function og(){return fe().memoizedState}function lg(){return fe().memoizedState}function z0(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var r=yn();t=er(r);var o=nr(e,t,r);o!==null&&(on(o,e,r),oo(o,e,r)),e={cache:kc()},t.payload=e;return}e=e.return}}function U0(t,e,r){var o=yn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},eu(t)?cg(e,r):(r=Ic(t,e,r,o),r!==null&&(on(r,t,o),hg(r,e,o)))}function ug(t,e,r){var o=yn();fo(t,e,r,o)}function fo(t,e,r,o){var c={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(eu(t))cg(e,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=e.lastRenderedReducer,f!==null))try{var g=e.lastRenderedState,E=f(g,r);if(c.hasEagerState=!0,c.eagerState=E,hn(E,g))return zl(t,e,c,0),Jt===null&&xl(),!1}catch{}if(r=Ic(t,e,c,o),r!==null)return on(r,t,o),hg(r,e,o),!0}return!1}function fh(t,e,r,o){if(o={lane:2,revertLane:Gh(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},eu(t)){if(e)throw Error(a(479))}else e=Ic(t,r,o,2),e!==null&&on(e,t,2)}function eu(t){var e=t.alternate;return t===Tt||e!==null&&e===Tt}function cg(t,e){Qa=Kl=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function hg(t,e,r){if((r&4194048)!==0){var o=e.lanes;o&=t.pendingLanes,r|=o,e.lanes=r,xs(t,r)}}var mo={readContext:ke,use:Jl,useCallback:se,useContext:se,useEffect:se,useImperativeHandle:se,useLayoutEffect:se,useInsertionEffect:se,useMemo:se,useReducer:se,useRef:se,useState:se,useDebugValue:se,useDeferredValue:se,useTransition:se,useSyncExternalStore:se,useId:se,useHostTransitionStatus:se,useFormState:se,useActionState:se,useOptimistic:se,useMemoCache:se,useCacheRefresh:se};mo.useEffectEvent=se;var fg={readContext:ke,use:Jl,useCallback:function(t,e){return Je().memoizedState=[t,e===void 0?null:e],t},useContext:ke,useEffect:Xm,useImperativeHandle:function(t,e,r){r=r!=null?r.concat([t]):null,Wl(4194308,4,Wm.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Wl(4194308,4,t,e)},useInsertionEffect:function(t,e){Wl(4,2,t,e)},useMemo:function(t,e){var r=Je();e=e===void 0?null:e;var o=t();if(ra){_n(!0);try{t()}finally{_n(!1)}}return r.memoizedState=[o,e],o},useReducer:function(t,e,r){var o=Je();if(r!==void 0){var c=r(e);if(ra){_n(!0);try{r(e)}finally{_n(!1)}}}else c=e;return o.memoizedState=o.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},o.queue=t,t=t.dispatch=U0.bind(null,Tt,t),[o.memoizedState,t]},useRef:function(t){var e=Je();return t={current:t},e.memoizedState=t},useState:function(t){t=ah(t);var e=t.queue,r=ug.bind(null,Tt,e);return e.dispatch=r,[t.memoizedState,r]},useDebugValue:lh,useDeferredValue:function(t,e){var r=Je();return uh(r,t,e)},useTransition:function(){var t=ah(!1);return t=rg.bind(null,Tt,t.queue,!0,!1),Je().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,r){var o=Tt,c=Je();if(It){if(r===void 0)throw Error(a(407));r=r()}else{if(r=e(),Jt===null)throw Error(a(349));(Ct&127)!==0||Om(o,e,r)}c.memoizedState=r;var f={value:r,getSnapshot:e};return c.queue=f,Xm(zm.bind(null,o,f,t),[t]),o.flags|=2048,Ka(9,{destroy:void 0},xm.bind(null,o,f,r,e),null),r},useId:function(){var t=Je(),e=Jt.identifierPrefix;if(It){var r=ui,o=li;r=(o&~(1<<32-ue(o)-1)).toString(32)+r,e="_"+e+"R_"+r,r=Xl++,0<r&&(e+="H"+r.toString(32)),e+="_"}else r=I0++,e="_"+e+"r_"+r.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:hh,useFormState:Gm,useActionState:Gm,useOptimistic:function(t){var e=Je();e.memoizedState=e.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=r,e=fh.bind(null,Tt,!0,r),r.dispatch=e,[t,e]},useMemoCache:nh,useCacheRefresh:function(){return Je().memoizedState=z0.bind(null,Tt)},useEffectEvent:function(t){var e=Je(),r={impl:t};return e.memoizedState=r,function(){if((qt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},dh={readContext:ke,use:Jl,useCallback:eg,useContext:ke,useEffect:oh,useImperativeHandle:tg,useInsertionEffect:Jm,useLayoutEffect:$m,useMemo:ng,useReducer:$l,useRef:Km,useState:function(){return $l(Ci)},useDebugValue:lh,useDeferredValue:function(t,e){var r=fe();return ig(r,Kt.memoizedState,t,e)},useTransition:function(){var t=$l(Ci)[0],e=fe().memoizedState;return[typeof t=="boolean"?t:ho(t),e]},useSyncExternalStore:Nm,useId:og,useHostTransitionStatus:hh,useFormState:Fm,useActionState:Fm,useOptimistic:function(t,e){var r=fe();return Pm(r,Kt,t,e)},useMemoCache:nh,useCacheRefresh:lg};dh.useEffectEvent=Zm;var dg={readContext:ke,use:Jl,useCallback:eg,useContext:ke,useEffect:oh,useImperativeHandle:tg,useInsertionEffect:Jm,useLayoutEffect:$m,useMemo:ng,useReducer:rh,useRef:Km,useState:function(){return rh(Ci)},useDebugValue:lh,useDeferredValue:function(t,e){var r=fe();return Kt===null?uh(r,t,e):ig(r,Kt.memoizedState,t,e)},useTransition:function(){var t=rh(Ci)[0],e=fe().memoizedState;return[typeof t=="boolean"?t:ho(t),e]},useSyncExternalStore:Nm,useId:og,useHostTransitionStatus:hh,useFormState:Ym,useActionState:Ym,useOptimistic:function(t,e){var r=fe();return Kt!==null?Pm(r,Kt,t,e):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:nh,useCacheRefresh:lg};dg.useEffectEvent=Zm;function mh(t,e,r,o){e=t.memoizedState,r=r(o,e),r=r==null?e:w({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var gh={enqueueSetState:function(t,e,r){t=t._reactInternals;var o=yn(),c=er(o);c.payload=e,r!=null&&(c.callback=r),e=nr(t,c,o),e!==null&&(on(e,t,o),oo(e,t,o))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var o=yn(),c=er(o);c.tag=1,c.payload=e,r!=null&&(c.callback=r),e=nr(t,c,o),e!==null&&(on(e,t,o),oo(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=yn(),o=er(r);o.tag=2,e!=null&&(o.callback=e),e=nr(t,o,r),e!==null&&(on(e,t,r),oo(e,t,r))}};function mg(t,e,r,o,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,g):e.prototype&&e.prototype.isPureReactComponent?!Ws(r,o)||!Ws(c,f):!0}function gg(t,e,r,o){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,o),e.state!==t&&gh.enqueueReplaceState(e,e.state,null)}function aa(t,e){var r=e;if("ref"in e){r={};for(var o in e)o!=="ref"&&(r[o]=e[o])}if(t=t.defaultProps){r===e&&(r=w({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}function pg(t){Ol(t)}function yg(t){console.error(t)}function _g(t){Ol(t)}function nu(t,e){try{var r=t.onUncaughtError;r(e.value,{componentStack:e.stack})}catch(o){setTimeout(function(){throw o})}}function vg(t,e,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function ph(t,e,r){return r=er(r),r.tag=3,r.payload={element:null},r.callback=function(){nu(t,e)},r}function Eg(t){return t=er(t),t.tag=3,t}function Tg(t,e,r,o){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;t.payload=function(){return c(f)},t.callback=function(){vg(e,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){vg(e,r,o),typeof c!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function L0(t,e,r,o,c){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(e=r.alternate,e!==null&&ka(e,r,c,!0),r=dn.current,r!==null){switch(r.tag){case 31:case 13:return Dn===null?mu():r.alternate===null&&oe===0&&(oe=3),r.flags&=-257,r.flags|=65536,r.lanes=c,o===Hl?r.flags|=16384:(e=r.updateQueue,e===null?r.updateQueue=new Set([o]):e.add(o),jh(t,o,c)),!1;case 22:return r.flags|=65536,o===Hl?r.flags|=16384:(e=r.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=e):(r=e.retryQueue,r===null?e.retryQueue=new Set([o]):r.add(o)),jh(t,o,c)),!1}throw Error(a(435,r.tag))}return jh(t,o,c),mu(),!1}if(It)return e=dn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=c,o!==zc&&(t=Error(a(422),{cause:o}),no(bn(t,r)))):(o!==zc&&(e=Error(a(423),{cause:o}),no(bn(e,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,o=bn(o,r),c=ph(t.stateNode,o,c),Qc(t,c),oe!==4&&(oe=2)),!1;var f=Error(a(520),{cause:o});if(f=bn(f,r),So===null?So=[f]:So.push(f),oe!==4&&(oe=2),e===null)return!0;o=bn(o,r),r=e;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=ph(r.stateNode,o,t),Qc(r,t),!1;case 1:if(e=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(lr===null||!lr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Eg(c),Tg(c,t,r,o),Qc(r,c),!1}r=r.return}while(r!==null);return!1}var yh=Error(a(461)),Te=!1;function je(t,e,r,o){e.child=t===null?Rm(e,null,r,o):ia(e,t.child,r,o)}function Sg(t,e,r,o,c){r=r.render;var f=e.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Wr(e),o=$c(t,e,r,g,f,c),E=Wc(),t!==null&&!Te?(th(t,e,c),Di(t,e,c)):(It&&E&&Oc(e),e.flags|=1,je(t,e,o,c),e.child)}function Ag(t,e,r,o,c){if(t===null){var f=r.type;return typeof f=="function"&&!Vc(f)&&f.defaultProps===void 0&&r.compare===null?(e.tag=15,e.type=f,bg(t,e,f,o,c)):(t=Ll(r.type,null,o,e,e.mode,c),t.ref=e.ref,t.return=e,e.child=t)}if(f=t.child,!Rh(t,c)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Ws,r(g,o)&&t.ref===e.ref)return Di(t,e,c)}return e.flags|=1,t=Si(f,o),t.ref=e.ref,t.return=e,e.child=t}function bg(t,e,r,o,c){if(t!==null){var f=t.memoizedProps;if(Ws(f,o)&&t.ref===e.ref)if(Te=!1,e.pendingProps=o=f,Rh(t,c))(t.flags&131072)!==0&&(Te=!0);else return e.lanes=t.lanes,Di(t,e,c)}return _h(t,e,r,o,c)}function Rg(t,e,r,o){var c=o.children,f=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((e.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(o=e.child=t.child,c=0;o!==null;)c=c|o.lanes|o.childLanes,o=o.sibling;o=c&~f}else o=0,e.child=null;return wg(t,e,f,r,o)}if((r&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&jl(e,f!==null?f.cachePool:null),f!==null?Dm(e,f):Kc(),Im(e);else return o=e.lanes=536870912,wg(t,e,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(jl(e,f.cachePool),Dm(e,f),rr(),e.memoizedState=null):(t!==null&&jl(e,null),Kc(),rr());return je(t,e,c,r),e.child}function go(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function wg(t,e,r,o,c){var f=qc();return f=f===null?null:{parent:ve._currentValue,pool:f},e.memoizedState={baseLanes:r,cachePool:f},t!==null&&jl(e,null),Kc(),Im(e),t!==null&&ka(t,e,o,!0),e.childLanes=c,null}function iu(t,e){return e=au({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Cg(t,e,r){return ia(e,t.child,null,r),t=iu(e,e.pendingProps),t.flags|=2,mn(e),e.memoizedState=null,t}function P0(t,e,r){var o=e.pendingProps,c=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(It){if(o.mode==="hidden")return t=iu(e,o),e.lanes=536870912,go(null,t);if(Zc(e),(t=Wt)?(t=Bp(t,Cn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Zi!==null?{id:li,overflow:ui}:null,retryLane:536870912,hydrationErrors:null},r=cm(t),r.return=e,e.child=r,Be=e,Wt=null)):t=null,t===null)throw $i(e);return e.lanes=536870912,null}return iu(e,o)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(Zc(e),c)if(e.flags&256)e.flags&=-257,e=Cg(t,e,r);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(a(558));else if(Te||ka(t,e,r,!1),c=(r&t.childLanes)!==0,Te||c){if(o=Jt,o!==null&&(g=zs(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Xr(t,g),on(o,t,g),yh;mu(),e=Cg(t,e,r)}else t=f.treeContext,Wt=In(g.nextSibling),Be=e,It=!0,Ji=null,Cn=!1,t!==null&&dm(e,t),e=iu(e,o),e.flags|=4096;return e}return t=Si(t.child,{mode:o.mode,children:o.children}),t.ref=e.ref,e.child=t,t.return=e,t}function ru(t,e){var r=e.ref;if(r===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(e.flags|=4194816)}}function _h(t,e,r,o,c){return Wr(e),r=$c(t,e,r,o,void 0,c),o=Wc(),t!==null&&!Te?(th(t,e,c),Di(t,e,c)):(It&&o&&Oc(e),e.flags|=1,je(t,e,r,c),e.child)}function Dg(t,e,r,o,c,f){return Wr(e),e.updateQueue=null,r=Mm(e,o,r,c),Vm(t),o=Wc(),t!==null&&!Te?(th(t,e,f),Di(t,e,f)):(It&&o&&Oc(e),e.flags|=1,je(t,e,r,f),e.child)}function Ig(t,e,r,o,c){if(Wr(e),e.stateNode===null){var f=Ua,g=r.contextType;typeof g=="object"&&g!==null&&(f=ke(g)),f=new r(o,f),e.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=gh,e.stateNode=f,f._reactInternals=e,f=e.stateNode,f.props=o,f.state=e.memoizedState,f.refs={},Gc(e),g=r.contextType,f.context=typeof g=="object"&&g!==null?ke(g):Ua,f.state=e.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(mh(e,r,g,o),f.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&gh.enqueueReplaceState(f,f.state,null),uo(e,o,f,c),lo(),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308),o=!0}else if(t===null){f=e.stateNode;var E=e.memoizedProps,C=aa(r,E);f.props=C;var P=f.context,H=r.contextType;g=Ua,typeof H=="object"&&H!==null&&(g=ke(H));var Q=r.getDerivedStateFromProps;H=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=e.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&gg(e,f,o,g),tr=!1;var B=e.memoizedState;f.state=B,uo(e,o,f,c),lo(),P=e.memoizedState,E||B!==P||tr?(typeof Q=="function"&&(mh(e,r,Q,o),P=e.memoizedState),(C=tr||mg(e,r,C,o,B,P,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(e.flags|=4194308)):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=P),f.props=o,f.state=P,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{f=e.stateNode,Fc(t,e),g=e.memoizedProps,H=aa(r,g),f.props=H,Q=e.pendingProps,B=f.context,P=r.contextType,C=Ua,typeof P=="object"&&P!==null&&(C=ke(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Q||B!==C)&&gg(e,f,o,C),tr=!1,B=e.memoizedState,f.state=B,uo(e,o,f,c),lo();var j=e.memoizedState;g!==Q||B!==j||tr||t!==null&&t.dependencies!==null&&Bl(t.dependencies)?(typeof E=="function"&&(mh(e,r,E,o),j=e.memoizedState),(H=tr||mg(e,r,H,o,B,j,C)||t!==null&&t.dependencies!==null&&Bl(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,j,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,j,C)),typeof f.componentDidUpdate=="function"&&(e.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=j),f.props=o,f.state=j,f.context=C,o=H):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(e.flags|=1024),o=!1)}return f=o,ru(t,e),o=(e.flags&128)!==0,f||o?(f=e.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),e.flags|=1,t!==null&&o?(e.child=ia(e,t.child,null,c),e.child=ia(e,null,r,c)):je(t,e,r,c),e.memoizedState=f.state,t=e.child):t=Di(t,e,c),t}function Vg(t,e,r,o){return Jr(),e.flags|=256,je(t,e,r,o),e.child}var vh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Eh(t){return{baseLanes:t,cachePool:vm()}}function Th(t,e,r){return t=t!==null?t.childLanes&~r:0,e&&(t|=pn),t}function Mg(t,e,r){var o=e.pendingProps,c=!1,f=(e.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(he.current&2)!==0),g&&(c=!0,e.flags&=-129),g=(e.flags&32)!==0,e.flags&=-33,t===null){if(It){if(c?ir(e):rr(),(t=Wt)?(t=Bp(t,Cn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Zi!==null?{id:li,overflow:ui}:null,retryLane:536870912,hydrationErrors:null},r=cm(t),r.return=e,e.child=r,Be=e,Wt=null)):t=null,t===null)throw $i(e);return rf(t)?e.lanes=32:e.lanes=536870912,null}var E=o.children;return o=o.fallback,c?(rr(),c=e.mode,E=au({mode:"hidden",children:E},c),o=Zr(o,c,r,null),E.return=e,o.return=e,E.sibling=o,e.child=E,o=e.child,o.memoizedState=Eh(r),o.childLanes=Th(t,g,r),e.memoizedState=vh,go(null,o)):(ir(e),Sh(e,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)e.flags&256?(ir(e),e.flags&=-257,e=Ah(t,e,r)):e.memoizedState!==null?(rr(),e.child=t.child,e.flags|=128,e=null):(rr(),E=o.fallback,c=e.mode,o=au({mode:"visible",children:o.children},c),E=Zr(E,c,r,null),E.flags|=2,o.return=e,E.return=e,o.sibling=E,e.child=o,ia(e,t.child,null,r),o=e.child,o.memoizedState=Eh(r),o.childLanes=Th(t,g,r),e.memoizedState=vh,e=go(null,o));else if(ir(e),rf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(a(419)),o.stack="",o.digest=g,no({value:o,source:null,stack:null}),e=Ah(t,e,r)}else if(Te||ka(t,e,r,!1),g=(r&t.childLanes)!==0,Te||g){if(g=Jt,g!==null&&(o=zs(g,r),o!==0&&o!==C.retryLane))throw C.retryLane=o,Xr(t,o),on(g,t,o),yh;nf(E)||mu(),e=Ah(t,e,r)}else nf(E)?(e.flags|=192,e.child=t.child,e=null):(t=C.treeContext,Wt=In(E.nextSibling),Be=e,It=!0,Ji=null,Cn=!1,t!==null&&dm(e,t),e=Sh(e,o.children),e.flags|=4096);return e}return c?(rr(),E=o.fallback,c=e.mode,C=t.child,P=C.sibling,o=Si(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,P!==null?E=Si(P,E):(E=Zr(E,c,r,null),E.flags|=2),E.return=e,o.return=e,o.sibling=E,e.child=o,go(null,o),o=e.child,E=t.child.memoizedState,E===null?E=Eh(r):(c=E.cachePool,c!==null?(C=ve._currentValue,c=c.parent!==C?{parent:C,pool:C}:c):c=vm(),E={baseLanes:E.baseLanes|r,cachePool:c}),o.memoizedState=E,o.childLanes=Th(t,g,r),e.memoizedState=vh,go(t.child,o)):(ir(e),r=t.child,t=r.sibling,r=Si(r,{mode:"visible",children:o.children}),r.return=e,r.sibling=null,t!==null&&(g=e.deletions,g===null?(e.deletions=[t],e.flags|=16):g.push(t)),e.child=r,e.memoizedState=null,r)}function Sh(t,e){return e=au({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function au(t,e){return t=fn(22,t,null,e),t.lanes=0,t}function Ah(t,e,r){return ia(e,t.child,null,r),t=Sh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ng(t,e,r){t.lanes|=e;var o=t.alternate;o!==null&&(o.lanes|=e),Pc(t.return,e,r)}function bh(t,e,r,o,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:c,treeForkCount:f}:(g.isBackwards=e,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=c,g.treeForkCount=f)}function Og(t,e,r){var o=e.pendingProps,c=o.revealOrder,f=o.tail;o=o.children;var g=he.current,E=(g&2)!==0;if(E?(g=g&1|2,e.flags|=128):g&=1,nt(he,g),je(t,e,o,r),o=It?eo:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ng(t,r,e);else if(t.tag===19)Ng(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(r=e.child,c=null;r!==null;)t=r.alternate,t!==null&&Yl(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=e.child,e.child=null):(c=r.sibling,r.sibling=null),bh(e,!1,c,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,c=e.child,e.child=null;c!==null;){if(t=c.alternate,t!==null&&Yl(t)===null){e.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}bh(e,!0,r,null,f,o);break;case"together":bh(e,!1,null,null,void 0,o);break;default:e.memoizedState=null}return e.child}function Di(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),or|=e.lanes,(r&e.childLanes)===0)if(t!==null){if(ka(t,e,r,!1),(r&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(a(153));if(e.child!==null){for(t=e.child,r=Si(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Si(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Rh(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Bl(t)))}function B0(t,e,r){switch(e.tag){case 3:Ce(e,e.stateNode.containerInfo),Wi(e,ve,t.memoizedState.cache),Jr();break;case 27:case 5:Mr(e);break;case 4:Ce(e,e.stateNode.containerInfo);break;case 10:Wi(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Zc(e),null;break;case 13:var o=e.memoizedState;if(o!==null)return o.dehydrated!==null?(ir(e),e.flags|=128,null):(r&e.child.childLanes)!==0?Mg(t,e,r):(ir(e),t=Di(t,e,r),t!==null?t.sibling:null);ir(e);break;case 19:var c=(t.flags&128)!==0;if(o=(r&e.childLanes)!==0,o||(ka(t,e,r,!1),o=(r&e.childLanes)!==0),c){if(o)return Og(t,e,r);e.flags|=128}if(c=e.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),nt(he,he.current),o)break;return null;case 22:return e.lanes=0,Rg(t,e,r,e.pendingProps);case 24:Wi(e,ve,t.memoizedState.cache)}return Di(t,e,r)}function xg(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps)Te=!0;else{if(!Rh(t,r)&&(e.flags&128)===0)return Te=!1,B0(t,e,r);Te=(t.flags&131072)!==0}else Te=!1,It&&(e.flags&1048576)!==0&&fm(e,eo,e.index);switch(e.lanes=0,e.tag){case 16:t:{var o=e.pendingProps;if(t=ea(e.elementType),e.type=t,typeof t=="function")Vc(t)?(o=aa(t,o),e.tag=1,e=Ig(null,e,t,o,r)):(e.tag=0,e=_h(null,e,t,o,r));else{if(t!=null){var c=t.$$typeof;if(c===wt){e.tag=11,e=Sg(null,e,t,o,r);break t}else if(c===b){e.tag=14,e=Ag(null,e,t,o,r);break t}}throw e=$t(t)||t,Error(a(306,e,""))}}return e;case 0:return _h(t,e,e.type,e.pendingProps,r);case 1:return o=e.type,c=aa(o,e.pendingProps),Ig(t,e,o,c,r);case 3:t:{if(Ce(e,e.stateNode.containerInfo),t===null)throw Error(a(387));o=e.pendingProps;var f=e.memoizedState;c=f.element,Fc(t,e),uo(e,o,null,r);var g=e.memoizedState;if(o=g.cache,Wi(e,ve,o),o!==f.cache&&Bc(e,[ve],r,!0),lo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},e.updateQueue.baseState=f,e.memoizedState=f,e.flags&256){e=Vg(t,e,o,r);break t}else if(o!==c){c=bn(Error(a(424)),e),no(c),e=Vg(t,e,o,r);break t}else for(t=e.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Wt=In(t.firstChild),Be=e,It=!0,Ji=null,Cn=!0,r=Rm(e,null,o,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Jr(),o===c){e=Di(t,e,r);break t}je(t,e,o,r)}e=e.child}return e;case 26:return ru(t,e),t===null?(r=Fp(e.type,null,e.pendingProps,null))?e.memoizedState=r:It||(r=e.type,t=e.pendingProps,o=Tu(St.current).createElement(r),o[pe]=e,o[Ne]=t,qe(o,r,t),ye(o),e.stateNode=o):e.memoizedState=Fp(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Mr(e),t===null&&It&&(o=e.stateNode=qp(e.type,e.pendingProps,St.current),Be=e,Cn=!0,c=Wt,fr(e.type)?(af=c,Wt=In(o.firstChild)):Wt=c),je(t,e,e.pendingProps.children,r),ru(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&It&&((c=o=Wt)&&(o=gE(o,e.type,e.pendingProps,Cn),o!==null?(e.stateNode=o,Be=e,Wt=In(o.firstChild),Cn=!1,c=!0):c=!1),c||$i(e)),Mr(e),c=e.type,f=e.pendingProps,g=t!==null?t.memoizedProps:null,o=f.children,Wh(c,f)?o=null:g!==null&&Wh(c,g)&&(e.flags|=32),e.memoizedState!==null&&(c=$c(t,e,V0,null,null,r),Vo._currentValue=c),ru(t,e),je(t,e,o,r),e.child;case 6:return t===null&&It&&((t=r=Wt)&&(r=pE(r,e.pendingProps,Cn),r!==null?(e.stateNode=r,Be=e,Wt=null,t=!0):t=!1),t||$i(e)),null;case 13:return Mg(t,e,r);case 4:return Ce(e,e.stateNode.containerInfo),o=e.pendingProps,t===null?e.child=ia(e,null,o,r):je(t,e,o,r),e.child;case 11:return Sg(t,e,e.type,e.pendingProps,r);case 7:return je(t,e,e.pendingProps,r),e.child;case 8:return je(t,e,e.pendingProps.children,r),e.child;case 12:return je(t,e,e.pendingProps.children,r),e.child;case 10:return o=e.pendingProps,Wi(e,e.type,o.value),je(t,e,o.children,r),e.child;case 9:return c=e.type._context,o=e.pendingProps.children,Wr(e),c=ke(c),o=o(c),e.flags|=1,je(t,e,o,r),e.child;case 14:return Ag(t,e,e.type,e.pendingProps,r);case 15:return bg(t,e,e.type,e.pendingProps,r);case 19:return Og(t,e,r);case 31:return P0(t,e,r);case 22:return Rg(t,e,r,e.pendingProps);case 24:return Wr(e),o=ke(ve),t===null?(c=qc(),c===null&&(c=Jt,f=kc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),e.memoizedState={parent:o,cache:c},Gc(e),Wi(e,ve,c)):((t.lanes&r)!==0&&(Fc(t,e),uo(e,null,null,r),lo()),c=t.memoizedState,f=e.memoizedState,c.parent!==o?(c={parent:o,cache:o},e.memoizedState=c,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=c),Wi(e,ve,o)):(o=f.cache,Wi(e,ve,o),o!==c.cache&&Bc(e,[ve],r,!0))),je(t,e,e.pendingProps.children,r),e.child;case 29:throw e.pendingProps}throw Error(a(156,e.tag))}function Ii(t){t.flags|=4}function wh(t,e,r,o,c){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(op())t.flags|=8192;else throw na=Hl,Hc}else t.flags&=-16777217}function zg(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Zp(e))if(op())t.flags|=8192;else throw na=Hl,Hc}function su(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?fl():536870912,t.lanes|=e,$a|=e)}function po(t,e){if(!It)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function te(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(e)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=o,t.childLanes=r,e}function k0(t,e,r){var o=e.pendingProps;switch(xc(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(e),null;case 1:return te(e),null;case 3:return r=e.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),e.memoizedState.cache!==o&&(e.flags|=2048),Ri(ve),ee(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ba(e)?Ii(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Uc())),te(e),null;case 26:var c=e.type,f=e.memoizedState;return t===null?(Ii(e),f!==null?(te(e),zg(e,f)):(te(e),wh(e,c,null,o,r))):f?f!==t.memoizedState?(Ii(e),te(e),zg(e,f)):(te(e),e.flags&=-16777217):(t=t.memoizedProps,t!==o&&Ii(e),te(e),wh(e,c,t,o,r)),null;case 27:if(ya(e),r=St.current,c=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==o&&Ii(e);else{if(!o){if(e.stateNode===null)throw Error(a(166));return te(e),null}t=it.current,Ba(e)?mm(e):(t=qp(c,o,r),e.stateNode=t,Ii(e))}return te(e),null;case 5:if(ya(e),c=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==o&&Ii(e);else{if(!o){if(e.stateNode===null)throw Error(a(166));return te(e),null}if(f=it.current,Ba(e))mm(e);else{var g=Tu(St.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(c,{is:o.is}):g.createElement(c)}}f[pe]=e,f[Ne]=o;t:for(g=e.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break t;for(;g.sibling===null;){if(g.return===null||g.return===e)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}e.stateNode=f;t:switch(qe(f,c,o),c){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Ii(e)}}return te(e),wh(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,r),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==o&&Ii(e);else{if(typeof o!="string"&&e.stateNode===null)throw Error(a(166));if(t=St.current,Ba(e)){if(t=e.stateNode,r=e.memoizedProps,o=null,c=Be,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}t[pe]=e,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Mp(t.nodeValue,r)),t||$i(e,!0)}else t=Tu(t).createTextNode(o),t[pe]=e,e.stateNode=t}return te(e),null;case 31:if(r=e.memoizedState,t===null||t.memoizedState!==null){if(o=Ba(e),r!==null){if(t===null){if(!o)throw Error(a(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[pe]=e}else Jr(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;te(e),t=!1}else r=Uc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return e.flags&256?(mn(e),e):(mn(e),null);if((e.flags&128)!==0)throw Error(a(558))}return te(e),null;case 13:if(o=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Ba(e),o!==null&&o.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=e.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[pe]=e}else Jr(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;te(e),c=!1}else c=Uc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return e.flags&256?(mn(e),e):(mn(e),null)}return mn(e),(e.flags&128)!==0?(e.lanes=r,e):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=e.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)),r!==t&&r&&(e.child.flags|=8192),su(e,e.updateQueue),te(e),null);case 4:return ee(),t===null&&Kh(e.stateNode.containerInfo),te(e),null;case 10:return Ri(e.type),te(e),null;case 19:if(Y(he),o=e.memoizedState,o===null)return te(e),null;if(c=(e.flags&128)!==0,f=o.rendering,f===null)if(c)po(o,!1);else{if(oe!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(f=Yl(t),f!==null){for(e.flags|=128,po(o,!1),t=f.updateQueue,e.updateQueue=t,su(e,t),e.subtreeFlags=0,t=r,r=e.child;r!==null;)um(r,t),r=r.sibling;return nt(he,he.current&1|2),It&&Ai(e,o.treeForkCount),e.child}t=t.sibling}o.tail!==null&&Xe()>hu&&(e.flags|=128,c=!0,po(o,!1),e.lanes=4194304)}else{if(!c)if(t=Yl(f),t!==null){if(e.flags|=128,c=!0,t=t.updateQueue,e.updateQueue=t,su(e,t),po(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!It)return te(e),null}else 2*Xe()-o.renderingStartTime>hu&&r!==536870912&&(e.flags|=128,c=!0,po(o,!1),e.lanes=4194304);o.isBackwards?(f.sibling=e.child,e.child=f):(t=o.last,t!==null?t.sibling=f:e.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,r=he.current,nt(he,c?r&1|2:r&1),It&&Ai(e,o.treeForkCount),t):(te(e),null);case 22:case 23:return mn(e),Xc(),o=e.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(e.flags|=8192):o&&(e.flags|=8192),o?(r&536870912)!==0&&(e.flags&128)===0&&(te(e),e.subtreeFlags&6&&(e.flags|=8192)):te(e),r=e.updateQueue,r!==null&&su(e,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),o!==r&&(e.flags|=2048),t!==null&&Y(ta),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Ri(ve),te(e),null;case 25:return null;case 30:return null}throw Error(a(156,e.tag))}function j0(t,e){switch(xc(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ri(ve),ee(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return ya(e),null;case 31:if(e.memoizedState!==null){if(mn(e),e.alternate===null)throw Error(a(340));Jr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(mn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(a(340));Jr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Y(he),null;case 4:return ee(),null;case 10:return Ri(e.type),null;case 22:case 23:return mn(e),Xc(),t!==null&&Y(ta),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ri(ve),null;case 25:return null;default:return null}}function Ug(t,e){switch(xc(e),e.tag){case 3:Ri(ve),ee();break;case 26:case 27:case 5:ya(e);break;case 4:ee();break;case 31:e.memoizedState!==null&&mn(e);break;case 13:mn(e);break;case 19:Y(he);break;case 10:Ri(e.type);break;case 22:case 23:mn(e),Xc(),t!==null&&Y(ta);break;case 24:Ri(ve)}}function yo(t,e){try{var r=e.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var c=o.next;r=c;do{if((r.tag&t)===t){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==c)}}catch(E){Qt(e,e.return,E)}}function ar(t,e,r){try{var o=e.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&t)===t){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=e;var C=r,P=E;try{P()}catch(H){Qt(c,C,H)}}}o=o.next}while(o!==f)}}catch(H){Qt(e,e.return,H)}}function Lg(t){var e=t.updateQueue;if(e!==null){var r=t.stateNode;try{Cm(e,r)}catch(o){Qt(t,t.return,o)}}}function Pg(t,e,r){r.props=aa(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){Qt(t,e,o)}}function _o(t,e){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(c){Qt(t,e,c)}}function ci(t,e){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(c){Qt(t,e,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Qt(t,e,c)}else r.current=null}function Bg(t){var e=t.type,r=t.memoizedProps,o=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(c){Qt(t,t.return,c)}}function Ch(t,e,r){try{var o=t.stateNode;uE(o,t.type,r,e),o[Ne]=e}catch(c){Qt(t,t.return,c)}}function kg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&fr(t.type)||t.tag===4}function Dh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||kg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&fr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ih(t,e,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,e):(e=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,e.appendChild(t),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=zn));else if(o!==4&&(o===27&&fr(t.type)&&(r=t.stateNode,e=null),t=t.child,t!==null))for(Ih(t,e,r),t=t.sibling;t!==null;)Ih(t,e,r),t=t.sibling}function ou(t,e,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(o!==4&&(o===27&&fr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(ou(t,e,r),t=t.sibling;t!==null;)ou(t,e,r),t=t.sibling}function jg(t){var e=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,c=e.attributes;c.length;)e.removeAttributeNode(c[0]);qe(e,o,r),e[pe]=t,e[Ne]=r}catch(f){Qt(t,t.return,f)}}var Vi=!1,Se=!1,Vh=!1,qg=typeof WeakSet=="function"?WeakSet:Set,xe=null;function q0(t,e){if(t=t.containerInfo,Jh=Du,t=tm(t),Ac(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,C=-1,P=0,H=0,Q=t,B=null;e:for(;;){for(var j;Q!==r||c!==0&&Q.nodeType!==3||(E=g+c),Q!==f||o!==0&&Q.nodeType!==3||(C=g+o),Q.nodeType===3&&(g+=Q.nodeValue.length),(j=Q.firstChild)!==null;)B=Q,Q=j;for(;;){if(Q===t)break e;if(B===r&&++P===c&&(E=g),B===f&&++H===o&&(C=g),(j=Q.nextSibling)!==null)break;Q=B,B=Q.parentNode}Q=j}r=E===-1||C===-1?null:{start:E,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for($h={focusedElem:t,selectionRange:r},Du=!1,xe=e;xe!==null;)if(e=xe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,xe=t;else for(;xe!==null;){switch(e=xe,f=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)c=t[r],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=e,c=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var at=aa(r.type,c);t=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(gt){Qt(r,r.return,gt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,r=t.nodeType,r===9)ef(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ef(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=e.sibling,t!==null){t.return=e.return,xe=t;break}xe=e.return}}function Hg(t,e,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Ni(t,r),o&4&&yo(5,r);break;case 1:if(Ni(t,r),o&4)if(t=r.stateNode,e===null)try{t.componentDidMount()}catch(g){Qt(r,r.return,g)}else{var c=aa(r.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(c,e,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Qt(r,r.return,g)}}o&64&&Lg(r),o&512&&_o(r,r.return);break;case 3:if(Ni(t,r),o&64&&(t=r.updateQueue,t!==null)){if(e=null,r.child!==null)switch(r.child.tag){case 27:case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}try{Cm(t,e)}catch(g){Qt(r,r.return,g)}}break;case 27:e===null&&o&4&&jg(r);case 26:case 5:Ni(t,r),e===null&&o&4&&Bg(r),o&512&&_o(r,r.return);break;case 12:Ni(t,r);break;case 31:Ni(t,r),o&4&&Qg(t,r);break;case 13:Ni(t,r),o&4&&Yg(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=J0.bind(null,r),yE(t,r))));break;case 22:if(o=r.memoizedState!==null||Vi,!o){e=e!==null&&e.memoizedState!==null||Se,c=Vi;var f=Se;Vi=o,(Se=e)&&!f?Oi(t,r,(r.subtreeFlags&8772)!==0):Ni(t,r),Vi=c,Se=f}break;case 30:break;default:Ni(t,r)}}function Gg(t){var e=t.alternate;e!==null&&(t.alternate=null,Gg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Sa(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ie=null,nn=!1;function Mi(t,e,r){for(r=r.child;r!==null;)Fg(t,e,r),r=r.sibling}function Fg(t,e,r){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(Mn,r)}catch{}switch(r.tag){case 26:Se||ci(r,e),Mi(t,e,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Se||ci(r,e);var o=ie,c=nn;fr(r.type)&&(ie=r.stateNode,nn=!1),Mi(t,e,r),Co(r.stateNode),ie=o,nn=c;break;case 5:Se||ci(r,e);case 6:if(o=ie,c=nn,ie=null,Mi(t,e,r),ie=o,nn=c,ie!==null)if(nn)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(r.stateNode)}catch(f){Qt(r,e,f)}else try{ie.removeChild(r.stateNode)}catch(f){Qt(r,e,f)}break;case 18:ie!==null&&(nn?(t=ie,Lp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),ss(t)):Lp(ie,r.stateNode));break;case 4:o=ie,c=nn,ie=r.stateNode.containerInfo,nn=!0,Mi(t,e,r),ie=o,nn=c;break;case 0:case 11:case 14:case 15:ar(2,r,e),Se||ar(4,r,e),Mi(t,e,r);break;case 1:Se||(ci(r,e),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Pg(r,e,o)),Mi(t,e,r);break;case 21:Mi(t,e,r);break;case 22:Se=(o=Se)||r.memoizedState!==null,Mi(t,e,r),Se=o;break;default:Mi(t,e,r)}}function Qg(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ss(t)}catch(r){Qt(e,e.return,r)}}}function Yg(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ss(t)}catch(r){Qt(e,e.return,r)}}function H0(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new qg),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new qg),e;default:throw Error(a(435,t.tag))}}function lu(t,e){var r=H0(t);e.forEach(function(o){if(!r.has(o)){r.add(o);var c=$0.bind(null,t,o);o.then(c,c)}})}function rn(t,e){var r=e.deletions;if(r!==null)for(var o=0;o<r.length;o++){var c=r[o],f=t,g=e,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(fr(E.type)){ie=E.stateNode,nn=!1;break t}break;case 5:ie=E.stateNode,nn=!1;break t;case 3:case 4:ie=E.stateNode.containerInfo,nn=!0;break t}E=E.return}if(ie===null)throw Error(a(160));Fg(f,g,c),ie=null,nn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Kg(e,t),e=e.sibling}var jn=null;function Kg(t,e){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:rn(e,t),an(t),o&4&&(ar(3,t,t.return),yo(3,t),ar(5,t,t.return));break;case 1:rn(e,t),an(t),o&512&&(Se||r===null||ci(r,r.return)),o&64&&Vi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var c=jn;if(rn(e,t),an(t),o&512&&(Se||r===null||ci(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){t:{o=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Zn]||f[pe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),qe(f,o,r),f[pe]=t,ye(f),o=f;break t;case"link":var g=Kp("link","href",c).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(o),qe(f,o,r),c.head.appendChild(f);break;case"meta":if(g=Kp("meta","content",c).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=c.createElement(o),qe(f,o,r),c.head.appendChild(f);break;default:throw Error(a(468,o))}f[pe]=t,ye(f),o=f}t.stateNode=o}else Xp(c,t.type,t.stateNode);else t.stateNode=Yp(c,o,t.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?Xp(c,t.type,t.stateNode):Yp(c,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Ch(t,t.memoizedProps,r.memoizedProps)}break;case 27:rn(e,t),an(t),o&512&&(Se||r===null||ci(r,r.return)),r!==null&&o&4&&Ch(t,t.memoizedProps,r.memoizedProps);break;case 5:if(rn(e,t),an(t),o&512&&(Se||r===null||ci(r,r.return)),t.flags&32){c=t.stateNode;try{en(c,"")}catch(at){Qt(t,t.return,at)}}o&4&&t.stateNode!=null&&(c=t.memoizedProps,Ch(t,c,r!==null?r.memoizedProps:c)),o&1024&&(Vh=!0);break;case 6:if(rn(e,t),an(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(at){Qt(t,t.return,at)}}break;case 3:if(bu=null,c=jn,jn=Su(e.containerInfo),rn(e,t),jn=c,an(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{ss(e.containerInfo)}catch(at){Qt(t,t.return,at)}Vh&&(Vh=!1,Xg(t));break;case 4:o=jn,jn=Su(t.stateNode.containerInfo),rn(e,t),an(t),jn=o;break;case 12:rn(e,t),an(t);break;case 31:rn(e,t),an(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,lu(t,o)));break;case 13:rn(e,t),an(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(cu=Xe()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,lu(t,o)));break;case 22:c=t.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,P=Vi,H=Se;if(Vi=P||c,Se=H||C,rn(e,t),Se=H,Vi=P,an(t),o&8192)t:for(e=t.stateNode,e._visibility=c?e._visibility&-2:e._visibility|1,c&&(r===null||C||Vi||Se||sa(t)),r=null,e=t;;){if(e.tag===5||e.tag===26){if(r===null){C=r=e;try{if(f=C.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var Q=C.memoizedProps.style,B=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(at){Qt(C,C.return,at)}}}else if(e.tag===6){if(r===null){C=e;try{C.stateNode.nodeValue=c?"":C.memoizedProps}catch(at){Qt(C,C.return,at)}}}else if(e.tag===18){if(r===null){C=e;try{var j=C.stateNode;c?Pp(j,!0):Pp(C.stateNode,!1)}catch(at){Qt(C,C.return,at)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;r===e&&(r=null),e=e.return}r===e&&(r=null),e.sibling.return=e.return,e=e.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,lu(t,r))));break;case 19:rn(e,t),an(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,lu(t,o)));break;case 30:break;case 21:break;default:rn(e,t),an(t)}}function an(t){var e=t.flags;if(e&2){try{for(var r,o=t.return;o!==null;){if(kg(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=Dh(t);ou(t,f,c);break;case 5:var g=r.stateNode;r.flags&32&&(en(g,""),r.flags&=-33);var E=Dh(t);ou(t,E,g);break;case 3:case 4:var C=r.stateNode.containerInfo,P=Dh(t);Ih(t,P,C);break;default:throw Error(a(161))}}catch(H){Qt(t,t.return,H)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Xg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Xg(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Ni(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Hg(t,e.alternate,e),e=e.sibling}function sa(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ar(4,e,e.return),sa(e);break;case 1:ci(e,e.return);var r=e.stateNode;typeof r.componentWillUnmount=="function"&&Pg(e,e.return,r),sa(e);break;case 27:Co(e.stateNode);case 26:case 5:ci(e,e.return),sa(e);break;case 22:e.memoizedState===null&&sa(e);break;case 30:sa(e);break;default:sa(e)}t=t.sibling}}function Oi(t,e,r){for(r=r&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var o=e.alternate,c=t,f=e,g=f.flags;switch(f.tag){case 0:case 11:case 15:Oi(c,f,r),yo(4,f);break;case 1:if(Oi(c,f,r),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Qt(o,o.return,P)}if(o=f,c=o.updateQueue,c!==null){var E=o.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)wm(C[c],E)}catch(P){Qt(o,o.return,P)}}r&&g&64&&Lg(f),_o(f,f.return);break;case 27:jg(f);case 26:case 5:Oi(c,f,r),r&&o===null&&g&4&&Bg(f),_o(f,f.return);break;case 12:Oi(c,f,r);break;case 31:Oi(c,f,r),r&&g&4&&Qg(c,f);break;case 13:Oi(c,f,r),r&&g&4&&Yg(c,f);break;case 22:f.memoizedState===null&&Oi(c,f,r),_o(f,f.return);break;case 30:break;default:Oi(c,f,r)}e=e.sibling}}function Mh(t,e){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&io(r))}function Nh(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&io(t))}function qn(t,e,r,o){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Zg(t,e,r,o),e=e.sibling}function Zg(t,e,r,o){var c=e.flags;switch(e.tag){case 0:case 11:case 15:qn(t,e,r,o),c&2048&&yo(9,e);break;case 1:qn(t,e,r,o);break;case 3:qn(t,e,r,o),c&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&io(t)));break;case 12:if(c&2048){qn(t,e,r,o),t=e.stateNode;try{var f=e.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Qt(e,e.return,C)}}else qn(t,e,r,o);break;case 31:qn(t,e,r,o);break;case 13:qn(t,e,r,o);break;case 23:break;case 22:f=e.stateNode,g=e.alternate,e.memoizedState!==null?f._visibility&2?qn(t,e,r,o):vo(t,e):f._visibility&2?qn(t,e,r,o):(f._visibility|=2,Xa(t,e,r,o,(e.subtreeFlags&10256)!==0||!1)),c&2048&&Mh(g,e);break;case 24:qn(t,e,r,o),c&2048&&Nh(e.alternate,e);break;default:qn(t,e,r,o)}}function Xa(t,e,r,o,c){for(c=c&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var f=t,g=e,E=r,C=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:Xa(f,g,E,C,c),yo(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?Xa(f,g,E,C,c):vo(f,g):(H._visibility|=2,Xa(f,g,E,C,c)),c&&P&2048&&Mh(g.alternate,g);break;case 24:Xa(f,g,E,C,c),c&&P&2048&&Nh(g.alternate,g);break;default:Xa(f,g,E,C,c)}e=e.sibling}}function vo(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var r=t,o=e,c=o.flags;switch(o.tag){case 22:vo(r,o),c&2048&&Mh(o.alternate,o);break;case 24:vo(r,o),c&2048&&Nh(o.alternate,o);break;default:vo(r,o)}e=e.sibling}}var Eo=8192;function Za(t,e,r){if(t.subtreeFlags&Eo)for(t=t.child;t!==null;)Jg(t,e,r),t=t.sibling}function Jg(t,e,r){switch(t.tag){case 26:Za(t,e,r),t.flags&Eo&&t.memoizedState!==null&&IE(r,jn,t.memoizedState,t.memoizedProps);break;case 5:Za(t,e,r);break;case 3:case 4:var o=jn;jn=Su(t.stateNode.containerInfo),Za(t,e,r),jn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Eo,Eo=16777216,Za(t,e,r),Eo=o):Za(t,e,r));break;default:Za(t,e,r)}}function $g(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function To(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var r=0;r<e.length;r++){var o=e[r];xe=o,tp(o,t)}$g(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Wg(t),t=t.sibling}function Wg(t){switch(t.tag){case 0:case 11:case 15:To(t),t.flags&2048&&ar(9,t,t.return);break;case 3:To(t);break;case 12:To(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,uu(t)):To(t);break;default:To(t)}}function uu(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var r=0;r<e.length;r++){var o=e[r];xe=o,tp(o,t)}$g(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ar(8,e,e.return),uu(e);break;case 22:r=e.stateNode,r._visibility&2&&(r._visibility&=-3,uu(e));break;default:uu(e)}t=t.sibling}}function tp(t,e){for(;xe!==null;){var r=xe;switch(r.tag){case 0:case 11:case 15:ar(8,r,e);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:io(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,xe=o;else t:for(r=t;xe!==null;){o=xe;var c=o.sibling,f=o.return;if(Gg(o),o===r){xe=null;break t}if(c!==null){c.return=f,xe=c;break t}xe=f}}}var G0={getCacheForType:function(t){var e=ke(ve),r=e.data.get(t);return r===void 0&&(r=t(),e.data.set(t,r)),r},cacheSignal:function(){return ke(ve).controller.signal}},F0=typeof WeakMap=="function"?WeakMap:Map,qt=0,Jt=null,bt=null,Ct=0,Ft=0,gn=null,sr=!1,Ja=!1,Oh=!1,xi=0,oe=0,or=0,oa=0,xh=0,pn=0,$a=0,So=null,sn=null,zh=!1,cu=0,ep=0,hu=1/0,fu=null,lr=null,Ie=0,ur=null,Wa=null,zi=0,Uh=0,Lh=null,np=null,Ao=0,Ph=null;function yn(){return(qt&2)!==0&&Ct!==0?Ct&-Ct:G.T!==null?Gh():dl()}function ip(){if(pn===0)if((Ct&536870912)===0||It){var t=xr;xr<<=1,(xr&3932160)===0&&(xr=262144),pn=t}else pn=536870912;return t=dn.current,t!==null&&(t.flags|=32),pn}function on(t,e,r){(t===Jt&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)&&(ts(t,0),cr(t,Ct,pn,!1)),zr(t,r),((qt&2)===0||t!==Jt)&&(t===Jt&&((qt&2)===0&&(oa|=r),oe===4&&cr(t,Ct,pn,!1)),hi(t))}function rp(t,e,r){if((qt&6)!==0)throw Error(a(327));var o=!r&&(e&127)===0&&(e&t.expiredLanes)===0||Nn(t,e),c=o?K0(t,e):kh(t,e,!0),f=o;do{if(c===0){Ja&&!o&&cr(t,e,0,!1);break}else{if(r=t.current.alternate,f&&!Q0(r)){c=kh(t,e,!1),f=!1;continue}if(c===2){if(f=e,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){e=g;t:{var E=t;c=So;var C=E.current.memoizedState.isDehydrated;if(C&&(ts(E,g).flags|=256),g=kh(E,g,!1),g!==2){if(Oh&&!C){E.errorRecoveryDisabledLanes|=f,oa|=f,c=4;break t}f=sn,sn=c,f!==null&&(sn===null?sn=f:sn.push.apply(sn,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){ts(t,0),cr(t,e,0,!0);break}t:{switch(o=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((e&4194048)!==e)break;case 6:cr(o,e,pn,!sr);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((e&62914560)===e&&(c=cu+300-Xe(),10<c)){if(cr(o,e,pn,!sr),Yn(o,0,!0)!==0)break t;zi=e,o.timeoutHandle=zp(ap.bind(null,o,r,sn,fu,zh,e,pn,oa,$a,sr,f,"Throttled",-0,0),c);break t}ap(o,r,sn,fu,zh,e,pn,oa,$a,sr,f,null,-0,0)}}break}while(!0);hi(t)}function ap(t,e,r,o,c,f,g,E,C,P,H,Q,B,j){if(t.timeoutHandle=-1,Q=e.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},Jg(e,f,Q);var at=(f&62914560)===f?cu-Xe():(f&4194048)===f?ep-Xe():0;if(at=VE(Q,at),at!==null){zi=f,t.cancelPendingCommit=at(dp.bind(null,t,e,f,r,o,c,g,E,C,H,Q,null,B,j)),cr(t,f,g,!P);return}}dp(t,e,f,r,o,c,g,E,C)}function Q0(t){for(var e=t;;){var r=e.tag;if((r===0||r===11||r===15)&&e.flags&16384&&(r=e.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var c=r[o],f=c.getSnapshot;c=c.value;try{if(!hn(f(),c))return!1}catch{return!1}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function cr(t,e,r,o){e&=~xh,e&=~oa,t.suspendedLanes|=e,t.pingedLanes&=~e,o&&(t.warmLanes|=e),o=t.expirationTimes;for(var c=e;0<c;){var f=31-ue(c),g=1<<f;o[f]=-1,c&=~g}r!==0&&Ur(t,r,e)}function du(){return(qt&6)===0?(bo(0),!1):!0}function Bh(){if(bt!==null){if(Ft===0)var t=bt.return;else t=bt,bi=$r=null,eh(t),Ga=null,ao=0,t=bt;for(;t!==null;)Ug(t.alternate,t),t=t.return;bt=null}}function ts(t,e){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,fE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),zi=0,Bh(),Jt=t,bt=r=Si(t.current,null),Ct=e,Ft=0,gn=null,sr=!1,Ja=Nn(t,e),Oh=!1,$a=pn=xh=oa=or=oe=0,sn=So=null,zh=!1,(e&8)!==0&&(e|=e&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=e;0<o;){var c=31-ue(o),f=1<<c;e|=t[c],o&=~f}return xi=e,xl(),r}function sp(t,e){Tt=null,G.H=mo,e===Ha||e===ql?(e=Sm(),Ft=3):e===Hc?(e=Sm(),Ft=4):Ft=e===yh?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,gn=e,bt===null&&(oe=1,nu(t,bn(e,t.current)))}function op(){var t=dn.current;return t===null?!0:(Ct&4194048)===Ct?Dn===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?t===Dn:!1}function lp(){var t=G.H;return G.H=mo,t===null?mo:t}function up(){var t=G.A;return G.A=G0,t}function mu(){oe=4,sr||(Ct&4194048)!==Ct&&dn.current!==null||(Ja=!0),(or&134217727)===0&&(oa&134217727)===0||Jt===null||cr(Jt,Ct,pn,!1)}function kh(t,e,r){var o=qt;qt|=2;var c=lp(),f=up();(Jt!==t||Ct!==e)&&(fu=null,ts(t,e)),e=!1;var g=oe;t:do try{if(Ft!==0&&bt!==null){var E=bt,C=gn;switch(Ft){case 8:Bh(),g=6;break t;case 3:case 2:case 9:case 6:dn.current===null&&(e=!0);var P=Ft;if(Ft=0,gn=null,es(t,E,C,P),r&&Ja){g=0;break t}break;default:P=Ft,Ft=0,gn=null,es(t,E,C,P)}}Y0(),g=oe;break}catch(H){sp(t,H)}while(!0);return e&&t.shellSuspendCounter++,bi=$r=null,qt=o,G.H=c,G.A=f,bt===null&&(Jt=null,Ct=0,xl()),g}function Y0(){for(;bt!==null;)cp(bt)}function K0(t,e){var r=qt;qt|=2;var o=lp(),c=up();Jt!==t||Ct!==e?(fu=null,hu=Xe()+500,ts(t,e)):Ja=Nn(t,e);t:do try{if(Ft!==0&&bt!==null){e=bt;var f=gn;e:switch(Ft){case 1:Ft=0,gn=null,es(t,e,f,1);break;case 2:case 9:if(Em(f)){Ft=0,gn=null,hp(e);break}e=function(){Ft!==2&&Ft!==9||Jt!==t||(Ft=7),hi(t)},f.then(e,e);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Em(f)?(Ft=0,gn=null,hp(e)):(Ft=0,gn=null,es(t,e,f,7));break;case 5:var g=null;switch(bt.tag){case 26:g=bt.memoizedState;case 5:case 27:var E=bt;if(g?Zp(g):E.stateNode.complete){Ft=0,gn=null;var C=E.sibling;if(C!==null)bt=C;else{var P=E.return;P!==null?(bt=P,gu(P)):bt=null}break e}}Ft=0,gn=null,es(t,e,f,5);break;case 6:Ft=0,gn=null,es(t,e,f,6);break;case 8:Bh(),oe=6;break t;default:throw Error(a(462))}}X0();break}catch(H){sp(t,H)}while(!0);return bi=$r=null,G.H=o,G.A=c,qt=r,bt!==null?0:(Jt=null,Ct=0,xl(),oe)}function X0(){for(;bt!==null&&!pc();)cp(bt)}function cp(t){var e=xg(t.alternate,t,xi);t.memoizedProps=t.pendingProps,e===null?gu(t):bt=e}function hp(t){var e=t,r=e.alternate;switch(e.tag){case 15:case 0:e=Dg(r,e,e.pendingProps,e.type,void 0,Ct);break;case 11:e=Dg(r,e,e.pendingProps,e.type.render,e.ref,Ct);break;case 5:eh(e);default:Ug(r,e),e=bt=um(e,xi),e=xg(r,e,xi)}t.memoizedProps=t.pendingProps,e===null?gu(t):bt=e}function es(t,e,r,o){bi=$r=null,eh(e),Ga=null,ao=0;var c=e.return;try{if(L0(t,c,e,r,Ct)){oe=1,nu(t,bn(r,t.current)),bt=null;return}}catch(f){if(c!==null)throw bt=c,f;oe=1,nu(t,bn(r,t.current)),bt=null;return}e.flags&32768?(It||o===1?t=!0:Ja||(Ct&536870912)!==0?t=!1:(sr=t=!0,(o===2||o===9||o===3||o===6)&&(o=dn.current,o!==null&&o.tag===13&&(o.flags|=16384))),fp(e,t)):gu(e)}function gu(t){var e=t;do{if((e.flags&32768)!==0){fp(e,sr);return}t=e.return;var r=k0(e.alternate,e,xi);if(r!==null){bt=r;return}if(e=e.sibling,e!==null){bt=e;return}bt=e=t}while(e!==null);oe===0&&(oe=5)}function fp(t,e){do{var r=j0(t.alternate,t);if(r!==null){r.flags&=32767,bt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!e&&(t=t.sibling,t!==null)){bt=t;return}bt=t=r}while(t!==null);oe=6,bt=null}function dp(t,e,r,o,c,f,g,E,C){t.cancelPendingCommit=null;do pu();while(Ie!==0);if((qt&6)!==0)throw Error(a(327));if(e!==null){if(e===t.current)throw Error(a(177));if(f=e.lanes|e.childLanes,f|=Dc,vc(t,r,f,g,E,C),t===Jt&&(bt=Jt=null,Ct=0),Wa=e,ur=t,zi=r,Uh=f,Lh=c,np=o,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,W0(ki,function(){return _p(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,c=et.p,et.p=2,g=qt,qt|=4;try{q0(t,e,r)}finally{qt=g,et.p=c,G.T=o}}Ie=1,mp(),gp(),pp()}}function mp(){if(Ie===1){Ie=0;var t=ur,e=Wa,r=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var o=et.p;et.p=2;var c=qt;qt|=4;try{Kg(e,t);var f=$h,g=tm(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Wd(E.ownerDocument.documentElement,E)){if(C!==null&&Ac(E)){var P=C.start,H=C.end;if(H===void 0&&(H=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(H,E.value.length);else{var Q=E.ownerDocument||document,B=Q&&Q.defaultView||window;if(B.getSelection){var j=B.getSelection(),at=E.textContent.length,gt=Math.min(C.start,at),Zt=C.end===void 0?gt:Math.min(C.end,at);!j.extend&&gt>Zt&&(g=Zt,Zt=gt,gt=g);var x=$d(E,gt),M=$d(E,Zt);if(x&&M&&(j.rangeCount!==1||j.anchorNode!==x.node||j.anchorOffset!==x.offset||j.focusNode!==M.node||j.focusOffset!==M.offset)){var L=Q.createRange();L.setStart(x.node,x.offset),j.removeAllRanges(),gt>Zt?(j.addRange(L),j.extend(M.node,M.offset)):(L.setEnd(M.node,M.offset),j.addRange(L))}}}}for(Q=[],j=E;j=j.parentNode;)j.nodeType===1&&Q.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Du=!!Jh,$h=Jh=null}finally{qt=c,et.p=o,G.T=r}}t.current=e,Ie=2}}function gp(){if(Ie===2){Ie=0;var t=ur,e=Wa,r=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var o=et.p;et.p=2;var c=qt;qt|=4;try{Hg(t,e.alternate,e)}finally{qt=c,et.p=o,G.T=r}}Ie=3}}function pp(){if(Ie===4||Ie===3){Ie=0,sl();var t=ur,e=Wa,r=zi,o=np;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Ie=5:(Ie=0,Wa=ur=null,yp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(lr=null),_i(r),e=e.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(Mn,e,void 0,(e.current.flags&128)===128)}catch{}if(o!==null){e=G.T,c=et.p,et.p=2,G.T=null;try{for(var f=t.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{G.T=e,et.p=c}}(zi&3)!==0&&pu(),hi(t),c=t.pendingLanes,(r&261930)!==0&&(c&42)!==0?t===Ph?Ao++:(Ao=0,Ph=t):Ao=0,bo(0)}}function yp(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,io(e)))}function pu(){return mp(),gp(),pp(),_p()}function _p(){if(Ie!==5)return!1;var t=ur,e=Uh;Uh=0;var r=_i(zi),o=G.T,c=et.p;try{et.p=32>r?32:r,G.T=null,r=Lh,Lh=null;var f=ur,g=zi;if(Ie=0,Wa=ur=null,zi=0,(qt&6)!==0)throw Error(a(331));var E=qt;if(qt|=4,Wg(f.current),Zg(f,f.current,g,r),qt=E,bo(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(Mn,f)}catch{}return!0}finally{et.p=c,G.T=o,yp(t,e)}}function vp(t,e,r){e=bn(r,e),e=ph(t.stateNode,e,2),t=nr(t,e,2),t!==null&&(zr(t,2),hi(t))}function Qt(t,e,r){if(t.tag===3)vp(t,t,r);else for(;e!==null;){if(e.tag===3){vp(e,t,r);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(lr===null||!lr.has(o))){t=bn(r,t),r=Eg(2),o=nr(e,r,2),o!==null&&(Tg(r,o,e,t),zr(o,2),hi(o));break}}e=e.return}}function jh(t,e,r){var o=t.pingCache;if(o===null){o=t.pingCache=new F0;var c=new Set;o.set(e,c)}else c=o.get(e),c===void 0&&(c=new Set,o.set(e,c));c.has(r)||(Oh=!0,c.add(r),t=Z0.bind(null,t,e,r),e.then(t,t))}function Z0(t,e,r){var o=t.pingCache;o!==null&&o.delete(e),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Jt===t&&(Ct&r)===r&&(oe===4||oe===3&&(Ct&62914560)===Ct&&300>Xe()-cu?(qt&2)===0&&ts(t,0):xh|=r,$a===Ct&&($a=0)),hi(t)}function Ep(t,e){e===0&&(e=fl()),t=Xr(t,e),t!==null&&(zr(t,e),hi(t))}function J0(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Ep(t,r)}function $0(t,e){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(e),Ep(t,r)}function W0(t,e){return De(t,e)}var yu=null,ns=null,qh=!1,_u=!1,Hh=!1,hr=0;function hi(t){t!==ns&&t.next===null&&(ns===null?yu=ns=t:ns=ns.next=t),_u=!0,qh||(qh=!0,eE())}function bo(t,e){if(!Hh&&_u){Hh=!0;do for(var r=!1,o=yu;o!==null;){if(t!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ue(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,bp(o,f))}else f=Ct,f=Yn(o,o===Jt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Nn(o,f)||(r=!0,bp(o,f));o=o.next}while(r);Hh=!1}}function tE(){Tp()}function Tp(){_u=qh=!1;var t=0;hr!==0&&hE()&&(t=hr);for(var e=Xe(),r=null,o=yu;o!==null;){var c=o.next,f=Sp(o,e);f===0?(o.next=null,r===null?yu=c:r.next=c,c===null&&(ns=r)):(r=o,(t!==0||(f&3)!==0)&&(_u=!0)),o=c}Ie!==0&&Ie!==5||bo(t),hr!==0&&(hr=0)}function Sp(t,e){for(var r=t.suspendedLanes,o=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-ue(f),E=1<<g,C=c[g];C===-1?((E&r)===0||(E&o)!==0)&&(c[g]=_c(E,e)):C<=e&&(t.expiredLanes|=E),f&=~E}if(e=Jt,r=Ct,r=Yn(t,t===e?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===e&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Bi(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Nn(t,r)){if(e=r&-r,e===t.callbackPriority)return e;switch(o!==null&&Bi(o),_i(r)){case 2:case 8:r=Os;break;case 32:r=ki;break;case 268435456:r=ol;break;default:r=ki}return o=Ap.bind(null,t),r=De(r,o),t.callbackPriority=e,t.callbackNode=r,e}return o!==null&&o!==null&&Bi(o),t.callbackPriority=2,t.callbackNode=null,2}function Ap(t,e){if(Ie!==0&&Ie!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(pu()&&t.callbackNode!==r)return null;var o=Ct;return o=Yn(t,t===Jt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(rp(t,o,e),Sp(t,Xe()),t.callbackNode!=null&&t.callbackNode===r?Ap.bind(null,t):null)}function bp(t,e){if(pu())return null;rp(t,e,!0)}function eE(){dE(function(){(qt&6)!==0?De(Ns,tE):Tp()})}function Gh(){if(hr===0){var t=ja;t===0&&(t=Fn,Fn<<=1,(Fn&261888)===0&&(Fn=256)),hr=t}return hr}function Rp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:wa(""+t)}function wp(t,e){var r=e.ownerDocument.createElement("input");return r.name=e.name,r.value=e.value,t.id&&r.setAttribute("form",t.id),e.parentNode.insertBefore(r,e),t=new FormData(t),r.parentNode.removeChild(r),t}function nE(t,e,r,o,c){if(e==="submit"&&r&&r.stateNode===c){var f=Rp((c[Ne]||null).action),g=o.submitter;g&&(e=(e=g[Ne]||null)?Rp(e.formAction):g.getAttribute("formAction"),e!==null&&(f=e,g=null));var E=new ri("action","action",null,o,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(hr!==0){var C=g?wp(c,g):new FormData(c);ch(r,{pending:!0,data:C,method:c.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?wp(c,g):new FormData(c),ch(r,{pending:!0,data:C,method:c.method,action:f},f,C))},currentTarget:c}]})}}for(var Fh=0;Fh<Cc.length;Fh++){var Qh=Cc[Fh],iE=Qh.toLowerCase(),rE=Qh[0].toUpperCase()+Qh.slice(1);kn(iE,"on"+rE)}kn(im,"onAnimationEnd"),kn(rm,"onAnimationIteration"),kn(am,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(E0,"onTransitionRun"),kn(T0,"onTransitionStart"),kn(S0,"onTransitionCancel"),kn(sm,"onTransitionEnd"),ti("onMouseEnter",["mouseout","mouseover"]),ti("onMouseLeave",["mouseout","mouseover"]),ti("onPointerEnter",["pointerout","pointerover"]),ti("onPointerLeave",["pointerout","pointerover"]),Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ro));function Cp(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],c=o.event;o=o.listeners;t:{var f=void 0;if(e)for(var g=o.length-1;0<=g;g--){var E=o[g],C=E.instance,P=E.currentTarget;if(E=E.listener,C!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(H){Ol(H)}c.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(E=o[g],C=E.instance,P=E.currentTarget,E=E.listener,C!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(H){Ol(H)}c.currentTarget=null,f=C}}}}function Rt(t,e){var r=e[Ta];r===void 0&&(r=e[Ta]=new Set);var o=t+"__bubble";r.has(o)||(Dp(e,t,2,!1),r.add(o))}function Yh(t,e,r){var o=0;e&&(o|=4),Dp(r,t,o,e)}var vu="_reactListening"+Math.random().toString(36).slice(2);function Kh(t){if(!t[vu]){t[vu]=!0,Us.forEach(function(r){r!=="selectionchange"&&(aE.has(r)||Yh(r,!1,t),Yh(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vu]||(e[vu]=!0,Yh("selectionchange",!1,e))}}function Dp(t,e,r,o){switch(iy(e)){case 2:var c=OE;break;case 8:c=xE;break;default:c=cf}r=c.bind(null,e,r,t),c=void 0,!jr||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(c=!0),o?c!==void 0?t.addEventListener(e,r,{capture:!0,passive:c}):t.addEventListener(e,r,!0):c!==void 0?t.addEventListener(e,r,{passive:c}):t.addEventListener(e,r,!1)}function Xh(t,e,r,o,c){var f=o;if((e&1)===0&&(e&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=Jn(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue t}E=E.parentNode}}o=o.return}Qi(function(){var P=f,H=En(r),Q=[];t:{var B=om.get(t);if(B!==void 0){var j=ri,at=t;switch(t){case"keypress":if(Hr(r)===0)break t;case"keydown":case"keyup":j=Vl;break;case"focusin":at="focus",j=Fr;break;case"focusout":at="blur",j=Fr;break;case"beforeblur":case"afterblur":j=Fr;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Xs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Tl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=m;break;case im:case rm:case am:j=Al;break;case sm:j=T;break;case"scroll":case"scrollend":j=Ks;break;case"wheel":j=k;break;case"copy":case"cut":case"paste":j=bl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Ti;break;case"toggle":case"beforetoggle":j=Et}var gt=(e&4)!==0,Zt=!gt&&(t==="scroll"||t==="scrollend"),x=gt?B!==null?B+"Capture":null:B;gt=[];for(var M=P,L;M!==null;){var F=M;if(L=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||L===null||x===null||(F=Un(M,x),F!=null&&gt.push(wo(M,F,L))),Zt)break;M=M.return}0<gt.length&&(B=new j(B,at,null,r,H),Q.push({event:B,listeners:gt}))}}if((e&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",j=t==="mouseout"||t==="pointerout",B&&r!==Fs&&(at=r.relatedTarget||r.fromElement)&&(Jn(at)||at[Xn]))break t;if((j||B)&&(B=H.window===H?H:(B=H.ownerDocument)?B.defaultView||B.parentWindow:window,j?(at=r.relatedTarget||r.toElement,j=P,at=at?Jn(at):null,at!==null&&(Zt=h(at),gt=at.tag,at!==Zt||gt!==5&&gt!==27&&gt!==6)&&(at=null)):(j=null,at=P),j!==at)){if(gt=Xs,F="onMouseLeave",x="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(gt=Ti,F="onPointerLeave",x="onPointerEnter",M="pointer"),Zt=j==null?B:un(j),L=at==null?B:un(at),B=new gt(F,M+"leave",j,r,H),B.target=Zt,B.relatedTarget=L,F=null,Jn(H)===P&&(gt=new gt(x,M+"enter",at,r,H),gt.target=L,gt.relatedTarget=Zt,F=gt),Zt=F,j&&at)e:{for(gt=sE,x=j,M=at,L=0,F=x;F;F=gt(F))L++;F=0;for(var ht=M;ht;ht=gt(ht))F++;for(;0<L-F;)x=gt(x),L--;for(;0<F-L;)M=gt(M),F--;for(;L--;){if(x===M||M!==null&&x===M.alternate){gt=x;break e}x=gt(x),M=gt(M)}gt=null}else gt=null;j!==null&&Ip(Q,B,j,gt,!1),at!==null&&Zt!==null&&Ip(Q,Zt,at,gt,!0)}}t:{if(B=P?un(P):window,j=B.nodeName&&B.nodeName.toLowerCase(),j==="select"||j==="input"&&B.type==="file")var Bt=Qd;else if(Gd(B))if(Yd)Bt=y0;else{Bt=g0;var lt=m0}else j=B.nodeName,!j||j.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&Ra(P.elementType)&&(Bt=Qd):Bt=p0;if(Bt&&(Bt=Bt(t,P))){Fd(Q,Bt,r,H);break t}lt&&lt(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&qs(B,"number",B.value)}switch(lt=P?un(P):window,t){case"focusin":(Gd(lt)||lt.contentEditable==="true")&&(Oa=lt,bc=P,to=null);break;case"focusout":to=bc=Oa=null;break;case"mousedown":Rc=!0;break;case"contextmenu":case"mouseup":case"dragend":Rc=!1,em(Q,r,H);break;case"selectionchange":if(v0)break;case"keydown":case"keyup":em(Q,r,H)}var At;if(jt)t:{switch(t){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else Na?Qr(t,r)&&(Dt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Dt="onCompositionStart");Dt&&(oi&&r.locale!=="ko"&&(Na||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&Na&&(At=Ys()):(ii=H,Qs="value"in ii?ii.value:ii.textContent,Na=!0)),lt=Eu(P,Dt),0<lt.length&&(Dt=new si(Dt,t,null,r,H),Q.push({event:Dt,listeners:lt}),At?Dt.data=At:(At=Ma(r),At!==null&&(Dt.data=At)))),(At=Sn?c0(t,r):h0(t,r))&&(Dt=Eu(P,"onBeforeInput"),0<Dt.length&&(lt=new si("onBeforeInput","beforeinput",null,r,H),Q.push({event:lt,listeners:Dt}),lt.data=At)),nE(Q,t,P,r,H)}Cp(Q,e)})}function wo(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Eu(t,e){for(var r=e+"Capture",o=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Un(t,r),c!=null&&o.unshift(wo(t,c,f)),c=Un(t,e),c!=null&&o.push(wo(t,c,f))),t.tag===3)return o;t=t.return}return[]}function sE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ip(t,e,r,o,c){for(var f=e._reactName,g=[];r!==null&&r!==o;){var E=r,C=E.alternate,P=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||P===null||(C=P,c?(P=Un(r,f),P!=null&&g.unshift(wo(r,P,C))):c||(P=Un(r,f),P!=null&&g.push(wo(r,P,C)))),r=r.return}g.length!==0&&t.push({event:e,listeners:g})}var oE=/\r\n?/g,lE=/\u0000|\uFFFD/g;function Vp(t){return(typeof t=="string"?t:""+t).replace(oE,`
`).replace(lE,"")}function Mp(t,e){return e=Vp(e),Vp(t)===e}function Xt(t,e,r,o,c,f){switch(r){case"children":typeof o=="string"?e==="body"||e==="textarea"&&o===""||en(t,o):(typeof o=="number"||typeof o=="bigint")&&e!=="body"&&en(t,""+o);break;case"className":cn(t,"class",o);break;case"tabIndex":cn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":cn(t,r,o);break;case"style":Gs(t,o,f);break;case"data":if(e!=="object"){cn(t,"data",o);break}case"src":case"href":if(o===""&&(e!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=wa(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(e!=="input"&&Xt(t,e,"name",c.name,c,null),Xt(t,e,"formEncType",c.formEncType,c,null),Xt(t,e,"formMethod",c.formMethod,c,null),Xt(t,e,"formTarget",c.formTarget,c,null)):(Xt(t,e,"encType",c.encType,c,null),Xt(t,e,"method",c.method,c,null),Xt(t,e,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=wa(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=zn);break;case"onScroll":o!=null&&Rt("scroll",t);break;case"onScrollEnd":o!=null&&Rt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=wa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":Rt("beforetoggle",t),Rt("toggle",t),Aa(t,"popover",o);break;case"xlinkActuate":_e(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":_e(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":_e(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":_e(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":_e(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":_e(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":_e(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":_e(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":_e(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Aa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=El.get(r)||r,Aa(t,r,o))}}function Zh(t,e,r,o,c,f){switch(r){case"style":Gs(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?en(t,o):(typeof o=="number"||typeof o=="bigint")&&en(t,""+o);break;case"onScroll":o!=null&&Rt("scroll",t);break;case"onScrollEnd":o!=null&&Rt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ls.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),e=r.slice(2,c?r.length-7:void 0),f=t[Ne]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(e,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(e,o,c);break t}r in t?t[r]=o:o===!0?t.setAttribute(r,""):Aa(t,r,o)}}}function qe(t,e,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",t),Rt("load",t);var o=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,e));default:Xt(t,e,f,g,r,null)}}c&&Xt(t,e,"srcSet",r.srcSet,r,null),o&&Xt(t,e,"src",r.src,r,null);return;case"input":Rt("invalid",t);var E=f=g=c=null,C=null,P=null;for(o in r)if(r.hasOwnProperty(o)){var H=r[o];if(H!=null)switch(o){case"name":c=H;break;case"type":g=H;break;case"checked":C=H;break;case"defaultChecked":P=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,e));break;default:Xt(t,e,o,H,r,null)}}yl(t,f,E,C,P,g,c,!1);return;case"select":Rt("invalid",t),o=g=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Xt(t,e,c,E,r,null)}e=f,r=g,t.multiple=!!o,e!=null?qi(t,!!o,e,!1):r!=null&&qi(t,!!o,r,!0);return;case"textarea":Rt("invalid",t),f=c=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Xt(t,e,g,E,r,null)}Hi(t,o,c,f);return;case"option":for(C in r)r.hasOwnProperty(C)&&(o=r[C],o!=null)&&(C==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":Xt(t,e,C,o,r,null));return;case"dialog":Rt("beforetoggle",t),Rt("toggle",t),Rt("cancel",t),Rt("close",t);break;case"iframe":case"object":Rt("load",t);break;case"video":case"audio":for(o=0;o<Ro.length;o++)Rt(Ro[o],t);break;case"image":Rt("error",t),Rt("load",t);break;case"details":Rt("toggle",t);break;case"embed":case"source":case"link":Rt("error",t),Rt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,e));default:Xt(t,e,P,o,r,null)}return;default:if(Ra(e)){for(H in r)r.hasOwnProperty(H)&&(o=r[H],o!==void 0&&Zh(t,e,H,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Xt(t,e,E,o,r,null))}function uE(t,e,r,o){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,C=null,P=null,H=null;for(j in r){var Q=r[j];if(r.hasOwnProperty(j)&&Q!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":C=Q;default:o.hasOwnProperty(j)||Xt(t,e,j,null,o,Q)}}for(var B in o){var j=o[B];if(Q=r[B],o.hasOwnProperty(B)&&(j!=null||Q!=null))switch(B){case"type":f=j;break;case"name":c=j;break;case"checked":P=j;break;case"defaultChecked":H=j;break;case"value":g=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,e));break;default:j!==Q&&Xt(t,e,B,j,o,Q)}}ba(t,g,E,C,P,H,f,c);return;case"select":j=g=E=B=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":j=C;default:o.hasOwnProperty(f)||Xt(t,e,f,null,o,C)}for(c in o)if(f=o[c],C=r[c],o.hasOwnProperty(c)&&(f!=null||C!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&Xt(t,e,c,f,o,C)}e=E,r=g,o=j,B!=null?qi(t,!!r,B,!1):!!o!=!!r&&(e!=null?qi(t,!!r,e,!0):qi(t,!!r,r?[]:"",!1));return;case"textarea":j=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(t,e,E,null,o,c)}for(g in o)if(c=o[g],f=r[g],o.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":B=c;break;case"defaultValue":j=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Xt(t,e,g,c,o,f)}_l(t,B,j);return;case"option":for(var at in r)B=r[at],r.hasOwnProperty(at)&&B!=null&&!o.hasOwnProperty(at)&&(at==="selected"?t.selected=!1:Xt(t,e,at,null,o,B));for(C in o)B=o[C],j=r[C],o.hasOwnProperty(C)&&B!==j&&(B!=null||j!=null)&&(C==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":Xt(t,e,C,B,o,j));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in r)B=r[gt],r.hasOwnProperty(gt)&&B!=null&&!o.hasOwnProperty(gt)&&Xt(t,e,gt,null,o,B);for(P in o)if(B=o[P],j=r[P],o.hasOwnProperty(P)&&B!==j&&(B!=null||j!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,e));break;default:Xt(t,e,P,B,o,j)}return;default:if(Ra(e)){for(var Zt in r)B=r[Zt],r.hasOwnProperty(Zt)&&B!==void 0&&!o.hasOwnProperty(Zt)&&Zh(t,e,Zt,void 0,o,B);for(H in o)B=o[H],j=r[H],!o.hasOwnProperty(H)||B===j||B===void 0&&j===void 0||Zh(t,e,H,B,o,j);return}}for(var x in r)B=r[x],r.hasOwnProperty(x)&&B!=null&&!o.hasOwnProperty(x)&&Xt(t,e,x,null,o,B);for(Q in o)B=o[Q],j=r[Q],!o.hasOwnProperty(Q)||B===j||B==null&&j==null||Xt(t,e,Q,B,o,j)}function Np(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var c=r[o],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&Np(g)){for(g=0,E=c.responseEnd,o+=1;o<r.length;o++){var C=r[o],P=C.startTime;if(P>E)break;var H=C.transferSize,Q=C.initiatorType;H&&Np(Q)&&(C=C.responseEnd,g+=H*(C<E?1:(E-P)/(C-P)))}if(--o,e+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Jh=null,$h=null;function Tu(t){return t.nodeType===9?t:t.ownerDocument}function Op(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xp(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Wh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tf=null;function hE(){var t=window.event;return t&&t.type==="popstate"?t===tf?!1:(tf=t,!0):(tf=null,!1)}var zp=typeof setTimeout=="function"?setTimeout:void 0,fE=typeof clearTimeout=="function"?clearTimeout:void 0,Up=typeof Promise=="function"?Promise:void 0,dE=typeof queueMicrotask=="function"?queueMicrotask:typeof Up<"u"?function(t){return Up.resolve(null).then(t).catch(mE)}:zp;function mE(t){setTimeout(function(){throw t})}function fr(t){return t==="head"}function Lp(t,e){var r=e,o=0;do{var c=r.nextSibling;if(t.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(c),ss(e);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")Co(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Co(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Zn]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&Co(t.ownerDocument.body);r=c}while(r);ss(e)}function Pp(t,e){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?e?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(e?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function ef(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var r=e;switch(e=e.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":ef(r),Sa(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function gE(t,e,r,o){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Zn])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=In(t.nextSibling),t===null)break}return null}function pE(t,e,r){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=In(t.nextSibling),t===null))return null;return t}function Bp(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=In(t.nextSibling),t===null))return null;return t}function nf(t){return t.data==="$?"||t.data==="$~"}function rf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function yE(t,e){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||r.readyState!=="loading")e();else{var o=function(){e(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function In(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var af=null;function kp(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(e===0)return In(t.nextSibling);e--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||e++}t=t.nextSibling}return null}function jp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(e===0)return t;e--}else r!=="/$"&&r!=="/&"||e++}t=t.previousSibling}return null}function qp(t,e,r){switch(e=Tu(r),t){case"html":if(t=e.documentElement,!t)throw Error(a(452));return t;case"head":if(t=e.head,!t)throw Error(a(453));return t;case"body":if(t=e.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Co(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Sa(t)}var Vn=new Map,Hp=new Set;function Su(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ui=et.d;et.d={f:_E,r:vE,D:EE,C:TE,L:SE,m:AE,X:RE,S:bE,M:wE};function _E(){var t=Ui.f(),e=du();return t||e}function vE(t){var e=vn(t);e!==null&&e.tag===5&&e.type==="form"?sg(e):Ui.r(t)}var is=typeof document>"u"?null:document;function Gp(t,e,r){var o=is;if(o&&typeof e=="string"&&e){var c=tn(e);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Hp.has(c)||(Hp.add(c),t={rel:t,crossOrigin:r,href:e},o.querySelector(c)===null&&(e=o.createElement("link"),qe(e,"link",t),ye(e),o.head.appendChild(e)))}}function EE(t){Ui.D(t),Gp("dns-prefetch",t,null)}function TE(t,e){Ui.C(t,e),Gp("preconnect",t,e)}function SE(t,e,r){Ui.L(t,e,r);var o=is;if(o&&t&&e){var c='link[rel="preload"][as="'+tn(e)+'"]';e==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+tn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+tn(r.imageSizes)+'"]')):c+='[href="'+tn(t)+'"]';var f=c;switch(e){case"style":f=rs(t);break;case"script":f=as(t)}Vn.has(f)||(t=w({rel:"preload",href:e==="image"&&r&&r.imageSrcSet?void 0:t,as:e},r),Vn.set(f,t),o.querySelector(c)!==null||e==="style"&&o.querySelector(Do(f))||e==="script"&&o.querySelector(Io(f))||(e=o.createElement("link"),qe(e,"link",t),ye(e),o.head.appendChild(e)))}}function AE(t,e){Ui.m(t,e);var r=is;if(r&&t){var o=e&&typeof e.as=="string"?e.as:"script",c='link[rel="modulepreload"][as="'+tn(o)+'"][href="'+tn(t)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=as(t)}if(!Vn.has(f)&&(t=w({rel:"modulepreload",href:t},e),Vn.set(f,t),r.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Io(f)))return}o=r.createElement("link"),qe(o,"link",t),ye(o),r.head.appendChild(o)}}}function bE(t,e,r){Ui.S(t,e,r);var o=is;if(o&&t){var c=$n(o).hoistableStyles,f=rs(t);e=e||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(Do(f)))E.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":e},r),(r=Vn.get(f))&&sf(t,r);var C=g=o.createElement("link");ye(C),qe(C,"link",t),C._p=new Promise(function(P,H){C.onload=P,C.onerror=H}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Au(g,e,o)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function RE(t,e){Ui.X(t,e);var r=is;if(r&&t){var o=$n(r).hoistableScripts,c=as(t),f=o.get(c);f||(f=r.querySelector(Io(c)),f||(t=w({src:t,async:!0},e),(e=Vn.get(c))&&of(t,e),f=r.createElement("script"),ye(f),qe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function wE(t,e){Ui.M(t,e);var r=is;if(r&&t){var o=$n(r).hoistableScripts,c=as(t),f=o.get(c);f||(f=r.querySelector(Io(c)),f||(t=w({src:t,async:!0,type:"module"},e),(e=Vn.get(c))&&of(t,e),f=r.createElement("script"),ye(f),qe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function Fp(t,e,r,o){var c=(c=St.current)?Su(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(e=rs(r.href),r=$n(c).hoistableStyles,o=r.get(e),o||(o={type:"style",instance:null,count:0,state:null},r.set(e,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=rs(r.href);var f=$n(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(Do(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Vn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Vn.set(t,r),f||CE(c,t,r,g.state))),e&&o===null)throw Error(a(528,""));return g}if(e&&o!==null)throw Error(a(529,""));return null;case"script":return e=r.async,r=r.src,typeof r=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=as(r),r=$n(c).hoistableScripts,o=r.get(e),o||(o={type:"script",instance:null,count:0,state:null},r.set(e,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function rs(t){return'href="'+tn(t)+'"'}function Do(t){return'link[rel="stylesheet"]['+t+"]"}function Qp(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function CE(t,e,r,o){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?o.loading=1:(e=t.createElement("link"),o.preload=e,e.addEventListener("load",function(){return o.loading|=1}),e.addEventListener("error",function(){return o.loading|=2}),qe(e,"link",r),ye(e),t.head.appendChild(e))}function as(t){return'[src="'+tn(t)+'"]'}function Io(t){return"script[async]"+t}function Yp(t,e,r){if(e.count++,e.instance===null)switch(e.type){case"style":var o=t.querySelector('style[data-href~="'+tn(r.href)+'"]');if(o)return e.instance=o,ye(o),o;var c=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),ye(o),qe(o,"style",c),Au(o,r.precedence,t),e.instance=o;case"stylesheet":c=rs(r.href);var f=t.querySelector(Do(c));if(f)return e.state.loading|=4,e.instance=f,ye(f),f;o=Qp(r),(c=Vn.get(c))&&sf(o,c),f=(t.ownerDocument||t).createElement("link"),ye(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),qe(f,"link",o),e.state.loading|=4,Au(f,r.precedence,t),e.instance=f;case"script":return f=as(r.src),(c=t.querySelector(Io(f)))?(e.instance=c,ye(c),c):(o=r,(c=Vn.get(f))&&(o=w({},r),of(o,c)),t=t.ownerDocument||t,c=t.createElement("script"),ye(c),qe(c,"link",o),t.head.appendChild(c),e.instance=c);case"void":return null;default:throw Error(a(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(o=e.instance,e.state.loading|=4,Au(o,r.precedence,t));return e.instance}function Au(t,e,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===e)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(e=r.nodeType===9?r.head:r,e.insertBefore(t,e.firstChild))}function sf(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function of(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var bu=null;function Kp(t,e,r){if(bu===null){var o=new Map,c=bu=new Map;c.set(r,o)}else c=bu,o=c.get(r),o||(o=new Map,c.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Zn]||f[pe]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(e)||"";g=t+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function Xp(t,e,r){t=t.ownerDocument||t,t.head.insertBefore(r,e==="title"?t.querySelector("head > title"):null)}function DE(t,e,r){if(r===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;return e.rel==="stylesheet"?(t=e.disabled,typeof e.precedence=="string"&&t==null):!0;case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Zp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function IE(t,e,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var c=rs(o.href),f=e.querySelector(Do(c));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Ru.bind(t),e.then(t,t)),r.state.loading|=4,r.instance=f,ye(f);return}f=e.ownerDocument||e,o=Qp(o),(c=Vn.get(c))&&sf(o,c),f=f.createElement("link"),ye(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),qe(f,"link",o),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,e),(e=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Ru.bind(t),e.addEventListener("load",r),e.addEventListener("error",r))}}var lf=0;function VE(t,e){return t.stylesheets&&t.count===0&&Cu(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&Cu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+e);0<t.imgBytes&&lf===0&&(lf=62500*cE());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Cu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>lf?50:800)+e);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(c)}}:null}function Ru(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var wu=null;function Cu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,wu=new Map,e.forEach(ME,t),wu=null,Ru.call(t))}function ME(t,e){if(!(e.state.loading&4)){var r=wu.get(t);if(r)var o=r.get(null);else{r=new Map,wu.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}c=e.instance,g=c.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,c),r.set(g,c),this.count++,o=Ru.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),e.state.loading|=4}}var Vo={$$typeof:ot,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function NE(t,e,r,o,c,f,g,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kn(0),this.hiddenUpdates=Kn(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Jp(t,e,r,o,c,f,g,E,C,P,H,Q){return t=new NE(t,e,r,g,C,P,H,Q,E),e=1,f===!0&&(e|=24),f=fn(3,null,null,e),t.current=f,f.stateNode=t,e=kc(),e.refCount++,t.pooledCache=e,e.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:e},Gc(f),t}function $p(t){return t?(t=Ua,t):Ua}function Wp(t,e,r,o,c,f){c=$p(c),o.context===null?o.context=c:o.pendingContext=c,o=er(e),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=nr(t,o,e),r!==null&&(on(r,t,e),oo(r,t,e))}function ty(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function uf(t,e){ty(t,e),(t=t.alternate)&&ty(t,e)}function ey(t){if(t.tag===13||t.tag===31){var e=Xr(t,67108864);e!==null&&on(e,t,67108864),uf(t,67108864)}}function ny(t){if(t.tag===13||t.tag===31){var e=yn();e=Lr(e);var r=Xr(t,e);r!==null&&on(r,t,e),uf(t,e)}}var Du=!0;function OE(t,e,r,o){var c=G.T;G.T=null;var f=et.p;try{et.p=2,cf(t,e,r,o)}finally{et.p=f,G.T=c}}function xE(t,e,r,o){var c=G.T;G.T=null;var f=et.p;try{et.p=8,cf(t,e,r,o)}finally{et.p=f,G.T=c}}function cf(t,e,r,o){if(Du){var c=hf(o);if(c===null)Xh(t,e,o,Iu,r),ry(t,o);else if(UE(c,t,e,r,o))o.stopPropagation();else if(ry(t,o),e&4&&-1<zE.indexOf(t)){for(;c!==null;){var f=vn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Qn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-ue(g);E.entanglements[1]|=C,g&=~C}hi(f),(qt&6)===0&&(hu=Xe()+500,bo(0))}}break;case 31:case 13:E=Xr(f,2),E!==null&&on(E,f,2),du(),uf(f,2)}if(f=hf(o),f===null&&Xh(t,e,o,Iu,r),f===c)break;c=f}c!==null&&o.stopPropagation()}else Xh(t,e,o,null,r)}}function hf(t){return t=En(t),ff(t)}var Iu=null;function ff(t){if(Iu=null,t=Jn(t),t!==null){var e=h(t);if(e===null)t=null;else{var r=e.tag;if(r===13){if(t=d(e),t!==null)return t;t=null}else if(r===31){if(t=p(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Iu=t,null}function iy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Or()){case Ns:return 2;case Os:return 8;case ki:case yc:return 32;case ol:return 268435456;default:return 32}default:return 32}}var df=!1,dr=null,mr=null,gr=null,Mo=new Map,No=new Map,pr=[],zE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ry(t,e){switch(t){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":Mo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":No.delete(e.pointerId)}}function Oo(t,e,r,o,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:e,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},e!==null&&(e=vn(e),e!==null&&ey(e)),t):(t.eventSystemFlags|=o,e=t.targetContainers,c!==null&&e.indexOf(c)===-1&&e.push(c),t)}function UE(t,e,r,o,c){switch(e){case"focusin":return dr=Oo(dr,t,e,r,o,c),!0;case"dragenter":return mr=Oo(mr,t,e,r,o,c),!0;case"mouseover":return gr=Oo(gr,t,e,r,o,c),!0;case"pointerover":var f=c.pointerId;return Mo.set(f,Oo(Mo.get(f)||null,t,e,r,o,c)),!0;case"gotpointercapture":return f=c.pointerId,No.set(f,Oo(No.get(f)||null,t,e,r,o,c)),!0}return!1}function ay(t){var e=Jn(t.target);if(e!==null){var r=h(e);if(r!==null){if(e=r.tag,e===13){if(e=d(r),e!==null){t.blockedOn=e,On(t.priority,function(){ny(r)});return}}else if(e===31){if(e=p(r),e!==null){t.blockedOn=e,On(t.priority,function(){ny(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=hf(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);Fs=o,r.target.dispatchEvent(o),Fs=null}else return e=vn(r),e!==null&&ey(e),t.blockedOn=r,!1;e.shift()}return!0}function sy(t,e,r){Vu(t)&&r.delete(e)}function LE(){df=!1,dr!==null&&Vu(dr)&&(dr=null),mr!==null&&Vu(mr)&&(mr=null),gr!==null&&Vu(gr)&&(gr=null),Mo.forEach(sy),No.forEach(sy)}function Mu(t,e){t.blockedOn===e&&(t.blockedOn=null,df||(df=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,LE)))}var Nu=null;function oy(t){Nu!==t&&(Nu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Nu===t&&(Nu=null);for(var e=0;e<t.length;e+=3){var r=t[e],o=t[e+1],c=t[e+2];if(typeof o!="function"){if(ff(o||r)===null)continue;break}var f=vn(r);f!==null&&(t.splice(e,3),e-=3,ch(f,{pending:!0,data:c,method:r.method,action:o},o,c))}}))}function ss(t){function e(C){return Mu(C,t)}dr!==null&&Mu(dr,t),mr!==null&&Mu(mr,t),gr!==null&&Mu(gr,t),Mo.forEach(e),No.forEach(e);for(var r=0;r<pr.length;r++){var o=pr[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<pr.length&&(r=pr[0],r.blockedOn===null);)ay(r),r.blockedOn===null&&pr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var c=r[o],f=r[o+1],g=c[Ne]||null;if(typeof f=="function")g||oy(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Ne]||null)E=g.formAction;else if(ff(c)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),oy(r)}}}function ly(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function e(){c!==null&&(c(),c=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),c!==null&&(c(),c=null)}}}function mf(t){this._internalRoot=t}Ou.prototype.render=mf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(a(409));var r=e.current,o=yn();Wp(r,o,t,e,null,null)},Ou.prototype.unmount=mf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wp(t.current,2,null,t,null,null),du(),e[Xn]=null}};function Ou(t){this._internalRoot=t}Ou.prototype.unstable_scheduleHydration=function(t){if(t){var e=dl();t={blockedOn:null,target:t,priority:e};for(var r=0;r<pr.length&&e!==0&&e<pr[r].priority;r++);pr.splice(r,0,t),r===0&&ay(t)}};var uy=n.version;if(uy!=="19.2.3")throw Error(a(527,uy,"19.2.3"));et.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(e),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var PE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xu.isDisabled&&xu.supportsFiber)try{Mn=xu.inject(PE),Le=xu}catch{}}return zo.createRoot=function(t,e){if(!l(t))throw Error(a(299));var r=!1,o="",c=pg,f=yg,g=_g;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onUncaughtError!==void 0&&(c=e.onUncaughtError),e.onCaughtError!==void 0&&(f=e.onCaughtError),e.onRecoverableError!==void 0&&(g=e.onRecoverableError)),e=Jp(t,1,!1,null,null,r,o,null,c,f,g,ly),t[Xn]=e.current,Kh(t),new mf(e)},zo.hydrateRoot=function(t,e,r){if(!l(t))throw Error(a(299));var o=!1,c="",f=pg,g=yg,E=_g,C=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),e=Jp(t,1,!0,e,r??null,o,c,C,f,g,E,ly),e.context=$p(null),r=e.current,o=yn(),o=Lr(o),c=er(o),c.callback=null,nr(r,c,o),r=o,e.current.lanes=r,zr(e,r),hi(e),t[Xn]=e.current,Kh(t),new Ou(e)},zo.version="19.2.3",zo}var vy;function XE(){if(vy)return yf.exports;vy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),yf.exports=KE(),yf.exports}var ZE=XE();const JE={en:{title:"Visa Photo Maker",subtitle:"Upload, Align, and Download Compliant Photos.",uploadTitle:"Click or Drag to Upload",uploadSubtitle:"Supports JPEG, PNG. Min 600x600 pixels.",selectFile:"Select File",errorFormat:"Only JPEG and PNG are supported",errorSize:(s,n)=>`Resolution too low (${s}x${n}). Required: 600x600+.`,errorRead:"Failed to read image file.",zoom:"Scaling (Zoom)",rotation:"Rotation",startOver:"Start Over",download:"Download Photo",downloadPrintSheet:'Download 4x6" Printable Sheet',hint:"Double tap / Pinch to Zoom on Trackpad supported.",headContour:"Fit Head Here",disclaimer:"Disclaimer: This tool is not affiliated with any government agency. The photos generated are for reference only and do not guarantee acceptance. Please verify with official requirements before submission.",privacy:"Privacy: We do not store any uploaded photos or log user activity."},zh:{title:"",subtitle:"",uploadTitle:"",uploadSubtitle:" JPEG, PNG 600x600",selectFile:"",errorFormat:" JPEG  PNG ",errorSize:(s,n)=>` (${s}x${n}) 600x600 `,errorRead:"",zoom:" (Zoom)",rotation:" (Rotation)",startOver:"",download:"",downloadPrintSheet:' 4x6" ',hint:"",headContour:"",disclaimer:"",privacy:""}},H_=xt.createContext(void 0),$E=({children:s})=>{const[n,i]=xt.useState("en");return Z.jsx(H_.Provider,{value:{language:n,setLanguage:i,t:JE[n]},children:s})},bs=()=>{const s=xt.useContext(H_);if(!s)throw new Error("useLanguage must be used within a LanguageProvider");return s},Ey=600,WE=({onFileSelect:s})=>{const[n,i]=xt.useState(null),[a,l]=xt.useState(!1),{t:h}=bs(),d=xt.useCallback((I,q)=>{if(i(null),!["image/jpeg","image/png"].includes(I.type)){i(h.errorFormat);return}const J=new FileReader;J.onload=$=>{const X=$.target?.result,ut=new Image;ut.onload=()=>{ut.width<Ey||ut.height<Ey?i(h.errorSize(ut.width,ut.height)):s(X,I.name,q)},ut.onerror=()=>{i(h.errorRead)},ut.src=X},J.readAsDataURL(I)},[s,h]),p=I=>{I.preventDefault(),l(!1),I.dataTransfer.files&&I.dataTransfer.files.length>0&&d(I.dataTransfer.files[0])},v=I=>{I.preventDefault(),l(!0)},_=I=>{I.preventDefault(),l(!1)},S=I=>{I.target.files&&I.target.files.length>0&&d(I.target.files[0])},w=async I=>{if(window.showOpenFilePicker){I.preventDefault();try{const[q]=await window.showOpenFilePicker({types:[{description:"Images",accept:{"image/*":[".png",".jpeg",".jpg"]}}],multiple:!1}),J=await q.getFile();d(J,q)}catch(q){q.name!=="AbortError"&&(console.error("File Picker failed",q),document.getElementById("fileInput")?.click())}}};return Z.jsx("div",{className:`uploader-container ${a?"dragging":""}`,onDrop:p,onDragOver:v,onDragLeave:_,children:Z.jsxs("div",{className:"upload-content",children:[Z.jsx("div",{className:"icon",children:""}),Z.jsx("h3",{children:h.uploadTitle}),Z.jsx("p",{className:"sub-text",children:h.uploadSubtitle}),Z.jsx("input",{type:"file",id:"fileInput",accept:"image/png, image/jpeg",onChange:S,className:"hidden-input"}),Z.jsx("label",{htmlFor:"fileInput",className:"btn btn-primary upload-btn",onClick:w,children:h.selectFile}),n&&Z.jsx("div",{className:"error-message",children:n})]})})};var Lf=function(s,n){return Lf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[l]=a[l])},Lf(s,n)};function tT(s,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Lf(s,n);function i(){this.constructor=s}s.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}var ze=function(){return ze=Object.assign||function(n){for(var i,a=1,l=arguments.length;a<l;a++){i=arguments[a];for(var h in i)Object.prototype.hasOwnProperty.call(i,h)&&(n[h]=i[h])}return n},ze.apply(this,arguments)};var Tf,Ty;function eT(){if(Ty)return Tf;Ty=1;var s=!1,n,i,a,l,h,d,p,v,_,S,w,I,q,J,$;function X(){if(!s){s=!0;var ft=navigator.userAgent,ot=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(ft),wt=/(Mac OS X)|(Windows)|(Linux)/.exec(ft);if(I=/\b(iPhone|iP[ao]d)/.exec(ft),q=/\b(iP[ao]d)/.exec(ft),S=/Android/i.exec(ft),J=/FBAN\/\w+;/i.exec(ft),$=/Mobile/i.exec(ft),w=!!/Win64/.exec(ft),ot){n=ot[1]?parseFloat(ot[1]):ot[5]?parseFloat(ot[5]):NaN,n&&document&&document.documentMode&&(n=document.documentMode);var Ut=/(?:Trident\/(\d+.\d+))/.exec(ft);d=Ut?parseFloat(Ut[1])+4:n,i=ot[2]?parseFloat(ot[2]):NaN,a=ot[3]?parseFloat(ot[3]):NaN,l=ot[4]?parseFloat(ot[4]):NaN,l?(ot=/(?:Chrome\/(\d+\.\d+))/.exec(ft),h=ot&&ot[1]?parseFloat(ot[1]):NaN):h=NaN}else n=i=a=h=l=NaN;if(wt){if(wt[1]){var st=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(ft);p=st?parseFloat(st[1].replace("_",".")):!0}else p=!1;v=!!wt[2],_=!!wt[3]}else p=v=_=!1}}var ut={ie:function(){return X()||n},ieCompatibilityMode:function(){return X()||d>n},ie64:function(){return ut.ie()&&w},firefox:function(){return X()||i},opera:function(){return X()||a},webkit:function(){return X()||l},safari:function(){return ut.webkit()},chrome:function(){return X()||h},windows:function(){return X()||v},osx:function(){return X()||p},linux:function(){return X()||_},iphone:function(){return X()||I},mobile:function(){return X()||I||q||S||$},nativeApp:function(){return X()||J},android:function(){return X()||S},ipad:function(){return X()||q}};return Tf=ut,Tf}var Sf,Sy;function nT(){if(Sy)return Sf;Sy=1;var s=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:s,canUseWorkers:typeof Worker<"u",canUseEventListeners:s&&!!(window.addEventListener||window.attachEvent),canUseViewport:s&&!!window.screen,isInWorker:!s};return Sf=n,Sf}var Af,Ay;function iT(){if(Ay)return Af;Ay=1;var s=nT(),n;s.canUseDOM&&(n=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function i(a,l){if(!s.canUseDOM||l&&!("addEventListener"in document))return!1;var h="on"+a,d=h in document;if(!d){var p=document.createElement("div");p.setAttribute(h,"return;"),d=typeof p[h]=="function"}return!d&&n&&a==="wheel"&&(d=document.implementation.hasFeature("Events.wheel","3.0")),d}return Af=i,Af}var bf,by;function rT(){if(by)return bf;by=1;var s=eT(),n=iT(),i=10,a=40,l=800;function h(d){var p=0,v=0,_=0,S=0;return"detail"in d&&(v=d.detail),"wheelDelta"in d&&(v=-d.wheelDelta/120),"wheelDeltaY"in d&&(v=-d.wheelDeltaY/120),"wheelDeltaX"in d&&(p=-d.wheelDeltaX/120),"axis"in d&&d.axis===d.HORIZONTAL_AXIS&&(p=v,v=0),_=p*i,S=v*i,"deltaY"in d&&(S=d.deltaY),"deltaX"in d&&(_=d.deltaX),(_||S)&&d.deltaMode&&(d.deltaMode==1?(_*=a,S*=a):(_*=l,S*=l)),_&&!p&&(p=_<1?-1:1),S&&!v&&(v=S<1?-1:1),{spinX:p,spinY:v,pixelX:_,pixelY:S}}return h.getEventType=function(){return s.firefox()?"DOMMouseScroll":n("wheel")?"wheel":"mousewheel"},bf=h,bf}var Rf,Ry;function aT(){return Ry||(Ry=1,Rf=rT()),Rf}var sT=aT();const oT=kE(sT);function lT(s,n,i,a,l,h){h===void 0&&(h=0);var d=gs(s,n,h),p=d.width,v=d.height,_=Math.min(p,i),S=Math.min(v,a);return _>S*l?{width:S*l,height:S}:{width:_,height:_/l}}function uT(s){return s.width>s.height?s.width/s.naturalWidth:s.height/s.naturalHeight}function Uo(s,n,i,a,l){l===void 0&&(l=0);var h=gs(n.width,n.height,l),d=h.width,p=h.height;return{x:wy(s.x,d,i.width,a),y:wy(s.y,p,i.height,a)}}function wy(s,n,i,a){var l=n*a/2-i/2;return rc(s,-l,l)}function Cy(s,n){return Math.sqrt(Math.pow(s.y-n.y,2)+Math.pow(s.x-n.x,2))}function Dy(s,n){return Math.atan2(n.y-s.y,n.x-s.x)*180/Math.PI}function cT(s,n,i,a,l,h,d){h===void 0&&(h=0),d===void 0&&(d=!0);var p=d?hT:fT,v=gs(n.width,n.height,h),_=gs(n.naturalWidth,n.naturalHeight,h),S={x:p(100,((v.width-i.width/l)/2-s.x/l)/v.width*100),y:p(100,((v.height-i.height/l)/2-s.y/l)/v.height*100),width:p(100,i.width/v.width*100/l),height:p(100,i.height/v.height*100/l)},w=Math.round(p(_.width,S.width*_.width/100)),I=Math.round(p(_.height,S.height*_.height/100)),q=_.width>=_.height*a,J=q?{width:Math.round(I*a),height:I}:{width:w,height:Math.round(w/a)},$=ze(ze({},J),{x:Math.round(p(_.width-J.width,S.x*_.width/100)),y:Math.round(p(_.height-J.height,S.y*_.height/100))});return{croppedAreaPercentages:S,croppedAreaPixels:$}}function hT(s,n){return Math.min(s,Math.max(0,n))}function fT(s,n){return n}function dT(s,n,i,a,l,h){var d=gs(n.width,n.height,i),p=rc(a.width/d.width*(100/s.width),l,h),v={x:p*d.width/2-a.width/2-d.width*p*(s.x/100),y:p*d.height/2-a.height/2-d.height*p*(s.y/100)};return{crop:v,zoom:p}}function mT(s,n,i){var a=uT(n);return i.height>i.width?i.height/(s.height*a):i.width/(s.width*a)}function gT(s,n,i,a,l,h){i===void 0&&(i=0);var d=gs(n.naturalWidth,n.naturalHeight,i),p=rc(mT(s,n,a),l,h),v=a.height>a.width?a.height/s.height:a.width/s.width,_={x:((d.width-s.width)/2-s.x)*v,y:((d.height-s.height)/2-s.y)*v};return{crop:_,zoom:p}}function Iy(s,n){return{x:(n.x+s.x)/2,y:(n.y+s.y)/2}}function pT(s){return s*Math.PI/180}function gs(s,n,i){var a=pT(i);return{width:Math.abs(Math.cos(a)*s)+Math.abs(Math.sin(a)*n),height:Math.abs(Math.sin(a)*s)+Math.abs(Math.cos(a)*n)}}function rc(s,n,i){return Math.min(Math.max(s,n),i)}function zu(){for(var s=[],n=0;n<arguments.length;n++)s[n]=arguments[n];return s.filter(function(i){return typeof i=="string"&&i.length>0}).join(" ").trim()}var yT=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,_T=1,vT=3,ET=1,TT=(function(s){tT(n,s);function n(){var i=s!==null&&s.apply(this,arguments)||this;return i.cropperRef=xt.createRef(),i.imageRef=xt.createRef(),i.videoRef=xt.createRef(),i.containerPosition={x:0,y:0},i.containerRef=null,i.styleRef=null,i.containerRect=null,i.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},i.dragStartPosition={x:0,y:0},i.dragStartCrop={x:0,y:0},i.gestureZoomStart=0,i.gestureRotationStart=0,i.isTouching=!1,i.lastPinchDistance=0,i.lastPinchRotation=0,i.rafDragTimeout=null,i.rafPinchTimeout=null,i.wheelTimer=null,i.currentDoc=typeof document<"u"?document:null,i.currentWindow=typeof window<"u"?window:null,i.resizeObserver=null,i.previousCropSize=null,i.isInitialized=!1,i.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},i.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!i.containerRef)){var a=!0;i.resizeObserver=new window.ResizeObserver(function(l){if(a){a=!1;return}i.computeSizes()}),i.resizeObserver.observe(i.containerRef)}},i.preventZoomSafari=function(a){return a.preventDefault()},i.cleanEvents=function(){i.currentDoc&&(i.currentDoc.removeEventListener("mousemove",i.onMouseMove),i.currentDoc.removeEventListener("mouseup",i.onDragStopped),i.currentDoc.removeEventListener("touchmove",i.onTouchMove),i.currentDoc.removeEventListener("touchend",i.onDragStopped),i.currentDoc.removeEventListener("gesturechange",i.onGestureChange),i.currentDoc.removeEventListener("gestureend",i.onGestureEnd),i.currentDoc.removeEventListener("scroll",i.onScroll))},i.clearScrollEvent=function(){i.containerRef&&i.containerRef.removeEventListener("wheel",i.onWheel),i.wheelTimer&&clearTimeout(i.wheelTimer)},i.onMediaLoad=function(){var a=i.computeSizes();a&&(i.previousCropSize=a,i.emitCropData(),i.setInitialCrop(a),i.isInitialized=!0),i.props.onMediaLoaded&&i.props.onMediaLoaded(i.mediaSize)},i.setInitialCrop=function(a){if(i.props.initialCroppedAreaPercentages){var l=dT(i.props.initialCroppedAreaPercentages,i.mediaSize,i.props.rotation,a,i.props.minZoom,i.props.maxZoom),h=l.crop,d=l.zoom;i.props.onCropChange(h),i.props.onZoomChange&&i.props.onZoomChange(d)}else if(i.props.initialCroppedAreaPixels){var p=gT(i.props.initialCroppedAreaPixels,i.mediaSize,i.props.rotation,a,i.props.minZoom,i.props.maxZoom),h=p.crop,d=p.zoom;i.props.onCropChange(h),i.props.onZoomChange&&i.props.onZoomChange(d)}},i.computeSizes=function(){var a,l,h,d,p,v,_=i.imageRef.current||i.videoRef.current;if(_&&i.containerRef){i.containerRect=i.containerRef.getBoundingClientRect(),i.saveContainerPosition();var S=i.containerRect.width/i.containerRect.height,w=((a=i.imageRef.current)===null||a===void 0?void 0:a.naturalWidth)||((l=i.videoRef.current)===null||l===void 0?void 0:l.videoWidth)||0,I=((h=i.imageRef.current)===null||h===void 0?void 0:h.naturalHeight)||((d=i.videoRef.current)===null||d===void 0?void 0:d.videoHeight)||0,q=_.offsetWidth<w||_.offsetHeight<I,J=w/I,$=void 0;if(q)switch(i.state.mediaObjectFit){default:case"contain":$=S>J?{width:i.containerRect.height*J,height:i.containerRect.height}:{width:i.containerRect.width,height:i.containerRect.width/J};break;case"horizontal-cover":$={width:i.containerRect.width,height:i.containerRect.width/J};break;case"vertical-cover":$={width:i.containerRect.height*J,height:i.containerRect.height};break}else $={width:_.offsetWidth,height:_.offsetHeight};i.mediaSize=ze(ze({},$),{naturalWidth:w,naturalHeight:I}),i.props.setMediaSize&&i.props.setMediaSize(i.mediaSize);var X=i.props.cropSize?i.props.cropSize:lT(i.mediaSize.width,i.mediaSize.height,i.containerRect.width,i.containerRect.height,i.props.aspect,i.props.rotation);return(((p=i.state.cropSize)===null||p===void 0?void 0:p.height)!==X.height||((v=i.state.cropSize)===null||v===void 0?void 0:v.width)!==X.width)&&i.props.onCropSizeChange&&i.props.onCropSizeChange(X),i.setState({cropSize:X},i.recomputeCropPosition),i.props.setCropSize&&i.props.setCropSize(X),X}},i.saveContainerPosition=function(){if(i.containerRef){var a=i.containerRef.getBoundingClientRect();i.containerPosition={x:a.left,y:a.top}}},i.onMouseDown=function(a){i.currentDoc&&(a.preventDefault(),i.currentDoc.addEventListener("mousemove",i.onMouseMove),i.currentDoc.addEventListener("mouseup",i.onDragStopped),i.saveContainerPosition(),i.onDragStart(n.getMousePoint(a)))},i.onMouseMove=function(a){return i.onDrag(n.getMousePoint(a))},i.onScroll=function(a){i.currentDoc&&(a.preventDefault(),i.saveContainerPosition())},i.onTouchStart=function(a){i.currentDoc&&(i.isTouching=!0,!(i.props.onTouchRequest&&!i.props.onTouchRequest(a))&&(i.currentDoc.addEventListener("touchmove",i.onTouchMove,{passive:!1}),i.currentDoc.addEventListener("touchend",i.onDragStopped),i.saveContainerPosition(),a.touches.length===2?i.onPinchStart(a):a.touches.length===1&&i.onDragStart(n.getTouchPoint(a.touches[0]))))},i.onTouchMove=function(a){a.preventDefault(),a.touches.length===2?i.onPinchMove(a):a.touches.length===1&&i.onDrag(n.getTouchPoint(a.touches[0]))},i.onGestureStart=function(a){i.currentDoc&&(a.preventDefault(),i.currentDoc.addEventListener("gesturechange",i.onGestureChange),i.currentDoc.addEventListener("gestureend",i.onGestureEnd),i.gestureZoomStart=i.props.zoom,i.gestureRotationStart=i.props.rotation)},i.onGestureChange=function(a){if(a.preventDefault(),!i.isTouching){var l=n.getMousePoint(a),h=i.gestureZoomStart-1+a.scale;if(i.setNewZoom(h,l,{shouldUpdatePosition:!0}),i.props.onRotationChange){var d=i.gestureRotationStart+a.rotation;i.props.onRotationChange(d)}}},i.onGestureEnd=function(a){i.cleanEvents()},i.onDragStart=function(a){var l,h,d=a.x,p=a.y;i.dragStartPosition={x:d,y:p},i.dragStartCrop=ze({},i.props.crop),(h=(l=i.props).onInteractionStart)===null||h===void 0||h.call(l)},i.onDrag=function(a){var l=a.x,h=a.y;i.currentWindow&&(i.rafDragTimeout&&i.currentWindow.cancelAnimationFrame(i.rafDragTimeout),i.rafDragTimeout=i.currentWindow.requestAnimationFrame(function(){if(i.state.cropSize&&!(l===void 0||h===void 0)){var d=l-i.dragStartPosition.x,p=h-i.dragStartPosition.y,v={x:i.dragStartCrop.x+d,y:i.dragStartCrop.y+p},_=i.props.restrictPosition?Uo(v,i.mediaSize,i.state.cropSize,i.props.zoom,i.props.rotation):v;i.props.onCropChange(_)}}))},i.onDragStopped=function(){var a,l;i.isTouching=!1,i.cleanEvents(),i.emitCropData(),(l=(a=i.props).onInteractionEnd)===null||l===void 0||l.call(a)},i.onWheel=function(a){if(i.currentWindow&&!(i.props.onWheelRequest&&!i.props.onWheelRequest(a))){a.preventDefault();var l=n.getMousePoint(a),h=oT(a).pixelY,d=i.props.zoom-h*i.props.zoomSpeed/200;i.setNewZoom(d,l,{shouldUpdatePosition:!0}),i.state.hasWheelJustStarted||i.setState({hasWheelJustStarted:!0},function(){var p,v;return(v=(p=i.props).onInteractionStart)===null||v===void 0?void 0:v.call(p)}),i.wheelTimer&&clearTimeout(i.wheelTimer),i.wheelTimer=i.currentWindow.setTimeout(function(){return i.setState({hasWheelJustStarted:!1},function(){var p,v;return(v=(p=i.props).onInteractionEnd)===null||v===void 0?void 0:v.call(p)})},250)}},i.getPointOnContainer=function(a,l){var h=a.x,d=a.y;if(!i.containerRect)throw new Error("The Cropper is not mounted");return{x:i.containerRect.width/2-(h-l.x),y:i.containerRect.height/2-(d-l.y)}},i.getPointOnMedia=function(a){var l=a.x,h=a.y,d=i.props,p=d.crop,v=d.zoom;return{x:(l+p.x)/v,y:(h+p.y)/v}},i.setNewZoom=function(a,l,h){var d=h===void 0?{}:h,p=d.shouldUpdatePosition,v=p===void 0?!0:p;if(!(!i.state.cropSize||!i.props.onZoomChange)){var _=rc(a,i.props.minZoom,i.props.maxZoom);if(v){var S=i.getPointOnContainer(l,i.containerPosition),w=i.getPointOnMedia(S),I={x:w.x*_-S.x,y:w.y*_-S.y},q=i.props.restrictPosition?Uo(I,i.mediaSize,i.state.cropSize,_,i.props.rotation):I;i.props.onCropChange(q)}i.props.onZoomChange(_)}},i.getCropData=function(){if(!i.state.cropSize)return null;var a=i.props.restrictPosition?Uo(i.props.crop,i.mediaSize,i.state.cropSize,i.props.zoom,i.props.rotation):i.props.crop;return cT(a,i.mediaSize,i.state.cropSize,i.getAspect(),i.props.zoom,i.props.rotation,i.props.restrictPosition)},i.emitCropData=function(){var a=i.getCropData();if(a){var l=a.croppedAreaPercentages,h=a.croppedAreaPixels;i.props.onCropComplete&&i.props.onCropComplete(l,h),i.props.onCropAreaChange&&i.props.onCropAreaChange(l,h)}},i.emitCropAreaChange=function(){var a=i.getCropData();if(a){var l=a.croppedAreaPercentages,h=a.croppedAreaPixels;i.props.onCropAreaChange&&i.props.onCropAreaChange(l,h)}},i.recomputeCropPosition=function(){var a,l;if(i.state.cropSize){var h=i.props.crop;if(i.isInitialized&&(!((a=i.previousCropSize)===null||a===void 0)&&a.width)&&(!((l=i.previousCropSize)===null||l===void 0)&&l.height)){var d=Math.abs(i.previousCropSize.width-i.state.cropSize.width)>1e-6||Math.abs(i.previousCropSize.height-i.state.cropSize.height)>1e-6;if(d){var p=i.state.cropSize.width/i.previousCropSize.width,v=i.state.cropSize.height/i.previousCropSize.height;h={x:i.props.crop.x*p,y:i.props.crop.y*v}}}var _=i.props.restrictPosition?Uo(h,i.mediaSize,i.state.cropSize,i.props.zoom,i.props.rotation):h;i.previousCropSize=i.state.cropSize,i.props.onCropChange(_),i.emitCropData()}},i.onKeyDown=function(a){var l,h,d=i.props,p=d.crop,v=d.onCropChange,_=d.keyboardStep,S=d.zoom,w=d.rotation,I=_;if(i.state.cropSize){a.shiftKey&&(I*=.2);var q=ze({},p);switch(a.key){case"ArrowUp":q.y-=I,a.preventDefault();break;case"ArrowDown":q.y+=I,a.preventDefault();break;case"ArrowLeft":q.x-=I,a.preventDefault();break;case"ArrowRight":q.x+=I,a.preventDefault();break;default:return}i.props.restrictPosition&&(q=Uo(q,i.mediaSize,i.state.cropSize,S,w)),a.repeat||(h=(l=i.props).onInteractionStart)===null||h===void 0||h.call(l),v(q)}},i.onKeyUp=function(a){var l,h;switch(a.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":a.preventDefault();break;default:return}i.emitCropData(),(h=(l=i.props).onInteractionEnd)===null||h===void 0||h.call(l)},i}return n.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=yT,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},n.prototype.componentWillUnmount=function(){var i,a;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(i=this.resizeObserver)===null||i===void 0||i.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((a=this.styleRef.parentNode)===null||a===void 0||a.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},n.prototype.componentDidUpdate=function(i){var a,l,h,d,p,v,_,S,w;i.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):i.aspect!==this.props.aspect?this.computeSizes():i.objectFit!==this.props.objectFit?this.computeSizes():i.zoom!==this.props.zoom?this.recomputeCropPosition():((a=i.cropSize)===null||a===void 0?void 0:a.height)!==((l=this.props.cropSize)===null||l===void 0?void 0:l.height)||((h=i.cropSize)===null||h===void 0?void 0:h.width)!==((d=this.props.cropSize)===null||d===void 0?void 0:d.width)?this.computeSizes():(((p=i.crop)===null||p===void 0?void 0:p.x)!==((v=this.props.crop)===null||v===void 0?void 0:v.x)||((_=i.crop)===null||_===void 0?void 0:_.y)!==((S=this.props.crop)===null||S===void 0?void 0:S.y))&&this.emitCropAreaChange(),i.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),i.video!==this.props.video&&((w=this.videoRef.current)===null||w===void 0||w.load());var I=this.getObjectFit();I!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:I},this.computeSizes)},n.prototype.getAspect=function(){var i=this.props,a=i.cropSize,l=i.aspect;return a?a.width/a.height:l},n.prototype.getObjectFit=function(){var i,a,l,h;if(this.props.objectFit==="cover"){var d=this.imageRef.current||this.videoRef.current;if(d&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var p=this.containerRect.width/this.containerRect.height,v=((i=this.imageRef.current)===null||i===void 0?void 0:i.naturalWidth)||((a=this.videoRef.current)===null||a===void 0?void 0:a.videoWidth)||0,_=((l=this.imageRef.current)===null||l===void 0?void 0:l.naturalHeight)||((h=this.videoRef.current)===null||h===void 0?void 0:h.videoHeight)||0,S=v/_;return S<p?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},n.prototype.onPinchStart=function(i){var a=n.getTouchPoint(i.touches[0]),l=n.getTouchPoint(i.touches[1]);this.lastPinchDistance=Cy(a,l),this.lastPinchRotation=Dy(a,l),this.onDragStart(Iy(a,l))},n.prototype.onPinchMove=function(i){var a=this;if(!(!this.currentDoc||!this.currentWindow)){var l=n.getTouchPoint(i.touches[0]),h=n.getTouchPoint(i.touches[1]),d=Iy(l,h);this.onDrag(d),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var p=Cy(l,h),v=a.props.zoom*(p/a.lastPinchDistance);a.setNewZoom(v,d,{shouldUpdatePosition:!1}),a.lastPinchDistance=p;var _=Dy(l,h),S=a.props.rotation+(_-a.lastPinchRotation);a.props.onRotationChange&&a.props.onRotationChange(S),a.lastPinchRotation=_})}},n.prototype.render=function(){var i=this,a,l=this.props,h=l.image,d=l.video,p=l.mediaProps,v=l.cropperProps,_=l.transform,S=l.crop,w=S.x,I=S.y,q=l.rotation,J=l.zoom,$=l.cropShape,X=l.showGrid,ut=l.roundCropAreaPixels,ft=l.style,ot=ft.containerStyle,wt=ft.cropAreaStyle,Ut=ft.mediaStyle,st=l.classes,b=st.containerClassName,A=st.cropAreaClassName,D=st.mediaClassName,O=(a=this.state.mediaObjectFit)!==null&&a!==void 0?a:this.getObjectFit();return xt.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(z){return i.containerRef=z},"data-testid":"container",style:ot,className:zu("reactEasyCrop_Container",b)},h?xt.createElement("img",ze({alt:"",className:zu("reactEasyCrop_Image",O==="contain"&&"reactEasyCrop_Contain",O==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",O==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",D)},p,{src:h,ref:this.imageRef,style:ze(ze({},Ut),{transform:_||"translate(".concat(w,"px, ").concat(I,"px) rotate(").concat(q,"deg) scale(").concat(J,")")}),onLoad:this.onMediaLoad})):d&&xt.createElement("video",ze({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:zu("reactEasyCrop_Video",O==="contain"&&"reactEasyCrop_Contain",O==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",O==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",D)},p,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:ze(ze({},Ut),{transform:_||"translate(".concat(w,"px, ").concat(I,"px) rotate(").concat(q,"deg) scale(").concat(J,")")}),controls:!1}),(Array.isArray(d)?d:[{src:d}]).map(function(V){return xt.createElement("source",ze({key:V.src},V))})),this.state.cropSize&&xt.createElement("div",ze({ref:this.cropperRef,style:ze(ze({},wt),{width:ut?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:ut?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:zu("reactEasyCrop_CropArea",$==="round"&&"reactEasyCrop_CropAreaRound",X&&"reactEasyCrop_CropAreaGrid",A)},v)))},n.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:vT,minZoom:_T,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:ET},n.getMousePoint=function(i){return{x:Number(i.clientX),y:Number(i.clientY)}},n.getTouchPoint=function(i){return{x:Number(i.clientX),y:Number(i.clientY)}},n})(xt.Component);const ST=({guide:s})=>{const{t:n}=bs(),i=s.headHeightPercent[0],a=s.headHeightPercent[1],l=(i+a)/2,h=s.topMarginPercent||(1-l)/2,d=l*100,p=h*100;return Z.jsxs("div",{className:"guide-overlay",style:{position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none",zIndex:10,border:"2px solid rgba(255, 255, 255, 0.3)"},children:[Z.jsx("div",{style:{position:"absolute",left:"50%",top:0,bottom:0,width:"1px",backgroundColor:"rgba(59, 130, 246, 0.5)",transform:"translateX(-50%)"}}),Z.jsx("div",{style:{position:"absolute",top:"50%",left:0,right:0,height:"1px",backgroundColor:"rgba(59, 130, 246, 0.5)",transform:"translateY(-50%)"}}),Z.jsx("div",{style:{position:"absolute",top:`${p}%`,left:"50%",transform:"translateX(-50%)",width:"45%",height:`${d}%`,border:"3px solid rgba(74, 222, 128, 0.6)",borderRadius:"50% 50% 45% 45%",boxShadow:"0 0 20px rgba(74, 222, 128, 0.2), inset 0 0 20px rgba(74, 222, 128, 0.1)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:Z.jsx("div",{style:{color:"rgba(74, 222, 128, 0.8)",backgroundColor:"rgba(0,0,0,0.5)",padding:"2px 6px",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"bold",marginTop:"-120%",whiteSpace:"nowrap"},children:n.headContour})}),Z.jsx("div",{style:{position:"absolute",top:`${p+d*.4}%`,left:"50%",transform:"translateX(-50%)",width:"30%",height:"1px",borderTop:"1px dashed rgba(74, 222, 128, 0.4)"}})]})},G_=s=>new Promise((n,i)=>{const a=new Image;a.addEventListener("load",()=>n(a)),a.addEventListener("error",l=>i(l)),a.setAttribute("crossOrigin","anonymous"),a.src=s});function F_(s){return s*Math.PI/180}function AT(s,n,i){const a=F_(i);return{width:Math.abs(Math.cos(a)*s)+Math.abs(Math.sin(a)*n),height:Math.abs(Math.sin(a)*s)+Math.abs(Math.cos(a)*n)}}async function Vy(s,n,i=0,a={horizontal:!1,vertical:!1}){const l=await G_(s),h=document.createElement("canvas"),d=h.getContext("2d");if(!d)return"";const p=F_(i),{width:v,height:_}=AT(l.width,l.height,i);h.width=v,h.height=_,d.translate(v/2,_/2),d.rotate(p),d.scale(a.horizontal?-1:1,a.vertical?-1:1),d.translate(-l.width/2,-l.height/2),d.drawImage(l,0,0);const S=d.getImageData(n.x,n.y,n.width,n.height);return h.width=n.width,h.height=n.height,d.putImageData(S,0,0),h.toDataURL("image/jpeg",.95)}async function bT(s,n){const i=await G_(s),a=1800,l=1200,h=document.createElement("canvas");h.width=a,h.height=l;const d=h.getContext("2d");if(!d)throw new Error("Could not get canvas context");d.fillStyle="#ffffff",d.fillRect(0,0,h.width,h.height);const p=300/25.4,v=Math.round(n.widthMm*p),_=Math.round(n.heightMm*p),S=Math.floor(a/v),w=Math.floor(l/_),I=S*v,q=w*_,J=(a-I)/2,$=(l-q)/2;for(let X=0;X<w;X++)for(let ut=0;ut<S;ut++){const ft=J+ut*v,ot=$+X*_;d.drawImage(i,ft,ot,v,_),d.strokeStyle="#e2e8f0",d.lineWidth=1,d.strokeRect(ft,ot,v,_)}return h.toDataURL("image/jpeg",.95)}const wf={US:{id:"US",label:'USA (2x2")',widthMm:50.8,heightMm:50.8,aspectRatio:1,guide:{headHeightPercent:[.5,.69],topMarginPercent:.15}},CN:{id:"CN",label:"China (33x48mm)",widthMm:33,heightMm:48,aspectRatio:33/48,guide:{headHeightPercent:[.58,.69],topMarginPercent:.08}},EU:{id:"EU",label:"Schengen/EU (35x45mm)",widthMm:35,heightMm:45,aspectRatio:35/45,guide:{headHeightPercent:[.7,.8],topMarginPercent:.07}},UK:{id:"UK",label:"UK (35x45mm)",widthMm:35,heightMm:45,aspectRatio:35/45,guide:{headHeightPercent:[.64,.75],topMarginPercent:.1}},JP:{id:"JP",label:"Japan (45x45mm)",widthMm:45,heightMm:45,aspectRatio:1,guide:{headHeightPercent:[.7,.8],topMarginPercent:.08}}},RT=({imageSrc:s,fileName:n,onCancel:i,fileHandle:a})=>{const[l,h]=xt.useState({x:0,y:0}),[d,p]=xt.useState(1),[v,_]=xt.useState(0),[S,w]=xt.useState(null),{t:I}=bs(),[q,J]=xt.useState("US"),$=xt.useMemo(()=>wf[q]||wf.US,[q]),X=xt.useCallback((st,b)=>{w(b)},[]),ut=async(st,b)=>{const D=`${n.substring(0,n.lastIndexOf("."))||n}-${b}.jpeg`;try{if(window.showSaveFilePicker){const z=await(await window.showSaveFilePicker({startIn:a,suggestedName:D,types:[{description:"JPEG Image",accept:{"image/jpeg":[".jpeg",".jpg"]}}]})).createWritable(),$t=await(await fetch(st)).blob();await z.write($t),await z.close();return}}catch(V){if(V.name==="AbortError")return;console.warn("File Save API failed",V)}const O=document.createElement("a");O.href=st,O.download=D,document.body.appendChild(O),O.click(),document.body.removeChild(O)},ft=async()=>{if(S)try{const st=await Vy(s,S,v);await ut(st,`visa-photo-${q}`)}catch(st){console.error(st),alert("Failed to crop image")}},ot=async()=>{if(S)try{const st=await Vy(s,S,v),b=await bT(st,$);await ut(b,`visa-print-sheet-${q}`)}catch(st){console.error(st),alert("Failed to generate print sheet")}},wt=st=>{p(b=>Math.min(Math.max(b+st,1),3))},Ut=st=>{_(b=>b+st)};return Z.jsxs("div",{className:"editor-container",children:[Z.jsx("div",{className:"crop-container-wrapper glass-panel",children:Z.jsxs("div",{className:"crop-container",children:[Z.jsx(TT,{image:s,crop:l,zoom:d,rotation:v,aspect:$.aspectRatio,onCropChange:h,onCropComplete:X,onZoomChange:p,onRotationChange:_,showGrid:!1}),Z.jsx(ST,{guide:$.guide})]})}),Z.jsxs("div",{className:"controls-panel glass-panel",children:[Z.jsxs("div",{className:"control-group",children:[Z.jsx("label",{children:"Visa Country"}),Z.jsx("select",{className:"country-select",value:q,onChange:st=>{J(st.target.value),_(0)},style:{width:"100%",padding:"10px",background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",color:"white",borderRadius:"8px",fontSize:"1rem",marginBottom:"1rem"},children:Object.values(wf).map(st=>Z.jsx("option",{value:st.id,style:{color:"black"},children:st.label},st.id))})]}),Z.jsxs("div",{className:"control-group",children:[Z.jsx("label",{children:I.zoom}),Z.jsxs("div",{className:"control-row",children:[Z.jsx("button",{className:"btn btn-icon",onClick:()=>wt(-.1),children:"-"}),Z.jsx("input",{type:"range",value:d,min:1,max:3,step:.1,"aria-labelledby":"Zoom",onChange:st=>p(Number(st.target.value))}),Z.jsx("button",{className:"btn btn-icon",onClick:()=>wt(.1),children:"+"})]})]}),Z.jsxs("div",{className:"control-group",children:[Z.jsx("label",{children:I.rotation}),Z.jsxs("div",{className:"control-row",children:[Z.jsx("button",{className:"btn btn-secondary",onClick:()=>Ut(-90),children:" -90"}),Z.jsx("button",{className:"btn btn-secondary",onClick:()=>Ut(-1),children:" -1"}),Z.jsx("button",{className:"btn btn-secondary",onClick:()=>Ut(1),children:"1 "}),Z.jsx("button",{className:"btn btn-secondary",onClick:()=>Ut(90),children:"90 "})]})]}),Z.jsxs("div",{className:"actions-row",style:{flexDirection:"column",gap:"1rem"},children:[Z.jsxs("div",{style:{display:"flex",gap:"1rem",width:"100%"},children:[Z.jsx("button",{className:"btn btn-danger",onClick:i,children:I.startOver}),Z.jsx("button",{className:"btn btn-primary",onClick:ft,style:{flex:1.5},children:I.download})]}),Z.jsx("button",{className:"btn",style:{background:"rgba(255,255,255,0.1)",color:"#fff",width:"100%",border:"1px solid rgba(255,255,255,0.2)"},onClick:ot,children:I.downloadPrintSheet})]}),Z.jsx("p",{className:"hint-text",children:I.hint})]})]})},wT=()=>{const{language:s,setLanguage:n}=bs();return Z.jsx("div",{style:{position:"absolute",top:"1rem",right:"1rem",zIndex:100},children:Z.jsxs("div",{style:{display:"flex",gap:"0.5rem",background:"rgba(0,0,0,0.3)",padding:"4px",borderRadius:"8px",backdropFilter:"blur(4px)"},children:[Z.jsx("button",{className:`btn ${s==="en"?"btn-primary":"btn-ghost"}`,onClick:()=>n("en"),style:{padding:"4px 8px",fontSize:"0.8rem",border:"none",background:s==="en"?"":"transparent",color:s==="en"?"":"#ccc"},children:"EN"}),Z.jsx("button",{className:`btn ${s==="zh"?"btn-primary":"btn-ghost"}`,onClick:()=>n("zh"),style:{padding:"4px 8px",fontSize:"0.8rem",border:"none",background:s==="zh"?"":"transparent",color:s==="zh"?"":"#ccc"},children:""})]})})};function CT(){const{t:s}=bs();return Z.jsxs("footer",{style:{marginTop:"3rem",marginBottom:"2rem",textAlign:"center",padding:"1rem",color:"#94a3b8",fontSize:"0.875rem",borderTop:"1px solid #e2e8f0"},children:[Z.jsx("p",{style:{maxWidth:"800px",margin:"0 auto",lineHeight:"1.5"},children:s.disclaimer}),Z.jsx("p",{style:{maxWidth:"800px",margin:"0.5rem auto 0",lineHeight:"1.5",fontSize:"0.75rem"},children:s.privacy})]})}const DT=()=>{};var My={};const Q_=function(s){const n=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?n[i++]=l:l<2048?(n[i++]=l>>6|192,n[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),n[i++]=l>>18|240,n[i++]=l>>12&63|128,n[i++]=l>>6&63|128,n[i++]=l&63|128):(n[i++]=l>>12|224,n[i++]=l>>6&63|128,n[i++]=l&63|128)}return n},IT=function(s){const n=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)n[a++]=String.fromCharCode(l);else if(l>191&&l<224){const h=s[i++];n[a++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=s[i++],d=s[i++],p=s[i++],v=((l&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;n[a++]=String.fromCharCode(55296+(v>>10)),n[a++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];n[a++]=String.fromCharCode((l&15)<<12|(h&63)<<6|d&63)}}return n.join("")},md={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,n){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const h=s[l],d=l+1<s.length,p=d?s[l+1]:0,v=l+2<s.length,_=v?s[l+2]:0,S=h>>2,w=(h&3)<<4|p>>4;let I=(p&15)<<2|_>>6,q=_&63;v||(q=64,d||(I=64)),a.push(i[S],i[w],i[I],i[q])}return a.join("")},encodeString(s,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(s):this.encodeByteArray(Q_(s),n)},decodeString(s,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(s):IT(this.decodeStringToByteArray(s,n))},decodeStringToByteArray(s,n){this.init_();const i=n?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const h=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const w=l<s.length?i[s.charAt(l)]:64;if(++l,h==null||p==null||_==null||w==null)throw new VT;const I=h<<2|p>>4;if(a.push(I),_!==64){const q=p<<4&240|_>>2;if(a.push(q),w!==64){const J=_<<6&192|w;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class VT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MT=function(s){const n=Q_(s);return md.encodeByteArray(n,!0)},Yu=function(s){return MT(s).replace(/\./g,"")},NT=function(s){try{return md.decodeString(s,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};function OT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const xT=()=>OT().__FIREBASE_DEFAULTS__,zT=()=>{if(typeof process>"u"||typeof My>"u")return;const s=My.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},UT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=s&&NT(s[1]);return n&&JSON.parse(n)},gd=()=>{try{return DT()||xT()||zT()||UT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},LT=s=>gd()?.emulatorHosts?.[s],PT=s=>{const n=LT(s);if(!n)return;const i=n.lastIndexOf(":");if(i<=0||i+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const a=parseInt(n.substring(i+1),10);return n[0]==="["?[n.substring(1,i-1),a]:[n.substring(0,i),a]},Y_=()=>gd()?.config;class Pf{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}wrapCallback(n){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(i):n(i,a))}}}function pd(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function BT(s){return(await fetch(s,{credentials:"include"})).ok}function kT(s,n){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=n||"demo-project",l=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Yu(JSON.stringify(i)),Yu(JSON.stringify(d)),""].join(".")}const Ho={};function jT(){const s={prod:[],emulator:[]};for(const n of Object.keys(Ho))Ho[n]?s.emulator.push(n):s.prod.push(n);return s}function qT(s){let n=document.getElementById(s),i=!1;return n||(n=document.createElement("div"),n.setAttribute("id",s),i=!0),{created:i,element:n}}let Ny=!1;function HT(s,n){if(typeof window>"u"||typeof document>"u"||!pd(window.location.host)||Ho[s]===n||Ho[s]||Ny)return;Ho[s]=n;function i(I){return`__firebase__banner__${I}`}const a="__firebase__banner",h=jT().prod.length>0;function d(){const I=document.getElementById(a);I&&I.remove()}function p(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function v(I,q){I.setAttribute("width","24"),I.setAttribute("id",q),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function _(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{Ny=!0,d()},I}function S(I,q){I.setAttribute("id",q),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function w(){const I=qT(a),q=i("text"),J=document.getElementById(q)||document.createElement("span"),$=i("learnmore"),X=document.getElementById($)||document.createElement("a"),ut=i("preprendIcon"),ft=document.getElementById(ut)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ot=I.element;p(ot),S(X,$);const wt=_();v(ft,ut),ot.append(ft,J,X,wt),document.body.appendChild(ot)}h?(J.innerText="Preview backend disconnected.",ft.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ft.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function GT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FT(){const s=gd()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QT(){return!FT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K_(){try{return typeof indexedDB=="object"}catch{return!1}}function YT(){return new Promise((s,n)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{n(l.error?.message||"")}}catch(i){n(i)}})}const KT="FirebaseError";class Rs extends Error{constructor(n,i,a){super(i),this.code=n,this.customData=a,this.name=KT,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yd.prototype.create)}}class yd{constructor(n,i,a){this.service=n,this.serviceName=i,this.errors=a}create(n,...i){const a=i[0]||{},l=`${this.service}/${n}`,h=this.errors[n],d=h?XT(h,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Rs(l,p,a)}}function XT(s,n){return s.replace(ZT,(i,a)=>{const l=n[a];return l!=null?String(l):`<${a}?>`})}const ZT=/\{\$([^}]+)}/g;function Ku(s,n){if(s===n)return!0;const i=Object.keys(s),a=Object.keys(n);for(const l of i){if(!a.includes(l))return!1;const h=s[l],d=n[l];if(Oy(h)&&Oy(d)){if(!Ku(h,d))return!1}else if(h!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function Oy(s){return s!==null&&typeof s=="object"}function X_(s){return s&&s._delegate?s._delegate:s}class ma{constructor(n,i,a){this.name=n,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}const la="[DEFAULT]";class JT{constructor(n,i){this.name=n,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const i=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(i)){const a=new Pf;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(n){const i=this.normalizeInstanceIdentifier(n?.identifier),a=n?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(WT(n))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:l});a.resolve(h)}catch{}}}}clearInstance(n=la){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...n.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=la){return this.instances.has(n)}getOptions(n=la){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:i={}}=n,a=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);a===p&&d.resolve(l)}return l}onInit(n,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(n),this.onInitCallbacks.set(a,l);const h=this.instances.get(a);return h&&n(h,a),()=>{l.delete(n)}}invokeOnInitCallbacks(n,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(n,i)}catch{}}getOrInitializeService({instanceIdentifier:n,options:i={}}){let a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:$T(n),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch{}return a||null}normalizeInstanceIdentifier(n=la){return this.component?this.component.multipleInstances?n:la:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $T(s){return s===la?void 0:s}function WT(s){return s.instantiationMode==="EAGER"}class t1{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const i=this.getProvider(n.name);if(i.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);i.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const i=new JT(n,this);return this.providers.set(n,i),i}getProviders(){return Array.from(this.providers.values())}}var Ot;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ot||(Ot={}));const e1={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},n1=Ot.INFO,i1={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},r1=(s,n,...i)=>{if(n<s.logLevel)return;const a=new Date().toISOString(),l=i1[n];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class _d{constructor(n){this.name=n,this._logLevel=n1,this._logHandler=r1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Ot))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?e1[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...n),this._logHandler(this,Ot.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...n),this._logHandler(this,Ot.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...n),this._logHandler(this,Ot.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...n),this._logHandler(this,Ot.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...n),this._logHandler(this,Ot.ERROR,...n)}}const a1=(s,n)=>n.some(i=>s instanceof i);let xy,zy;function s1(){return xy||(xy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function o1(){return zy||(zy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z_=new WeakMap,Bf=new WeakMap,J_=new WeakMap,Cf=new WeakMap,vd=new WeakMap;function l1(s){const n=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(Er(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",h),s.addEventListener("error",d)});return n.then(i=>{i instanceof IDBCursor&&Z_.set(i,s)}).catch(()=>{}),vd.set(n,s),n}function u1(s){if(Bf.has(s))return;const n=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Bf.set(s,n)}let kf={get(s,n,i){if(s instanceof IDBTransaction){if(n==="done")return Bf.get(s);if(n==="objectStoreNames")return s.objectStoreNames||J_.get(s);if(n==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Er(s[n])},set(s,n,i){return s[n]=i,!0},has(s,n){return s instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in s}};function c1(s){kf=s(kf)}function h1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...i){const a=s.call(Df(this),n,...i);return J_.set(a,n.sort?n.sort():[n]),Er(a)}:o1().includes(s)?function(...n){return s.apply(Df(this),n),Er(Z_.get(this))}:function(...n){return Er(s.apply(Df(this),n))}}function f1(s){return typeof s=="function"?h1(s):(s instanceof IDBTransaction&&u1(s),a1(s,s1())?new Proxy(s,kf):s)}function Er(s){if(s instanceof IDBRequest)return l1(s);if(Cf.has(s))return Cf.get(s);const n=f1(s);return n!==s&&(Cf.set(s,n),vd.set(n,s)),n}const Df=s=>vd.get(s);function d1(s,n,{blocked:i,upgrade:a,blocking:l,terminated:h}={}){const d=indexedDB.open(s,n),p=Er(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Er(d.result),v.oldVersion,v.newVersion,Er(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{h&&v.addEventListener("close",()=>h()),l&&v.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const m1=["get","getKey","getAll","getAllKeys","count"],g1=["put","add","delete","clear"],If=new Map;function Uy(s,n){if(!(s instanceof IDBDatabase&&!(n in s)&&typeof n=="string"))return;if(If.get(n))return If.get(n);const i=n.replace(/FromIndex$/,""),a=n!==i,l=g1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||m1.includes(i)))return;const h=async function(d,...p){const v=this.transaction(d,l?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&v.done]))[0]};return If.set(n,h),h}c1(s=>({...s,get:(n,i,a)=>Uy(n,i)||s.get(n,i,a),has:(n,i)=>!!Uy(n,i)||s.has(n,i)}));class p1{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(y1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function y1(s){return s.getComponent()?.type==="VERSION"}const jf="@firebase/app",Ly="0.14.7";const Li=new _d("@firebase/app"),_1="@firebase/app-compat",v1="@firebase/analytics-compat",E1="@firebase/analytics",T1="@firebase/app-check-compat",S1="@firebase/app-check",A1="@firebase/auth",b1="@firebase/auth-compat",R1="@firebase/database",w1="@firebase/data-connect",C1="@firebase/database-compat",D1="@firebase/functions",I1="@firebase/functions-compat",V1="@firebase/installations",M1="@firebase/installations-compat",N1="@firebase/messaging",O1="@firebase/messaging-compat",x1="@firebase/performance",z1="@firebase/performance-compat",U1="@firebase/remote-config",L1="@firebase/remote-config-compat",P1="@firebase/storage",B1="@firebase/storage-compat",k1="@firebase/firestore",j1="@firebase/ai",q1="@firebase/firestore-compat",H1="firebase",G1="12.8.0";const qf="[DEFAULT]",F1={[jf]:"fire-core",[_1]:"fire-core-compat",[E1]:"fire-analytics",[v1]:"fire-analytics-compat",[S1]:"fire-app-check",[T1]:"fire-app-check-compat",[A1]:"fire-auth",[b1]:"fire-auth-compat",[R1]:"fire-rtdb",[w1]:"fire-data-connect",[C1]:"fire-rtdb-compat",[D1]:"fire-fn",[I1]:"fire-fn-compat",[V1]:"fire-iid",[M1]:"fire-iid-compat",[N1]:"fire-fcm",[O1]:"fire-fcm-compat",[x1]:"fire-perf",[z1]:"fire-perf-compat",[U1]:"fire-rc",[L1]:"fire-rc-compat",[P1]:"fire-gcs",[B1]:"fire-gcs-compat",[k1]:"fire-fst",[q1]:"fire-fst-compat",[j1]:"fire-vertex","fire-js":"fire-js",[H1]:"fire-js-all"};const Xu=new Map,Q1=new Map,Hf=new Map;function Py(s,n){try{s.container.addComponent(n)}catch(i){Li.debug(`Component ${n.name} failed to register with FirebaseApp ${s.name}`,i)}}function ps(s){const n=s.name;if(Hf.has(n))return Li.debug(`There were multiple attempts to register component ${n}.`),!1;Hf.set(n,s);for(const i of Xu.values())Py(i,s);for(const i of Q1.values())Py(i,s);return!0}function Y1(s,n){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(n)}function K1(s){return s==null?!1:s.settings!==void 0}const X1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tr=new yd("app","Firebase",X1);class Z1{constructor(n,i,a){this._isDeleted=!1,this._options={...n},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}const J1=G1;function $_(s,n={}){let i=s;typeof n!="object"&&(n={name:n});const a={name:qf,automaticDataCollectionEnabled:!0,...n},l=a.name;if(typeof l!="string"||!l)throw Tr.create("bad-app-name",{appName:String(l)});if(i||(i=Y_()),!i)throw Tr.create("no-options");const h=Xu.get(l);if(h){if(Ku(i,h.options)&&Ku(a,h.config))return h;throw Tr.create("duplicate-app",{appName:l})}const d=new t1(l);for(const v of Hf.values())d.addComponent(v);const p=new Z1(i,a,d);return Xu.set(l,p),p}function $1(s=qf){const n=Xu.get(s);if(!n&&s===qf&&Y_())return $_();if(!n)throw Tr.create("no-app",{appName:s});return n}function ca(s,n,i){let a=F1[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),h=n.match(/\s|\//);if(l||h){const d=[`Unable to register library "${a}" with version "${n}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${n}" contains illegal characters (whitespace or "/")`),Li.warn(d.join(" "));return}ps(new ma(`${a}-version`,()=>({library:a,version:n}),"VERSION"))}const W1="firebase-heartbeat-database",tS=1,Xo="firebase-heartbeat-store";let Vf=null;function W_(){return Vf||(Vf=d1(W1,tS,{upgrade:(s,n)=>{switch(n){case 0:try{s.createObjectStore(Xo)}catch(i){console.warn(i)}}}}).catch(s=>{throw Tr.create("idb-open",{originalErrorMessage:s.message})})),Vf}async function eS(s){try{const i=(await W_()).transaction(Xo),a=await i.objectStore(Xo).get(tv(s));return await i.done,a}catch(n){if(n instanceof Rs)Li.warn(n.message);else{const i=Tr.create("idb-get",{originalErrorMessage:n?.message});Li.warn(i.message)}}}async function By(s,n){try{const a=(await W_()).transaction(Xo,"readwrite");await a.objectStore(Xo).put(n,tv(s)),await a.done}catch(i){if(i instanceof Rs)Li.warn(i.message);else{const a=Tr.create("idb-set",{originalErrorMessage:i?.message});Li.warn(a.message)}}}function tv(s){return`${s.name}!${s.options.appId}`}const nS=1024,iS=30;class rS{constructor(n){this.container=n,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new sS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=ky();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>iS){const l=oS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Li.warn(n)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ky(),{heartbeatsToSend:i,unsentEntries:a}=aS(this._heartbeatsCache.heartbeats),l=Yu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Li.warn(n),""}}}function ky(){return new Date().toISOString().substring(0,10)}function aS(s,n=nS){const i=[];let a=s.slice();for(const l of s){const h=i.find(d=>d.agent===l.agent);if(h){if(h.dates.push(l.date),jy(i)>n){h.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),jy(i)>n){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class sS{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return K_()?YT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await eS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const a=await this.read();return By(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const a=await this.read();return By(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...n.heartbeats]})}else return}}function jy(s){return Yu(JSON.stringify({version:2,heartbeats:s})).length}function oS(s){if(s.length===0)return-1;let n=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,n=a);return n}function lS(s){ps(new ma("platform-logger",n=>new p1(n),"PRIVATE")),ps(new ma("heartbeat",n=>new rS(n),"PRIVATE")),ca(jf,Ly,s),ca(jf,Ly,"esm2020"),ca("fire-js","")}lS("");var qy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Sr,ev;(function(){var s;function n(b,A){function D(){}D.prototype=A.prototype,b.F=A.prototype,b.prototype=new D,b.prototype.constructor=b,b.D=function(O,V,z){for(var R=Array(arguments.length-2),$t=2;$t<arguments.length;$t++)R[$t-2]=arguments[$t];return A.prototype[V].apply(O,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}n(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(b,A,D){D||(D=0);const O=Array(16);if(typeof A=="string")for(var V=0;V<16;++V)O[V]=A.charCodeAt(D++)|A.charCodeAt(D++)<<8|A.charCodeAt(D++)<<16|A.charCodeAt(D++)<<24;else for(V=0;V<16;++V)O[V]=A[D++]|A[D++]<<8|A[D++]<<16|A[D++]<<24;A=b.g[0],D=b.g[1],V=b.g[2];let z=b.g[3],R;R=A+(z^D&(V^z))+O[0]+3614090360&4294967295,A=D+(R<<7&4294967295|R>>>25),R=z+(V^A&(D^V))+O[1]+3905402710&4294967295,z=A+(R<<12&4294967295|R>>>20),R=V+(D^z&(A^D))+O[2]+606105819&4294967295,V=z+(R<<17&4294967295|R>>>15),R=D+(A^V&(z^A))+O[3]+3250441966&4294967295,D=V+(R<<22&4294967295|R>>>10),R=A+(z^D&(V^z))+O[4]+4118548399&4294967295,A=D+(R<<7&4294967295|R>>>25),R=z+(V^A&(D^V))+O[5]+1200080426&4294967295,z=A+(R<<12&4294967295|R>>>20),R=V+(D^z&(A^D))+O[6]+2821735955&4294967295,V=z+(R<<17&4294967295|R>>>15),R=D+(A^V&(z^A))+O[7]+4249261313&4294967295,D=V+(R<<22&4294967295|R>>>10),R=A+(z^D&(V^z))+O[8]+1770035416&4294967295,A=D+(R<<7&4294967295|R>>>25),R=z+(V^A&(D^V))+O[9]+2336552879&4294967295,z=A+(R<<12&4294967295|R>>>20),R=V+(D^z&(A^D))+O[10]+4294925233&4294967295,V=z+(R<<17&4294967295|R>>>15),R=D+(A^V&(z^A))+O[11]+2304563134&4294967295,D=V+(R<<22&4294967295|R>>>10),R=A+(z^D&(V^z))+O[12]+1804603682&4294967295,A=D+(R<<7&4294967295|R>>>25),R=z+(V^A&(D^V))+O[13]+4254626195&4294967295,z=A+(R<<12&4294967295|R>>>20),R=V+(D^z&(A^D))+O[14]+2792965006&4294967295,V=z+(R<<17&4294967295|R>>>15),R=D+(A^V&(z^A))+O[15]+1236535329&4294967295,D=V+(R<<22&4294967295|R>>>10),R=A+(V^z&(D^V))+O[1]+4129170786&4294967295,A=D+(R<<5&4294967295|R>>>27),R=z+(D^V&(A^D))+O[6]+3225465664&4294967295,z=A+(R<<9&4294967295|R>>>23),R=V+(A^D&(z^A))+O[11]+643717713&4294967295,V=z+(R<<14&4294967295|R>>>18),R=D+(z^A&(V^z))+O[0]+3921069994&4294967295,D=V+(R<<20&4294967295|R>>>12),R=A+(V^z&(D^V))+O[5]+3593408605&4294967295,A=D+(R<<5&4294967295|R>>>27),R=z+(D^V&(A^D))+O[10]+38016083&4294967295,z=A+(R<<9&4294967295|R>>>23),R=V+(A^D&(z^A))+O[15]+3634488961&4294967295,V=z+(R<<14&4294967295|R>>>18),R=D+(z^A&(V^z))+O[4]+3889429448&4294967295,D=V+(R<<20&4294967295|R>>>12),R=A+(V^z&(D^V))+O[9]+568446438&4294967295,A=D+(R<<5&4294967295|R>>>27),R=z+(D^V&(A^D))+O[14]+3275163606&4294967295,z=A+(R<<9&4294967295|R>>>23),R=V+(A^D&(z^A))+O[3]+4107603335&4294967295,V=z+(R<<14&4294967295|R>>>18),R=D+(z^A&(V^z))+O[8]+1163531501&4294967295,D=V+(R<<20&4294967295|R>>>12),R=A+(V^z&(D^V))+O[13]+2850285829&4294967295,A=D+(R<<5&4294967295|R>>>27),R=z+(D^V&(A^D))+O[2]+4243563512&4294967295,z=A+(R<<9&4294967295|R>>>23),R=V+(A^D&(z^A))+O[7]+1735328473&4294967295,V=z+(R<<14&4294967295|R>>>18),R=D+(z^A&(V^z))+O[12]+2368359562&4294967295,D=V+(R<<20&4294967295|R>>>12),R=A+(D^V^z)+O[5]+4294588738&4294967295,A=D+(R<<4&4294967295|R>>>28),R=z+(A^D^V)+O[8]+2272392833&4294967295,z=A+(R<<11&4294967295|R>>>21),R=V+(z^A^D)+O[11]+1839030562&4294967295,V=z+(R<<16&4294967295|R>>>16),R=D+(V^z^A)+O[14]+4259657740&4294967295,D=V+(R<<23&4294967295|R>>>9),R=A+(D^V^z)+O[1]+2763975236&4294967295,A=D+(R<<4&4294967295|R>>>28),R=z+(A^D^V)+O[4]+1272893353&4294967295,z=A+(R<<11&4294967295|R>>>21),R=V+(z^A^D)+O[7]+4139469664&4294967295,V=z+(R<<16&4294967295|R>>>16),R=D+(V^z^A)+O[10]+3200236656&4294967295,D=V+(R<<23&4294967295|R>>>9),R=A+(D^V^z)+O[13]+681279174&4294967295,A=D+(R<<4&4294967295|R>>>28),R=z+(A^D^V)+O[0]+3936430074&4294967295,z=A+(R<<11&4294967295|R>>>21),R=V+(z^A^D)+O[3]+3572445317&4294967295,V=z+(R<<16&4294967295|R>>>16),R=D+(V^z^A)+O[6]+76029189&4294967295,D=V+(R<<23&4294967295|R>>>9),R=A+(D^V^z)+O[9]+3654602809&4294967295,A=D+(R<<4&4294967295|R>>>28),R=z+(A^D^V)+O[12]+3873151461&4294967295,z=A+(R<<11&4294967295|R>>>21),R=V+(z^A^D)+O[15]+530742520&4294967295,V=z+(R<<16&4294967295|R>>>16),R=D+(V^z^A)+O[2]+3299628645&4294967295,D=V+(R<<23&4294967295|R>>>9),R=A+(V^(D|~z))+O[0]+4096336452&4294967295,A=D+(R<<6&4294967295|R>>>26),R=z+(D^(A|~V))+O[7]+1126891415&4294967295,z=A+(R<<10&4294967295|R>>>22),R=V+(A^(z|~D))+O[14]+2878612391&4294967295,V=z+(R<<15&4294967295|R>>>17),R=D+(z^(V|~A))+O[5]+4237533241&4294967295,D=V+(R<<21&4294967295|R>>>11),R=A+(V^(D|~z))+O[12]+1700485571&4294967295,A=D+(R<<6&4294967295|R>>>26),R=z+(D^(A|~V))+O[3]+2399980690&4294967295,z=A+(R<<10&4294967295|R>>>22),R=V+(A^(z|~D))+O[10]+4293915773&4294967295,V=z+(R<<15&4294967295|R>>>17),R=D+(z^(V|~A))+O[1]+2240044497&4294967295,D=V+(R<<21&4294967295|R>>>11),R=A+(V^(D|~z))+O[8]+1873313359&4294967295,A=D+(R<<6&4294967295|R>>>26),R=z+(D^(A|~V))+O[15]+4264355552&4294967295,z=A+(R<<10&4294967295|R>>>22),R=V+(A^(z|~D))+O[6]+2734768916&4294967295,V=z+(R<<15&4294967295|R>>>17),R=D+(z^(V|~A))+O[13]+1309151649&4294967295,D=V+(R<<21&4294967295|R>>>11),R=A+(V^(D|~z))+O[4]+4149444226&4294967295,A=D+(R<<6&4294967295|R>>>26),R=z+(D^(A|~V))+O[11]+3174756917&4294967295,z=A+(R<<10&4294967295|R>>>22),R=V+(A^(z|~D))+O[2]+718787259&4294967295,V=z+(R<<15&4294967295|R>>>17),R=D+(z^(V|~A))+O[9]+3951481745&4294967295,b.g[0]=b.g[0]+A&4294967295,b.g[1]=b.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,b.g[2]=b.g[2]+V&4294967295,b.g[3]=b.g[3]+z&4294967295}a.prototype.v=function(b,A){A===void 0&&(A=b.length);const D=A-this.blockSize,O=this.C;let V=this.h,z=0;for(;z<A;){if(V==0)for(;z<=D;)l(this,b,z),z+=this.blockSize;if(typeof b=="string"){for(;z<A;)if(O[V++]=b.charCodeAt(z++),V==this.blockSize){l(this,O),V=0;break}}else for(;z<A;)if(O[V++]=b[z++],V==this.blockSize){l(this,O),V=0;break}}this.h=V,this.o+=A},a.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var A=1;A<b.length-8;++A)b[A]=0;A=this.o*8;for(var D=b.length-8;D<b.length;++D)b[D]=A&255,A/=256;for(this.v(b),b=Array(16),A=0,D=0;D<4;++D)for(let O=0;O<32;O+=8)b[A++]=this.g[D]>>>O&255;return b};function h(b,A){var D=p;return Object.prototype.hasOwnProperty.call(D,b)?D[b]:D[b]=A(b)}function d(b,A){this.h=A;const D=[];let O=!0;for(let V=b.length-1;V>=0;V--){const z=b[V]|0;O&&z==A||(D[V]=z,O=!1)}this.g=D}var p={};function v(b){return-128<=b&&b<128?h(b,function(A){return new d([A|0],A<0?-1:0)}):new d([b|0],b<0?-1:0)}function _(b){if(isNaN(b)||!isFinite(b))return w;if(b<0)return X(_(-b));const A=[];let D=1;for(let O=0;b>=D;O++)A[O]=b/D|0,D*=4294967296;return new d(A,0)}function S(b,A){if(b.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(b.charAt(0)=="-")return X(S(b.substring(1),A));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=_(Math.pow(A,8));let O=w;for(let z=0;z<b.length;z+=8){var V=Math.min(8,b.length-z);const R=parseInt(b.substring(z,z+V),A);V<8?(V=_(Math.pow(A,V)),O=O.j(V).add(_(R))):(O=O.j(D),O=O.add(_(R)))}return O}var w=v(0),I=v(1),q=v(16777216);s=d.prototype,s.m=function(){if($(this))return-X(this).m();let b=0,A=1;for(let D=0;D<this.g.length;D++){const O=this.i(D);b+=(O>=0?O:4294967296+O)*A,A*=4294967296}return b},s.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(J(this))return"0";if($(this))return"-"+X(this).toString(b);const A=_(Math.pow(b,6));var D=this;let O="";for(;;){const V=wt(D,A).g;D=ut(D,V.j(A));let z=((D.g.length>0?D.g[0]:D.h)>>>0).toString(b);if(D=V,J(D))return z+O;for(;z.length<6;)z="0"+z;O=z+O}},s.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function J(b){if(b.h!=0)return!1;for(let A=0;A<b.g.length;A++)if(b.g[A]!=0)return!1;return!0}function $(b){return b.h==-1}s.l=function(b){return b=ut(this,b),$(b)?-1:J(b)?0:1};function X(b){const A=b.g.length,D=[];for(let O=0;O<A;O++)D[O]=~b.g[O];return new d(D,~b.h).add(I)}s.abs=function(){return $(this)?X(this):this},s.add=function(b){const A=Math.max(this.g.length,b.g.length),D=[];let O=0;for(let V=0;V<=A;V++){let z=O+(this.i(V)&65535)+(b.i(V)&65535),R=(z>>>16)+(this.i(V)>>>16)+(b.i(V)>>>16);O=R>>>16,z&=65535,R&=65535,D[V]=R<<16|z}return new d(D,D[D.length-1]&-2147483648?-1:0)};function ut(b,A){return b.add(X(A))}s.j=function(b){if(J(this)||J(b))return w;if($(this))return $(b)?X(this).j(X(b)):X(X(this).j(b));if($(b))return X(this.j(X(b)));if(this.l(q)<0&&b.l(q)<0)return _(this.m()*b.m());const A=this.g.length+b.g.length,D=[];for(var O=0;O<2*A;O++)D[O]=0;for(O=0;O<this.g.length;O++)for(let V=0;V<b.g.length;V++){const z=this.i(O)>>>16,R=this.i(O)&65535,$t=b.i(V)>>>16,we=b.i(V)&65535;D[2*O+2*V]+=R*we,ft(D,2*O+2*V),D[2*O+2*V+1]+=z*we,ft(D,2*O+2*V+1),D[2*O+2*V+1]+=R*$t,ft(D,2*O+2*V+1),D[2*O+2*V+2]+=z*$t,ft(D,2*O+2*V+2)}for(b=0;b<A;b++)D[b]=D[2*b+1]<<16|D[2*b];for(b=A;b<2*A;b++)D[b]=0;return new d(D,0)};function ft(b,A){for(;(b[A]&65535)!=b[A];)b[A+1]+=b[A]>>>16,b[A]&=65535,A++}function ot(b,A){this.g=b,this.h=A}function wt(b,A){if(J(A))throw Error("division by zero");if(J(b))return new ot(w,w);if($(b))return A=wt(X(b),A),new ot(X(A.g),X(A.h));if($(A))return A=wt(b,X(A)),new ot(X(A.g),A.h);if(b.g.length>30){if($(b)||$(A))throw Error("slowDivide_ only works with positive integers.");for(var D=I,O=A;O.l(b)<=0;)D=Ut(D),O=Ut(O);var V=st(D,1),z=st(O,1);for(O=st(O,2),D=st(D,2);!J(O);){var R=z.add(O);R.l(b)<=0&&(V=V.add(D),z=R),O=st(O,1),D=st(D,1)}return A=ut(b,V.j(A)),new ot(V,A)}for(V=w;b.l(A)>=0;){for(D=Math.max(1,Math.floor(b.m()/A.m())),O=Math.ceil(Math.log(D)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),z=_(D),R=z.j(A);$(R)||R.l(b)>0;)D-=O,z=_(D),R=z.j(A);J(z)&&(z=I),V=V.add(z),b=ut(b,R)}return new ot(V,b)}s.B=function(b){return wt(this,b).h},s.and=function(b){const A=Math.max(this.g.length,b.g.length),D=[];for(let O=0;O<A;O++)D[O]=this.i(O)&b.i(O);return new d(D,this.h&b.h)},s.or=function(b){const A=Math.max(this.g.length,b.g.length),D=[];for(let O=0;O<A;O++)D[O]=this.i(O)|b.i(O);return new d(D,this.h|b.h)},s.xor=function(b){const A=Math.max(this.g.length,b.g.length),D=[];for(let O=0;O<A;O++)D[O]=this.i(O)^b.i(O);return new d(D,this.h^b.h)};function Ut(b){const A=b.g.length+1,D=[];for(let O=0;O<A;O++)D[O]=b.i(O)<<1|b.i(O-1)>>>31;return new d(D,b.h)}function st(b,A){const D=A>>5;A%=32;const O=b.g.length-D,V=[];for(let z=0;z<O;z++)V[z]=A>0?b.i(z+D)>>>A|b.i(z+D+1)<<32-A:b.i(z+D);return new d(V,b.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,ev=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,Sr=d}).apply(typeof qy<"u"?qy:typeof self<"u"?self:typeof window<"u"?window:{});var Uu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var nv,Po,iv,qu,Gf,rv,av,sv;(function(){var s,n=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uu=="object"&&Uu];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var y=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in y))break t;y=y[U]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&n(y,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var y=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&y.push([T,m[T]]);return y}});var h=h||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,y){return u.call.apply(u.bind,arguments)}function _(u,m,y){return _=v,_.apply(null,arguments)}function S(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(T,U,k){for(var W=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)W[Et-2]=arguments[Et];return m.prototype[U].apply(T,W)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var y=typeof U;if(y=y!="object"?y:U?Array.isArray(U)?"array":y:"null",y=="array"||y=="object"&&typeof U.length=="number"){y=u.length||0;const k=U.length||0;u.length=y+k;for(let W=0;W<k;W++)u[y+W]=U[W]}else u.push(U)}}class ${constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function X(u){d.setTimeout(()=>{throw u},0)}function ut(){var u=b;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ft{constructor(){this.h=this.g=null}add(m,y){const T=ot.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var ot=new $(()=>new wt,u=>u.reset());class wt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Ut,st=!1,b=new ft,A=()=>{const u=Promise.resolve(void 0);Ut=()=>{u.then(D)}};function D(){for(var u;u=ut();){try{u.h.call(u.g)}catch(y){X(y)}var m=ot;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}st=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function $t(u,m){V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w($t,V),$t.prototype.init=function(u,m){const y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&$t.Z.h.call(this)},$t.prototype.h=function(){$t.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var we="closure_listenable_"+(Math.random()*1e6|0),G=0;function et(u,m,y,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=U,this.key=++G,this.da=this.fa=!1}function dt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function Ht(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function N(u){const m={};for(const y in u)m[y]=u[y];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let y,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(y in T)u[y]=T[y];for(let k=0;k<Y.length;k++)y=Y[k],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function it(u){this.src=u,this.g={},this.h=0}it.prototype.add=function(u,m,y,T,U){const k=u.toString();u=this.g[k],u||(u=this.g[k]=[],this.h++);const W=St(u,m,T,U);return W>-1?(m=u[W],y||(m.fa=!1)):(m=new et(m,this.src,k,!!T,U),m.fa=y,u.push(m)),m};function pt(u,m){const y=m.type;if(y in u.g){var T=u.g[y],U=Array.prototype.indexOf.call(T,m,void 0),k;(k=U>=0)&&Array.prototype.splice.call(T,U,1),k&&(dt(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function St(u,m,y,T){for(let U=0;U<u.length;++U){const k=u[U];if(!k.da&&k.listener==m&&k.capture==!!y&&k.ha==T)return U}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),Ce={};function ee(u,m,y,T,U){if(Array.isArray(m)){for(let k=0;k<m.length;k++)ee(u,m[k],y,T,U);return null}return y=Ms(y),u&&u[we]?u.J(m,y,p(T)?!!T.capture:!1,U):Mr(u,m,y,!1,T,U)}function Mr(u,m,y,T,U,k){if(!m)throw Error("Invalid event type");const W=p(U)?!!U.capture:!!U;let Et=Nr(u);if(Et||(u[Mt]=Et=new it(u)),y=Et.add(m,y,T,W,k),y.proxy)return y;if(T=ya(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)z||(U=W),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Gn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function ya(){function u(y){return m.call(u.src,u.listener,y)}const m=Is;return u}function _a(u,m,y,T,U){if(Array.isArray(m))for(var k=0;k<m.length;k++)_a(u,m[k],y,T,U);else T=p(T)?!!T.capture:!!T,y=Ms(y),u&&u[we]?(u=u.i,k=String(m).toString(),k in u.g&&(m=u.g[k],y=St(m,y,T,U),y>-1&&(dt(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[k],u.h--)))):u&&(u=Nr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,y,T,U)),(y=u>-1?m[u]:null)&&va(y))}function va(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[we])pt(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(Gn(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=Nr(m))?(pt(y,u),y.h==0&&(y.src=null,m[Mt]=null)):dt(u)}}}function Gn(u){return u in Ce?Ce[u]:Ce[u]="on"+u}function Is(u,m){if(u.da)u=!0;else{m=new $t(m,this);const y=u.listener,T=u.ha||u.src;u.fa&&va(u),u=y.call(T,m)}return u}function Nr(u){return u=u[Mt],u instanceof it?u:null}var Vs="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ms(u){return typeof u=="function"?u:(u[Vs]||(u[Vs]=function(m){return u.handleEvent(m)}),u[Vs])}function me(){O.call(this),this.i=new it(this),this.M=this,this.G=null}w(me,O),me.prototype[we]=!0,me.prototype.removeEventListener=function(u,m,y,T){_a(this,u,m,y,T)};function De(u,m){var y,T=u.G;if(T)for(y=[];T;T=T.G)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new V(m,u);else if(m instanceof V)m.target=m.target||u;else{var U=m;m=new V(T,u),nt(m,U)}U=!0;let k,W;if(y)for(W=y.length-1;W>=0;W--)k=m.g=y[W],U=Bi(k,T,!0,m)&&U;if(k=m.g=u,U=Bi(k,T,!0,m)&&U,U=Bi(k,T,!1,m)&&U,y)for(W=0;W<y.length;W++)k=m.g=y[W],U=Bi(k,T,!1,m)&&U}me.prototype.N=function(){if(me.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let T=0;T<y.length;T++)dt(y[T]);delete u.g[m],u.h--}}this.G=null},me.prototype.J=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},me.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function Bi(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let k=0;k<m.length;++k){const W=m[k];if(W&&!W.da&&W.capture==y){const Et=W.listener,ce=W.ha||W.src;W.fa&&pt(u.i,W),U=Et.call(ce,T)!==!1&&U}}return U&&!T.defaultPrevented}function pc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function sl(u){u.g=pc(()=>{u.g=null,u.i&&(u.i=!1,sl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Xe extends O{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:sl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Or(u){O.call(this),this.h=u,this.g={}}w(Or,O);var Ns=[];function Os(u){Lt(u.g,function(m,y){this.g.hasOwnProperty(y)&&va(m)},u),u.g={}}Or.prototype.N=function(){Or.Z.N.call(this),Os(this)},Or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ki=d.JSON.stringify,yc=d.JSON.parse,ol=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ll(){}function ul(){}var Mn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Le(){V.call(this,"d")}w(Le,V);function _n(){V.call(this,"c")}w(_n,V);var ue={},cl=null;function Ea(){return cl=cl||new me}ue.Ia="serverreachability";function hl(u){V.call(this,ue.Ia,u)}w(hl,V);function Fn(u){const m=Ea();De(m,new hl(m))}ue.STAT_EVENT="statevent";function xr(u,m){V.call(this,ue.STAT_EVENT,u),this.stat=m}w(xr,V);function ge(u){const m=Ea();De(m,new xr(m,u))}ue.Ja="timingevent";function Qn(u,m){V.call(this,ue.Ja,u),this.size=m}w(Qn,V);function Yn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Nn(){this.g=!0}Nn.prototype.ua=function(){this.g=!1};function _c(u,m,y,T,U,k){u.info(function(){if(u.g)if(k){var W="",Et=k.split("&");for(let jt=0;jt<Et.length;jt++){var ce=Et[jt].split("=");if(ce.length>1){const ne=ce[0];ce=ce[1];const Sn=ne.split("_");W=Sn.length>=2&&Sn[1]=="type"?W+(ne+"="+ce+"&"):W+(ne+"=redacted&")}}}else W=null;else W=k;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+y+`
`+W})}function fl(u,m,y,T,U,k,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+y+`
`+k+" "+W})}function Kn(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+vc(u,y)+(T?" "+T:"")})}function zr(u,m){u.info(function(){return"TIMEOUT: "+m})}Nn.prototype.info=function(){};function vc(u,m){if(!u.g)return m;if(!m)return null;try{const k=JSON.parse(m);if(k){for(u=0;u<k.length;u++)if(Array.isArray(k[u])){var y=k[u];if(!(y.length<2)){var T=y[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return ki(k)}catch{return m}}var Ur={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},zs;function Lr(){}w(Lr,ll),Lr.prototype.g=function(){return new XMLHttpRequest},zs=new Lr;function _i(u){return encodeURIComponent(String(u))}function dl(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function On(u,m,y,T){this.j=u,this.i=m,this.l=y,this.S=T||1,this.V=new Or(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new xn}function xn(){this.i=null,this.g="",this.h=!1}var pe={},Ne={};function Xn(u,m,y){u.M=1,u.A=Pr(_e(m)),u.u=y,u.R=!0,Ta(u,null)}function Ta(u,m){u.F=Date.now(),Zn(u),u.B=_e(u.A);var y=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Ra(y.i,"t",T),u.C=0,y=u.j.L,u.h=new xn,u.g=Dl(u.j,y?m:null,!u.u),u.P>0&&(u.O=new Xe(_(u.Y,u,u.g),u.P)),m=u.V,y=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Ns[0]=U.toString()),U=Ns);for(let k=0;k<U.length;k++){const W=ee(y,U[k],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?N(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Fn(),_c(u.i,u.v,u.B,u.l,u.S,u.u)}On.prototype.ba=function(u){u=u.target;const m=this.O;m&&Ln(u)==3?m.j():this.Y(u)},On.prototype.Y=function(u){try{if(u==this.g)t:{const Et=Ln(this.g),ce=this.g.ya(),jt=this.g.ca();if(!(Et<3)&&(Et!=3||this.g&&(this.h.h||this.g.la()||Pe(this.g)))){this.K||Et!=4||ce==7||(ce==8||jt<=0?Fn(3):Fn(2)),Jn(this);var m=this.g.ca();this.X=m;var y=Ec(this);if(this.o=m==200,fl(this.i,this.v,this.B,this.l,this.S,Et,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var k=T;break e}}k=null}if(u=k)Kn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,$n(this,u);else{this.o=!1,this.m=3,ge(12),un(this),vn(this);break t}}if(this.R){u=!0;let ne;for(;!this.K&&this.C<y.length;)if(ne=gl(this,y),ne==Ne){Et==4&&(this.m=4,ge(14),u=!1),Kn(this.i,this.l,null,"[Incomplete Response]");break}else if(ne==pe){this.m=4,ge(15),Kn(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else Kn(this.i,this.l,ne,null),$n(this,ne);if(ml(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||y.length!=0||this.h.h||(this.m=1,ge(16),u=!1),this.o=this.o&&u,!u)Kn(this.i,this.l,y,"[Invalid Chunked Response]"),un(this),vn(this);else if(y.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Zs(W),W.P=!0,ge(11))}}else Kn(this.i,this.l,y,null),$n(this,y);Et==4&&un(this),this.o&&!this.K&&(Et==4?bl(this.j,this):(this.o=!1,Zn(this)))}else Ei(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,ge(12)):(this.m=0,ge(13)),un(this),vn(this)}}}catch{}};function Ec(u){if(!ml(u))return u.g.la();const m=Pe(u.g);if(m==="")return"";let y="";const T=m.length,U=Ln(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return un(u),vn(u),"";u.h.i=new d.TextDecoder}for(let k=0;k<T;k++)u.h.h=!0,y+=u.h.i.decode(m[k],{stream:!(U&&k==T-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function ml(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function gl(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Ne:(y=Number(m.substring(y,T)),isNaN(y)?pe:(T+=1,T+y>m.length?Ne:(m=m.slice(T,T+y),u.C=T+y,m)))}On.prototype.cancel=function(){this.K=!0,un(this)};function Zn(u){u.T=Date.now()+u.H,Sa(u,u.H)}function Sa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Yn(_(u.aa,u),m)}function Jn(u){u.D&&(d.clearTimeout(u.D),u.D=null)}On.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(zr(this.i,this.B),this.M!=2&&(Fn(),ge(17)),un(this),this.m=2,vn(this)):Sa(this,this.T-u)};function vn(u){u.j.I==0||u.K||bl(u.j,u)}function un(u){Jn(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Os(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function $n(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||ti(y.h,u))){if(!u.L&&ti(y.h,u)&&y.I==3){try{var T=y.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)Va(y),Ki(y);else break t;Fr(y),ge(18)}}else y.xa=U[1],0<y.xa-y.K&&U[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=Yn(_(y.Va,y),6e3));Wn(y.h)<=1&&y.ta&&(y.ta=void 0)}else si(y,11)}else if((u.L||y.g==u)&&Va(y),!R(m))for(U=y.Ba.g.parse(m),m=0;m<U.length;m++){let jt=U[m];const ne=jt[0];if(!(ne<=y.K))if(y.K=ne,jt=jt[1],y.I==2)if(jt[0]=="c"){y.M=jt[1],y.ba=jt[2];const Sn=jt[3];Sn!=null&&(y.ka=Sn,y.j.info("VER="+y.ka));const oi=jt[4];oi!=null&&(y.za=oi,y.j.info("SVER="+y.za));const Pn=jt[5];Pn!=null&&typeof Pn=="number"&&Pn>0&&(T=1.5*Pn,y.O=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Bn=u.g;if(Bn){const Qr=Bn.g?Bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qr){var k=T.h;k.g||Qr.indexOf("spdy")==-1&&Qr.indexOf("quic")==-1&&Qr.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Ps(k,k.h),k.h=null))}if(T.G){const Ma=Bn.g?Bn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ma&&(T.wa=Ma,Gt(T.J,T.G,Ma))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),T=y;var W=u;if(T.na=Cl(T,T.L?T.ba:null,T.W),W.L){Bs(T.h,W);var Et=W,ce=T.O;ce&&(Et.H=ce),Et.D&&(Jn(Et),Zn(Et)),T.g=W}else Sl(T);y.i.length>0&&ai(y)}else jt[0]!="stop"&&jt[0]!="close"||si(y,7);else y.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?si(y,7):Ks(y):jt[0]!="noop"&&y.l&&y.l.qa(jt),y.A=0)}}Fn(4)}catch{}}var ye=class{constructor(u,m){this.g=u,this.map=m}};function Us(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ls(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Wn(u){return u.h?1:u.g?u.g.size:0}function ti(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ps(u,m){u.g?u.g.add(m):u.h=m}function Bs(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Us.prototype.cancel=function(){if(this.i=ks(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ks(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return q(u.i)}var pl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Aa(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const T=u[y].indexOf("=");let U,k=null;T>=0?(U=u[y].substring(0,T),k=u[y].substring(T+1)):U=u[y],m(U,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof cn?(this.l=u.l,Oe(this,u.j),this.o=u.o,this.g=u.g,ji(this,u.u),this.h=u.h,js(this,El(u.i)),this.m=u.m):u&&(m=String(u).match(pl))?(this.l=!1,Oe(this,m[1]||"",!0),this.o=ei(m[2]||""),this.g=ei(m[3]||"",!0),ji(this,m[4]),this.h=ei(m[5]||"",!0),js(this,m[6]||"",!0),this.m=ei(m[7]||"")):(this.l=!1,this.i=new Hi(null,this.l))}cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Br(m,ba,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Br(m,ba,!0),"@"),u.push(_i(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Br(y,y.charAt(0)=="/"?qs:yl,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Br(y,_l)),u.join("")},cn.prototype.resolve=function(u){const m=_e(this);let y=!!u.j;y?Oe(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var T=u.h;if(y)ji(m,u.u);else if(y=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const k=[];for(let W=0;W<U.length;){const Et=U[W++];Et=="."?T&&W==U.length&&k.push(""):Et==".."?((k.length>1||k.length==1&&k[0]!="")&&k.pop(),T&&W==U.length&&k.push("")):(k.push(Et),T=!0)}T=k.join("/")}else T=U}return y?m.h=T:y=u.i.toString()!=="",y?js(m,El(u.i)):y=!!u.m,y&&(m.m=u.m),m};function _e(u){return new cn(u)}function Oe(u,m,y){u.j=y?ei(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ji(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function js(u,m,y){m instanceof Hi?(u.i=m,wa(u.i,u.l)):(y||(m=Br(m,qi)),u.i=new Hi(m,u.l))}function Gt(u,m,y){u.i.set(m,y)}function Pr(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ei(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Br(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,tn),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function tn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ba=/[#\/\?@]/g,yl=/[#\?:]/g,qs=/[#\?]/g,qi=/[#\?@]/g,_l=/#/g;function Hi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function en(u){u.g||(u.g=new Map,u.h=0,u.i&&Aa(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}s=Hi.prototype,s.add=function(u,m){en(this),this.i=null,u=Gi(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function vl(u,m){en(u),m=Gi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Hs(u,m){return en(u),m=Gi(u,m),u.g.has(m)}s.forEach=function(u,m){en(this),this.g.forEach(function(y,T){y.forEach(function(U){u.call(m,U,T,this)},this)},this)};function Gs(u,m){en(u);let y=[];if(typeof m=="string")Hs(u,m)&&(y=y.concat(u.g.get(Gi(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}s.set=function(u,m){return en(this),this.i=null,u=Gi(this,u),Hs(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Gs(this,u),u.length>0?String(u[0]):m):m};function Ra(u,m,y){vl(u,m),y.length>0&&(u.i=null,u.g.set(Gi(u,m),q(y)),u.h+=y.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var y=m[T];const U=_i(y);y=Gs(this,y);for(let k=0;k<y.length;k++){let W=U;y[k]!==""&&(W+="="+_i(y[k])),u.push(W)}}return this.i=u.join("&")};function El(u){const m=new Hi;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Gi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function wa(u,m){m&&!u.j&&(en(u),u.i=null,u.g.forEach(function(y,T){const U=T.toLowerCase();T!=U&&(vl(this,T),Ra(this,U,y))},u)),u.j=m}function zn(u,m){const y=new Nn;if(d.Image){const T=new Image;T.onload=S(En,y,"TestLoadImage: loaded",!0,m,T),T.onerror=S(En,y,"TestLoadImage: error",!1,m,T),T.onabort=S(En,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(En,y,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Fs(u,m){const y=new Nn,T=new AbortController,U=setTimeout(()=>{T.abort(),En(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(k=>{clearTimeout(U),k.ok?En(y,"TestPingServer: ok",!0,m):En(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),En(y,"TestPingServer: error",!1,m)})}function En(u,m,y,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(y)}catch{}}function Fi(){this.g=new ol}function ni(u){this.i=u.Sb||null,this.h=u.ab||!1}w(ni,ll),ni.prototype.g=function(){return new kr(this.i,this.h)};function kr(u,m){me.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(kr,me),s=kr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Un(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Qi(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Un(this)),this.g&&(this.readyState=3,Un(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ca(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ca(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Qi(this):Un(this),this.readyState==3&&Ca(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Qi(this))},s.Na=function(u){this.g&&(this.response=u,Qi(this))},s.ga=function(){this.g&&Qi(this)};function Qi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Un(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Un(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Tn(u){let m="";return Lt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function jr(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=Tn(y),typeof u=="string"?y!=null&&_i(y):Gt(u,m,y))}function Yt(u){me.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Yt,me);var ii=/^https?$/i,Qs=["POST","PUT"];s=Yt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():zs.g(),this.g.onreadystatechange=I(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(k){qr(this,k);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)y.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const k of T.keys())y.set(k,T.get(k));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(k=>k.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Qs,m,void 0)>=0)||T||U||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,W]of y)this.g.setRequestHeader(k,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(k){qr(this,k)}};function qr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ys(u),vi(u)}function Ys(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),vi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vi(this,!0)),Yt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Hr(this):this.Xa())},s.Xa=function(){Hr(this)};function Hr(u){if(u.h&&typeof h<"u"){if(u.v&&Ln(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Ln(u)==4){u.h=!1;try{const k=u.ca();t:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=k===0){let W=String(u.D).match(pl)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!ii.test(W?W.toLowerCase():"")}y=T}if(y)De(u,"complete"),De(u,"success");else{u.o=6;try{var U=Ln(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Ys(u)}}finally{vi(u)}}}}function vi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||De(u,"ready");try{y.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Ln(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Ln(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),yc(m)}};function Pe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ei(u){const m={};u=(u.g&&Ln(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var y=dl(u[T]);const U=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const k=m[U]||[];m[U]=k,k.push(y)}Ht(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ri(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Yi(u){this.za=0,this.i=[],this.j=new Nn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ri("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ri("baseRetryDelayMs",5e3,u),this.Za=ri("retryDelaySeedMs",1e4,u),this.Ta=ri("forwardChannelMaxRetries",2,u),this.va=ri("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Us(u&&u.concurrentRequestLimit),this.Ba=new Fi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Yi.prototype,s.ka=8,s.I=1,s.connect=function(u,m,y,T){ge(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.J=Cl(this,null,this.W),ai(this)};function Ks(u){if(Da(u),u.I==3){var m=u.V++,y=_e(u.J);if(Gt(y,"SID",u.M),Gt(y,"RID",m),Gt(y,"TYPE","terminate"),Gr(u,y),m=new On(u,u.j,m),m.M=2,m.A=Pr(_e(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=Dl(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Zn(m)}wl(u)}function Ki(u){u.g&&(Zs(u),u.g.cancel(),u.g=null)}function Da(u){Ki(u),u.v&&(d.clearTimeout(u.v),u.v=null),Va(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ai(u){if(!Ls(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ut||A(),st||(Ut(),st=!0),b.add(m,u),u.D=0}}function Ia(u,m){return Wn(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Yn(_(u.Ea,u,m),Rl(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new On(this,this.j,u);let k=this.o;if(this.U&&(k?(k=N(k),nt(k,this.U)):k=this.U),this.u!==null||this.R||(U.J=k,k=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=Tl(this,U,m),y=_e(this.J),Gt(y,"RID",u),Gt(y,"CVER",22),this.G&&Gt(y,"X-HTTP-Session-Id",this.G),Gr(this,y),k&&(this.R?m="headers="+_i(Tn(k))+"&"+m:this.u&&jr(y,this.u,k)),Ps(this.h,U),this.Ra&&Gt(y,"TYPE","init"),this.S?(Gt(y,"$req",m),Gt(y,"SID","null"),U.U=!0,Xn(U,y,null)):Xn(U,y,m),this.I=2}}else this.I==3&&(u?Xs(this,u):this.i.length==0||Ls(this.h)||Xs(this))};function Xs(u,m){var y;m?y=m.l:y=u.V++;const T=_e(u.J);Gt(T,"SID",u.M),Gt(T,"RID",y),Gt(T,"AID",u.K),Gr(u,T),u.u&&u.o&&jr(T,u.u,u.o),y=new On(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Tl(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ps(u.h,y),Xn(y,T,m)}function Gr(u,m){u.H&&Lt(u.H,function(y,T){Gt(m,T,y)}),u.l&&Lt({},function(y,T){Gt(m,T,y)})}function Tl(u,m,y){y=Math.min(u.i.length,y);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var U=u.i;let Et=-1;for(;;){const ce=["count="+y];Et==-1?y>0?(Et=U[0].g,ce.push("ofs="+Et)):Et=0:ce.push("ofs="+Et);let jt=!0;for(let ne=0;ne<y;ne++){var k=U[ne].g;const Sn=U[ne].map;if(k-=Et,k<0)Et=Math.max(0,U[ne].g-100),jt=!1;else try{k="req"+k+"_"||"";try{var W=Sn instanceof Map?Sn:Object.entries(Sn);for(const[oi,Pn]of W){let Bn=Pn;p(Pn)&&(Bn=ki(Pn)),ce.push(k+oi+"="+encodeURIComponent(Bn))}}catch(oi){throw ce.push(k+"type="+encodeURIComponent("_badmap")),oi}}catch{T&&T(Sn)}}if(jt){W=ce.join("&");break t}}W=void 0}return u=u.i.splice(0,y),m.G=u,W}function Sl(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ut||A(),st||(Ut(),st=!0),b.add(m,u),u.A=0}}function Fr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Yn(_(u.Da,u),Rl(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Al(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Yn(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ge(10),Ki(this),Al(this))};function Zs(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Al(u){u.g=new On(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=_e(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),Gr(u,m),u.u&&u.o&&jr(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=Pr(_e(m)),y.u=null,y.R=!0,Ta(y,u)}s.Va=function(){this.C!=null&&(this.C=null,Ki(this),Fr(this),ge(19))};function Va(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function bl(u,m){var y=null;if(u.g==m){Va(u),Zs(u),u.g=null;var T=2}else if(ti(u.h,m))y=m.G,Bs(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=Ea(),De(T,new Qn(T,y)),ai(u)}else Sl(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&Ia(u,m)||T==2&&Fr(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),U){case 1:si(u,5);break;case 4:si(u,10);break;case 3:si(u,6);break;default:si(u,2)}}}function Rl(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function si(u,m){if(u.j.info("Error code "+m),m==2){var y=_(u.bb,u),T=u.Ua;const U=!T;T=new cn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Oe(T,"https"),Pr(T),U?zn(T.toString(),y):Fs(T.toString(),y)}else ge(2);u.I=0,u.l&&u.l.pa(m),wl(u),Da(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ge(2)):(this.j.info("Failed to ping google.com"),ge(1))};function wl(u){if(u.I=0,u.ja=[],u.l){const m=ks(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function Cl(u,m,y){var T=y instanceof cn?_e(y):new cn(y);if(T.g!="")m&&(T.g=m+"."+T.g),ji(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const k=new cn(null);T&&Oe(k,T),m&&(k.g=m),U&&ji(k,U),y&&(k.h=y),T=k}return y=u.G,m=u.wa,y&&m&&Gt(T,y,m),Gt(T,"VER",u.ka),Gr(u,T),T}function Dl(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Yt(new ni({ab:y})):new Yt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Il(){}s=Il.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Xi(){}Xi.prototype.g=function(u,m){return new Ze(u,m)};function Ze(u,m){me.call(this),this.g=new Yi(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ti(this)}w(Ze,me),Ze.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){Ks(this.g)},Ze.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=ki(u),u=y);m.i.push(new ye(m.Ya++,u)),m.I==3&&ai(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,Ks(this.g),delete this.g,Ze.Z.N.call(this)};function Vl(u){Le.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Vl,Le);function Ml(){_n.call(this),this.status=1}w(Ml,_n);function Ti(u){this.g=u}w(Ti,Il),Ti.prototype.ra=function(){De(this.g,"a")},Ti.prototype.qa=function(u){De(this.g,new Vl(u))},Ti.prototype.pa=function(u){De(this.g,new Ml)},Ti.prototype.oa=function(){De(this.g,"b")},Xi.prototype.createWebChannel=Xi.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,sv=function(){return new Xi},av=function(){return Ea()},rv=ue,Gf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ur.NO_ERROR=0,Ur.TIMEOUT=8,Ur.HTTP_ERROR=6,qu=Ur,xs.COMPLETE="complete",iv=xs,ul.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",me.prototype.listen=me.prototype.J,Po=ul,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,nv=Yt}).apply(typeof Uu<"u"?Uu:typeof self<"u"?self:typeof window<"u"?window:{});class Ye{constructor(n){this.uid=n}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");let ws="12.8.0";function uS(s){ws=s}const ga=new _d("@firebase/firestore");function ls(){return ga.logLevel}function rt(s,...n){if(ga.logLevel<=Ot.DEBUG){const i=n.map(Ed);ga.debug(`Firestore (${ws}): ${s}`,...i)}}function Pi(s,...n){if(ga.logLevel<=Ot.ERROR){const i=n.map(Ed);ga.error(`Firestore (${ws}): ${s}`,...i)}}function ys(s,...n){if(ga.logLevel<=Ot.WARN){const i=n.map(Ed);ga.warn(`Firestore (${ws}): ${s}`,...i)}}function Ed(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function vt(s,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,ov(s,a,i)}function ov(s,n,i){let a=`FIRESTORE (${ws}) INTERNAL ASSERTION FAILED: ${n} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Pi(a),new Error(a)}function ae(s,n,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||ov(n,l,a)}function zt(s,n){return s}const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Rs{constructor(n,i){super(n,i),this.code=n,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ha{constructor(){this.promise=new Promise(((n,i)=>{this.resolve=n,this.reject=i}))}}class lv{constructor(n,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class cS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,i){n.enqueueRetryable((()=>i(Ye.UNAUTHENTICATED)))}shutdown(){}}class hS{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,i){this.changeListener=i,n.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class fS{constructor(n){this.t=n,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,i){ae(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let h=new ha;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ha,n.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=h;n.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},p=v=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ha)}}),0),d()}getToken(){const n=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==n?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ae(typeof a.accessToken=="string",31837,{l:a}),new lv(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return ae(n===null||typeof n=="string",2055,{h:n}),new Ye(n)}}class dS{constructor(n,i,a){this.P=n,this.T=i,this.I=a,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const n=this.A();return n&&this.R.set("Authorization",n),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class mS{constructor(n,i,a){this.P=n,this.T=i,this.I=a}getToken(){return Promise.resolve(new dS(this.P,this.T,this.I))}start(n,i){n.enqueueRetryable((()=>i(Ye.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Hy{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gS{constructor(n,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,K1(n)&&n.settings.appCheckToken&&(this.p=n.settings.appCheckToken)}start(n,i){ae(this.o===void 0,3512);const a=h=>{h.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{n.enqueueRetryable((()=>a(h)))};const l=h=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Hy(this.p));const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then((i=>i?(ae(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Hy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function pS(s){const n=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(n&&typeof n.getRandomValues=="function")n.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Td{static newId(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=pS(40);for(let h=0;h<l.length;++h)a.length<20&&l[h]<i&&(a+=n.charAt(l[h]%62))}return a}}function Vt(s,n){return s<n?-1:s>n?1:0}function Ff(s,n){const i=Math.min(s.length,n.length);for(let a=0;a<i;a++){const l=s.charAt(a),h=n.charAt(a);if(l!==h)return Mf(l)===Mf(h)?Vt(l,h):Mf(l)?1:-1}return Vt(s.length,n.length)}const yS=55296,_S=57343;function Mf(s){const n=s.charCodeAt(0);return n>=yS&&n<=_S}function _s(s,n,i){return s.length===n.length&&s.every(((a,l)=>i(a,n[l])))}const Gy="__name__";class fi{constructor(n,i,a){i===void 0?i=0:i>n.length&&vt(637,{offset:i,range:n.length}),a===void 0?a=n.length-i:a>n.length-i&&vt(1746,{length:a,range:n.length-i}),this.segments=n,this.offset=i,this.len=a}get length(){return this.len}isEqual(n){return fi.comparator(this,n)===0}child(n){const i=this.segments.slice(this.offset,this.limit());return n instanceof fi?n.forEach((a=>{i.push(a)})):i.push(n),this.construct(i)}limit(){return this.offset+this.length}popFirst(n){return n=n===void 0?1:n,this.construct(this.segments,this.offset+n,this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return this.length===0}isPrefixOf(n){if(n.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}forEach(n){for(let i=this.offset,a=this.limit();i<a;i++)n(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,i){const a=Math.min(n.length,i.length);for(let l=0;l<a;l++){const h=fi.compareSegments(n.get(l),i.get(l));if(h!==0)return h}return Vt(n.length,i.length)}static compareSegments(n,i){const a=fi.isNumericId(n),l=fi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?fi.extractNumericId(n).compare(fi.extractNumericId(i)):Ff(n,i)}static isNumericId(n){return n.startsWith("__id")&&n.endsWith("__")}static extractNumericId(n){return Sr.fromString(n.substring(4,n.length-2))}}class re extends fi{construct(n,i,a){return new re(n,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const i=[];for(const a of n){if(a.indexOf("//")>=0)throw new ct(tt.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new re(i)}static emptyPath(){return new re([])}}const vS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends fi{construct(n,i,a){return new $e(n,i,a)}static isValidIdentifier(n){return vS.test(n)}canonicalString(){return this.toArray().map((n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(n)||(n="`"+n+"`"),n))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Gy}static keyField(){return new $e([Gy])}static fromServerFormat(n){const i=[];let a="",l=0;const h=()=>{if(a.length===0)throw new ct(tt.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<n.length;){const p=n[l];if(p==="\\"){if(l+1===n.length)throw new ct(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const v=n[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ct(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);a+=v,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(h(),l++)}if(h(),d)throw new ct(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new $e(i)}static emptyPath(){return new $e([])}}class mt{constructor(n){this.path=n}static fromPath(n){return new mt(re.fromString(n))}static fromName(n){return new mt(re.fromString(n).popFirst(5))}static empty(){return new mt(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return n!==null&&re.comparator(this.path,n.path)===0}toString(){return this.path.toString()}static comparator(n,i){return re.comparator(n.path,i.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new mt(new re(n.slice()))}}function ES(s,n,i){if(!i)throw new ct(tt.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${n}.`)}function TS(s,n,i,a){if(n===!0&&a===!0)throw new ct(tt.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Fy(s){if(!mt.isDocumentKey(s))throw new ct(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function SS(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function AS(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const n=(function(a){return a.constructor?a.constructor.name:null})(s);return n?`a custom ${n} object`:"an object"}}return typeof s=="function"?"a function":vt(12329,{type:typeof s})}function Qf(s,n){if("_delegate"in s&&(s=s._delegate),!(s instanceof n)){if(n.name===s.constructor.name)throw new ct(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=AS(s);throw new ct(tt.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${i}`)}}return s}function Re(s,n){const i={typeString:s};return n&&(i.value=n),i}function el(s,n){if(!SS(s))throw new ct(tt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in n)if(n[a]){const l=n[a].typeString,h="value"in n[a]?{value:n[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new ct(tt.INVALID_ARGUMENT,i);return!0}const Qy=-62135596800,Yy=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(n){return be.fromMillis(n.getTime())}static fromMillis(n){const i=Math.floor(n/1e3),a=Math.floor((n-1e3*i)*Yy);return new be(i,a)}constructor(n,i){if(this.seconds=n,this.nanoseconds=i,i<0)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(n<Qy)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yy}_compareTo(n){return this.seconds===n.seconds?Vt(this.nanoseconds,n.nanoseconds):Vt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:be._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(n){if(el(n,be._jsonSchema))return new be(n.seconds,n.nanoseconds)}valueOf(){const n=this.seconds-Qy;return String(n).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}be._jsonSchemaVersion="firestore/timestamp/1.0",be._jsonSchema={type:Re("string",be._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};class _t{static fromTimestamp(n){return new _t(n)}static min(){return new _t(new be(0,0))}static max(){return new _t(new be(253402300799,999999999))}constructor(n){this.timestamp=n}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Zo=-1;function bS(s,n){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(a===1e9?new be(i+1,0):new be(i,a));return new Rr(l,mt.empty(),n)}function RS(s){return new Rr(s.readTime,s.key,Zo)}class Rr{constructor(n,i,a){this.readTime=n,this.documentKey=i,this.largestBatchId=a}static min(){return new Rr(_t.min(),mt.empty(),Zo)}static max(){return new Rr(_t.max(),mt.empty(),Zo)}}function wS(s,n){let i=s.readTime.compareTo(n.readTime);return i!==0?i:(i=mt.comparator(s.documentKey,n.documentKey),i!==0?i:Vt(s.largestBatchId,n.largestBatchId))}const CS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((n=>n()))}}async function ac(s){if(s.code!==tt.FAILED_PRECONDITION||s.message!==CS)throw s;rt("LocalStore","Unexpectedly lost primary lease")}class K{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(n){return this.next(void 0,n)}next(n,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(n,this.result):new K(((a,l)=>{this.nextCallback=h=>{this.wrapSuccess(n,h).next(a,l)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,l)}}))}toPromise(){return new Promise(((n,i)=>{this.next(n,i)}))}wrapUserFunction(n){try{const i=n();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(n,i){return n?this.wrapUserFunction((()=>n(i))):K.resolve(i)}wrapFailure(n,i){return n?this.wrapUserFunction((()=>n(i))):K.reject(i)}static resolve(n){return new K(((i,a)=>{i(n)}))}static reject(n){return new K(((i,a)=>{a(n)}))}static waitFor(n){return new K(((i,a)=>{let l=0,h=0,d=!1;n.forEach((p=>{++l,p.next((()=>{++h,d&&h===l&&i()}),(v=>a(v)))})),d=!0,h===l&&i()}))}static or(n){let i=K.resolve(!1);for(const a of n)i=i.next((l=>l?K.resolve(l):a()));return i}static forEach(n,i){const a=[];return n.forEach(((l,h)=>{a.push(i.call(this,l,h))})),this.waitFor(a)}static mapArray(n,i){return new K(((a,l)=>{const h=n.length,d=new Array(h);let p=0;for(let v=0;v<h;v++){const _=v;i(n[_]).next((S=>{d[_]=S,++p,p===h&&a(d)}),(S=>l(S)))}}))}static doWhile(n,i){return new K(((a,l)=>{const h=()=>{n()===!0?i().next((()=>{h()}),l):a()};h()}))}}function IS(s){const n=s.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Cs(s){return s.name==="IndexedDbTransactionError"}class sc{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ue&&this.ue(n),n}}sc.ce=-1;const VS=-1;function oc(s){return s==null}function Yf(s){return s===0&&1/s==-1/0}const uv="";function MS(s){let n="";for(let i=0;i<s.length;i++)n.length>0&&(n=Ky(n)),n=NS(s.get(i),n);return Ky(n)}function NS(s,n){let i=n;const a=s.length;for(let l=0;l<a;l++){const h=s.charAt(l);switch(h){case"\0":i+="";break;case uv:i+="";break;default:i+=h}}return i}function Ky(s){return s+uv+""}function Xy(s){let n=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&n++;return n}function nl(s,n){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&n(i,s[i])}function OS(s){for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n))return!1;return!0}class le{constructor(n,i){this.comparator=n,this.root=i||He.EMPTY}insert(n,i){return new le(this.comparator,this.root.insert(n,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(n){return new le(this.comparator,this.root.remove(n,this.comparator).copy(null,null,He.BLACK,null,null))}get(n){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(n,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(n){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(n,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal(((i,a)=>(n(i,a),!1)))}toString(){const n=[];return this.inorderTraversal(((i,a)=>(n.push(`${i}:${a}`),!1))),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new Lu(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new Lu(this.root,n,this.comparator,!1)}getReverseIterator(){return new Lu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new Lu(this.root,n,this.comparator,!0)}}class Lu{constructor(n,i,a,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!n.isEmpty();)if(h=i?a(n.key,i):1,i&&l&&(h*=-1),h<0)n=this.isReverse?n.left:n.right;else{if(h===0){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const i={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class He{constructor(n,i,a,l,h){this.key=n,this.value=i,this.color=a??He.RED,this.left=l??He.EMPTY,this.right=h??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,i,a,l,h){return new He(n??this.key,i??this.value,a??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,a){let l=this;const h=a(n,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(n,i,a),null):h===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(n,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,i){let a,l=this;if(i(n,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(n,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(n,l.key)===0){if(l.right.isEmpty())return He.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(n,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const n=this.left.check();if(n!==this.right.check())throw vt(27949);return n+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(n,i,a,l,h){return this}insert(n,i,a){return new He(n,i)}remove(n,i){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(n){this.comparator=n,this.data=new le(this.comparator)}has(n){return this.data.get(n)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal(((i,a)=>(n(i),!1)))}forEachInRange(n,i){const a=this.data.getIteratorFrom(n[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,n[1])>=0)return;i(l.key)}}forEachWhile(n,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!n(a.getNext().key))return}firstAfterOrEqual(n){const i=this.data.getIteratorFrom(n);return i.hasNext()?i.getNext().key:null}getIterator(){return new Zy(this.data.getIterator())}getIteratorFrom(n){return new Zy(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let i=this;return i.size<n.size&&(i=n,n=this),n.forEach((a=>{i=i.add(a)})),i}isEqual(n){if(!(n instanceof Me)||this.size!==n.size)return!1;const i=this.data.getIterator(),a=n.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=a.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const n=[];return this.forEach((i=>{n.push(i)})),n}toString(){const n=[];return this.forEach((i=>n.push(i))),"SortedSet("+n.toString()+")"}copy(n){const i=new Me(this.comparator);return i.data=n,i}}class Zy{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class _r{constructor(n){this.fields=n,n.sort($e.comparator)}static empty(){return new _r([])}unionWith(n){let i=new Me($e.comparator);for(const a of this.fields)i=i.add(a);for(const a of n)i=i.add(a);return new _r(i.toArray())}covers(n){for(const i of this.fields)if(i.isPrefixOf(n))return!0;return!1}isEqual(n){return _s(this.fields,n.fields,((i,a)=>i.isEqual(a)))}}class cv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ge{constructor(n){this.binaryString=n}static fromBase64String(n){const i=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new cv("Invalid base64 string: "+h):h}})(n);return new Ge(i)}static fromUint8Array(n){const i=(function(l){let h="";for(let d=0;d<l.length;++d)h+=String.fromCharCode(l[d]);return h})(n);return new Ge(i)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Vt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const xS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wr(s){if(ae(!!s,39018),typeof s=="string"){let n=0;const i=xS.exec(s);if(ae(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),n=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:n}}return{seconds:de(s.seconds),nanos:de(s.nanos)}}function de(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Cr(s){return typeof s=="string"?Ge.fromBase64String(s):Ge.fromUint8Array(s)}const hv="server_timestamp",fv="__type__",dv="__previous_value__",mv="__local_write_time__";function Sd(s){return(s?.mapValue?.fields||{})[fv]?.stringValue===hv}function lc(s){const n=s.mapValue.fields[dv];return Sd(n)?lc(n):n}function Jo(s){const n=wr(s.mapValue.fields[mv].timestampValue);return new be(n.seconds,n.nanos)}class zS{constructor(n,i,a,l,h,d,p,v,_,S,w){this.databaseId=n,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=S,this.apiKey=w}}const Zu="(default)";class $o{constructor(n,i){this.projectId=n,this.database=i||Zu}static empty(){return new $o("","")}get isDefaultDatabase(){return this.database===Zu}isEqual(n){return n instanceof $o&&n.projectId===this.projectId&&n.database===this.database}}function US(s,n){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ct(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $o(s.options.projectId,n)}const LS="__type__",PS="__max__",Pu={mapValue:{}},BS="__vector__",Kf="value";function Dr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Sd(s)?4:jS(s)?9007199254740991:kS(s)?10:11:vt(28295,{value:s})}function pi(s,n){if(s===n)return!0;const i=Dr(s);if(i!==Dr(n))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===n.booleanValue;case 4:return Jo(s).isEqual(Jo(n));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const d=wr(l.timestampValue),p=wr(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,n);case 5:return s.stringValue===n.stringValue;case 6:return(function(l,h){return Cr(l.bytesValue).isEqual(Cr(h.bytesValue))})(s,n);case 7:return s.referenceValue===n.referenceValue;case 8:return(function(l,h){return de(l.geoPointValue.latitude)===de(h.geoPointValue.latitude)&&de(l.geoPointValue.longitude)===de(h.geoPointValue.longitude)})(s,n);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return de(l.integerValue)===de(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const d=de(l.doubleValue),p=de(h.doubleValue);return d===p?Yf(d)===Yf(p):isNaN(d)&&isNaN(p)}return!1})(s,n);case 9:return _s(s.arrayValue.values||[],n.arrayValue.values||[],pi);case 10:case 11:return(function(l,h){const d=l.mapValue.fields||{},p=h.mapValue.fields||{};if(Xy(d)!==Xy(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!pi(d[v],p[v])))return!1;return!0})(s,n);default:return vt(52216,{left:s})}}function Wo(s,n){return(s.values||[]).find((i=>pi(i,n)))!==void 0}function vs(s,n){if(s===n)return 0;const i=Dr(s),a=Dr(n);if(i!==a)return Vt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(s.booleanValue,n.booleanValue);case 2:return(function(h,d){const p=de(h.integerValue||h.doubleValue),v=de(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(s,n);case 3:return Jy(s.timestampValue,n.timestampValue);case 4:return Jy(Jo(s),Jo(n));case 5:return Ff(s.stringValue,n.stringValue);case 6:return(function(h,d){const p=Cr(h),v=Cr(d);return p.compareTo(v)})(s.bytesValue,n.bytesValue);case 7:return(function(h,d){const p=h.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const S=Vt(p[_],v[_]);if(S!==0)return S}return Vt(p.length,v.length)})(s.referenceValue,n.referenceValue);case 8:return(function(h,d){const p=Vt(de(h.latitude),de(d.latitude));return p!==0?p:Vt(de(h.longitude),de(d.longitude))})(s.geoPointValue,n.geoPointValue);case 9:return $y(s.arrayValue,n.arrayValue);case 10:return(function(h,d){const p=h.fields||{},v=d.fields||{},_=p[Kf]?.arrayValue,S=v[Kf]?.arrayValue,w=Vt(_?.values?.length||0,S?.values?.length||0);return w!==0?w:$y(_,S)})(s.mapValue,n.mapValue);case 11:return(function(h,d){if(h===Pu.mapValue&&d===Pu.mapValue)return 0;if(h===Pu.mapValue)return 1;if(d===Pu.mapValue)return-1;const p=h.fields||{},v=Object.keys(p),_=d.fields||{},S=Object.keys(_);v.sort(),S.sort();for(let w=0;w<v.length&&w<S.length;++w){const I=Ff(v[w],S[w]);if(I!==0)return I;const q=vs(p[v[w]],_[S[w]]);if(q!==0)return q}return Vt(v.length,S.length)})(s.mapValue,n.mapValue);default:throw vt(23264,{he:i})}}function Jy(s,n){if(typeof s=="string"&&typeof n=="string"&&s.length===n.length)return Vt(s,n);const i=wr(s),a=wr(n),l=Vt(i.seconds,a.seconds);return l!==0?l:Vt(i.nanos,a.nanos)}function $y(s,n){const i=s.values||[],a=n.values||[];for(let l=0;l<i.length&&l<a.length;++l){const h=vs(i[l],a[l]);if(h)return h}return Vt(i.length,a.length)}function Es(s){return Xf(s)}function Xf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=wr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Cr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return mt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const h of i.values||[])l?l=!1:a+=",",a+=Xf(h);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",h=!0;for(const d of a)h?h=!1:l+=",",l+=`${d}:${Xf(i.fields[d])}`;return l+"}"})(s.mapValue):vt(61005,{value:s})}function Hu(s){switch(Dr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const n=lc(s);return n?16+Hu(n):16;case 5:return 2*s.stringValue.length;case 6:return Cr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,h)=>l+Hu(h)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return nl(a.fields,((h,d)=>{l+=h.length+Hu(d)})),l})(s.mapValue);default:throw vt(13486,{value:s})}}function Zf(s){return!!s&&"integerValue"in s}function Ad(s){return!!s&&"arrayValue"in s}function Wy(s){return!!s&&"nullValue"in s}function t_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Nf(s){return!!s&&"mapValue"in s}function kS(s){return(s?.mapValue?.fields||{})[LS]?.stringValue===BS}function Go(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const n={mapValue:{fields:{}}};return nl(s.mapValue.fields,((i,a)=>n.mapValue.fields[i]=Go(a))),n}if(s.arrayValue){const n={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=Go(s.arrayValue.values[i]);return n}return{...s}}function jS(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===PS}class di{constructor(n){this.value=n}static empty(){return new di({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let i=this.value;for(let a=0;a<n.length-1;++a)if(i=(i.mapValue.fields||{})[n.get(a)],!Nf(i))return null;return i=(i.mapValue.fields||{})[n.lastSegment()],i||null}}set(n,i){this.getFieldsMap(n.popLast())[n.lastSegment()]=Go(i)}setAll(n){let i=$e.emptyPath(),a={},l=[];n.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Go(d):l.push(p.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,a,l)}delete(n){const i=this.field(n.popLast());Nf(i)&&i.mapValue.fields&&delete i.mapValue.fields[n.lastSegment()]}isEqual(n){return pi(this.value,n.value)}getFieldsMap(n){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<n.length;++a){let l=i.mapValue.fields[n.get(a)];Nf(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[n.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(n,i,a){nl(i,((l,h)=>n[l]=h));for(const l of a)delete n[l]}clone(){return new di(Go(this.value))}}class Ke{constructor(n,i,a,l,h,d,p){this.key=n,this.documentType=i,this.version=a,this.readTime=l,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(n){return new Ke(n,0,_t.min(),_t.min(),_t.min(),di.empty(),0)}static newFoundDocument(n,i,a,l){return new Ke(n,1,i,_t.min(),a,l,0)}static newNoDocument(n,i){return new Ke(n,2,i,_t.min(),_t.min(),di.empty(),0)}static newUnknownDocument(n,i){return new Ke(n,3,i,_t.min(),_t.min(),di.empty(),2)}convertToFoundDocument(n,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=n),this.version=n,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=di.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=di.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(n){return n instanceof Ke&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ju{constructor(n,i){this.position=n,this.inclusive=i}}function e_(s,n,i){let a=0;for(let l=0;l<s.position.length;l++){const h=n[l],d=s.position[l];if(h.field.isKeyField()?a=mt.comparator(mt.fromName(d.referenceValue),i.key):a=vs(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function n_(s,n){if(s===null)return n===null;if(n===null||s.inclusive!==n.inclusive||s.position.length!==n.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!pi(s.position[i],n.position[i]))return!1;return!0}class $u{constructor(n,i="asc"){this.field=n,this.dir=i}}function qS(s,n){return s.dir===n.dir&&s.field.isEqual(n.field)}class gv{}class Ve extends gv{constructor(n,i,a){super(),this.field=n,this.op=i,this.value=a}static create(n,i,a){return n.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(n,i,a):new GS(n,i,a):i==="array-contains"?new YS(n,a):i==="in"?new KS(n,a):i==="not-in"?new XS(n,a):i==="array-contains-any"?new ZS(n,a):new Ve(n,i,a)}static createKeyFieldInFilter(n,i,a){return i==="in"?new FS(n,a):new QS(n,a)}matches(n){const i=n.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(vs(i,this.value)):i!==null&&Dr(this.value)===Dr(i)&&this.matchesComparison(vs(i,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yi extends gv{constructor(n,i){super(),this.filters=n,this.op=i,this.Pe=null}static create(n,i){return new yi(n,i)}matches(n){return pv(this)?this.filters.find((i=>!i.matches(n)))===void 0:this.filters.find((i=>i.matches(n)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((n,i)=>n.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pv(s){return s.op==="and"}function yv(s){return HS(s)&&pv(s)}function HS(s){for(const n of s.filters)if(n instanceof yi)return!1;return!0}function Jf(s){if(s instanceof Ve)return s.field.canonicalString()+s.op.toString()+Es(s.value);if(yv(s))return s.filters.map((n=>Jf(n))).join(",");{const n=s.filters.map((i=>Jf(i))).join(",");return`${s.op}(${n})`}}function _v(s,n){return s instanceof Ve?(function(a,l){return l instanceof Ve&&a.op===l.op&&a.field.isEqual(l.field)&&pi(a.value,l.value)})(s,n):s instanceof yi?(function(a,l){return l instanceof yi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((h,d,p)=>h&&_v(d,l.filters[p])),!0):!1})(s,n):void vt(19439)}function vv(s){return s instanceof Ve?(function(i){return`${i.field.canonicalString()} ${i.op} ${Es(i.value)}`})(s):s instanceof yi?(function(i){return i.op.toString()+" {"+i.getFilters().map(vv).join(" ,")+"}"})(s):"Filter"}class GS extends Ve{constructor(n,i,a){super(n,i,a),this.key=mt.fromName(a.referenceValue)}matches(n){const i=mt.comparator(n.key,this.key);return this.matchesComparison(i)}}class FS extends Ve{constructor(n,i){super(n,"in",i),this.keys=Ev("in",i)}matches(n){return this.keys.some((i=>i.isEqual(n.key)))}}class QS extends Ve{constructor(n,i){super(n,"not-in",i),this.keys=Ev("not-in",i)}matches(n){return!this.keys.some((i=>i.isEqual(n.key)))}}function Ev(s,n){return(n.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class YS extends Ve{constructor(n,i){super(n,"array-contains",i)}matches(n){const i=n.data.field(this.field);return Ad(i)&&Wo(i.arrayValue,this.value)}}class KS extends Ve{constructor(n,i){super(n,"in",i)}matches(n){const i=n.data.field(this.field);return i!==null&&Wo(this.value.arrayValue,i)}}class XS extends Ve{constructor(n,i){super(n,"not-in",i)}matches(n){if(Wo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=n.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Wo(this.value.arrayValue,i)}}class ZS extends Ve{constructor(n,i){super(n,"array-contains-any",i)}matches(n){const i=n.data.field(this.field);return!(!Ad(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Wo(this.value.arrayValue,a)))}}class JS{constructor(n,i=null,a=[],l=[],h=null,d=null,p=null){this.path=n,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function i_(s,n=null,i=[],a=[],l=null,h=null,d=null){return new JS(s,n,i,a,l,h,d)}function bd(s){const n=zt(s);if(n.Te===null){let i=n.path.canonicalString();n.collectionGroup!==null&&(i+="|cg:"+n.collectionGroup),i+="|f:",i+=n.filters.map((a=>Jf(a))).join(","),i+="|ob:",i+=n.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),oc(n.limit)||(i+="|l:",i+=n.limit),n.startAt&&(i+="|lb:",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>Es(a))).join(",")),n.endAt&&(i+="|ub:",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>Es(a))).join(",")),n.Te=i}return n.Te}function Rd(s,n){if(s.limit!==n.limit||s.orderBy.length!==n.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!qS(s.orderBy[i],n.orderBy[i]))return!1;if(s.filters.length!==n.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!_v(s.filters[i],n.filters[i]))return!1;return s.collectionGroup===n.collectionGroup&&!!s.path.isEqual(n.path)&&!!n_(s.startAt,n.startAt)&&n_(s.endAt,n.endAt)}function $f(s){return mt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class uc{constructor(n,i=null,a=[],l=[],h=null,d="F",p=null,v=null){this.path=n,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function $S(s,n,i,a,l,h,d,p){return new uc(s,n,i,a,l,h,d,p)}function wd(s){return new uc(s)}function r_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function WS(s){return mt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function tA(s){return s.collectionGroup!==null}function Fo(s){const n=zt(s);if(n.Ie===null){n.Ie=[];const i=new Set;for(const h of n.explicitOrderBy)n.Ie.push(h),i.add(h.field.canonicalString());const a=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me($e.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(n).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||n.Ie.push(new $u(h,a))})),i.has($e.keyField().canonicalString())||n.Ie.push(new $u($e.keyField(),a))}return n.Ie}function gi(s){const n=zt(s);return n.Ee||(n.Ee=eA(n,Fo(s))),n.Ee}function eA(s,n){if(s.limitType==="F")return i_(s.path,s.collectionGroup,n,s.filters,s.limit,s.startAt,s.endAt);{n=n.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new $u(l.field,h)}));const i=s.endAt?new Ju(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Ju(s.startAt.position,s.startAt.inclusive):null;return i_(s.path,s.collectionGroup,n,s.filters,s.limit,i,a)}}function Wf(s,n,i){return new uc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),n,i,s.startAt,s.endAt)}function cc(s,n){return Rd(gi(s),gi(n))&&s.limitType===n.limitType}function Tv(s){return`${bd(gi(s))}|lt:${s.limitType}`}function us(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>vv(l))).join(", ")}]`),oc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Es(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Es(l))).join(",")),`Target(${a})`})(gi(s))}; limitType=${s.limitType})`}function hc(s,n){return n.isFoundDocument()&&(function(a,l){const h=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):mt.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(s,n)&&(function(a,l){for(const h of Fo(a))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(s,n)&&(function(a,l){for(const h of a.filters)if(!h.matches(l))return!1;return!0})(s,n)&&(function(a,l){return!(a.startAt&&!(function(d,p,v){const _=e_(d,p,v);return d.inclusive?_<=0:_<0})(a.startAt,Fo(a),l)||a.endAt&&!(function(d,p,v){const _=e_(d,p,v);return d.inclusive?_>=0:_>0})(a.endAt,Fo(a),l))})(s,n)}function nA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Sv(s){return(n,i)=>{let a=!1;for(const l of Fo(s)){const h=iA(l,n,i);if(h!==0)return h;a=a||l.field.isKeyField()}return 0}}function iA(s,n,i){const a=s.field.isKeyField()?mt.comparator(n.key,i.key):(function(h,d,p){const v=d.data.field(h),_=p.data.field(h);return v!==null&&_!==null?vs(v,_):vt(42886)})(s.field,n,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return vt(19790,{direction:s.dir})}}class pa{constructor(n,i){this.mapKeyFn=n,this.equalsFn=i,this.inner={},this.innerSize=0}get(n){const i=this.mapKeyFn(n),a=this.inner[i];if(a!==void 0){for(const[l,h]of a)if(this.equalsFn(l,n))return h}}has(n){return this.get(n)!==void 0}set(n,i){const a=this.mapKeyFn(n),l=this.inner[a];if(l===void 0)return this.inner[a]=[[n,i]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],n))return void(l[h]=[n,i]);l.push([n,i]),this.innerSize++}delete(n){const i=this.mapKeyFn(n),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],n))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(n){nl(this.inner,((i,a)=>{for(const[l,h]of a)n(l,h)}))}isEmpty(){return OS(this.inner)}size(){return this.innerSize}}const rA=new le(mt.comparator);function Ir(){return rA}const Av=new le(mt.comparator);function Bo(...s){let n=Av;for(const i of s)n=n.insert(i.key,i);return n}function aA(s){let n=Av;return s.forEach(((i,a)=>n=n.insert(i,a.overlayedDocument))),n}function ua(){return Qo()}function bv(){return Qo()}function Qo(){return new pa((s=>s.toString()),((s,n)=>s.isEqual(n)))}const nR=new le(mt.comparator),sA=new Me(mt.comparator);function Pt(...s){let n=sA;for(const i of s)n=n.add(i);return n}const oA=new Me(Vt);function lA(){return oA}function uA(s,n){if(s.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yf(n)?"-0":n}}function cA(s){return{integerValue:""+s}}class fc{constructor(){this._=void 0}}function hA(s,n,i){return s instanceof td?(function(l,h){const d={fields:{[fv]:{stringValue:hv},[mv]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&Sd(h)&&(h=lc(h)),h&&(d.fields[dv]=h),{mapValue:d}})(i,n):s instanceof Wu?Rv(s,n):s instanceof tc?wv(s,n):(function(l,h){const d=dA(l,h),p=a_(d)+a_(l.Ae);return Zf(d)&&Zf(l.Ae)?cA(p):uA(l.serializer,p)})(s,n)}function fA(s,n,i){return s instanceof Wu?Rv(s,n):s instanceof tc?wv(s,n):i}function dA(s,n){return s instanceof ed?(function(a){return Zf(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(n)?n:{integerValue:0}:null}class td extends fc{}class Wu extends fc{constructor(n){super(),this.elements=n}}function Rv(s,n){const i=Cv(n);for(const a of s.elements)i.some((l=>pi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class tc extends fc{constructor(n){super(),this.elements=n}}function wv(s,n){let i=Cv(n);for(const a of s.elements)i=i.filter((l=>!pi(l,a)));return{arrayValue:{values:i}}}class ed extends fc{constructor(n,i){super(),this.serializer=n,this.Ae=i}}function a_(s){return de(s.integerValue||s.doubleValue)}function Cv(s){return Ad(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function mA(s,n){return s.field.isEqual(n.field)&&(function(a,l){return a instanceof Wu&&l instanceof Wu||a instanceof tc&&l instanceof tc?_s(a.elements,l.elements,pi):a instanceof ed&&l instanceof ed?pi(a.Ae,l.Ae):a instanceof td&&l instanceof td})(s.transform,n.transform)}class fa{constructor(n,i){this.updateTime=n,this.exists=i}static none(){return new fa}static exists(n){return new fa(void 0,n)}static updateTime(n){return new fa(n)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Gu(s,n){return s.updateTime!==void 0?n.isFoundDocument()&&n.version.isEqual(s.updateTime):s.exists===void 0||s.exists===n.isFoundDocument()}class Cd{}function Dv(s,n){if(!s.hasLocalMutations||n&&n.fields.length===0)return null;if(n===null)return s.isNoDocument()?new pA(s.key,fa.none()):new Dd(s.key,s.data,fa.none());{const i=s.data,a=di.empty();let l=new Me($e.comparator);for(let h of n.fields)if(!l.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),l=l.add(h)}return new dc(s.key,a,new _r(l.toArray()),fa.none())}}function gA(s,n,i){s instanceof Dd?(function(l,h,d){const p=l.value.clone(),v=o_(l.fieldTransforms,h,d.transformResults);p.setAll(v),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,n,i):s instanceof dc?(function(l,h,d){if(!Gu(l.precondition,h))return void h.convertToUnknownDocument(d.version);const p=o_(l.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(Iv(l)),v.setAll(p),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,n,i):(function(l,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,n,i)}function Yo(s,n,i,a){return s instanceof Dd?(function(h,d,p,v){if(!Gu(h.precondition,d))return p;const _=h.value.clone(),S=l_(h.fieldTransforms,v,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,n,i,a):s instanceof dc?(function(h,d,p,v){if(!Gu(h.precondition,d))return p;const _=l_(h.fieldTransforms,v,d),S=d.data;return S.setAll(Iv(h)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((w=>w.field)))})(s,n,i,a):(function(h,d,p){return Gu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,n,i)}function s_(s,n){return s.type===n.type&&!!s.key.isEqual(n.key)&&!!s.precondition.isEqual(n.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&_s(a,l,((h,d)=>mA(h,d)))})(s.fieldTransforms,n.fieldTransforms)&&(s.type===0?s.value.isEqual(n.value):s.type!==1||s.data.isEqual(n.data)&&s.fieldMask.isEqual(n.fieldMask))}class Dd extends Cd{constructor(n,i,a,l=[]){super(),this.key=n,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class dc extends Cd{constructor(n,i,a,l,h=[]){super(),this.key=n,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Iv(s){const n=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);n.set(i,a)}})),n}function o_(s,n,i){const a=new Map;ae(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const h=s[l],d=h.transform,p=n.data.field(h.field);a.set(h.field,fA(d,p,i[l]))}return a}function l_(s,n,i){const a=new Map;for(const l of s){const h=l.transform,d=i.data.field(l.field);a.set(l.field,hA(h,d,n))}return a}class pA extends Cd{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yA{constructor(n,i,a,l){this.batchId=n,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(n,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(n.key)&&gA(h,n,a[l])}}applyToLocalView(n,i){for(const a of this.baseMutations)a.key.isEqual(n.key)&&(i=Yo(a,n,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(n.key)&&(i=Yo(a,n,i,this.localWriteTime));return i}applyToLocalDocumentSet(n,i){const a=bv();return this.mutations.forEach((l=>{const h=n.get(l.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(l.key)?null:p;const v=Dv(d,p);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(_t.min())})),a}keys(){return this.mutations.reduce(((n,i)=>n.add(i.key)),Pt())}isEqual(n){return this.batchId===n.batchId&&_s(this.mutations,n.mutations,((i,a)=>s_(i,a)))&&_s(this.baseMutations,n.baseMutations,((i,a)=>s_(i,a)))}}class _A{constructor(n,i){this.largestBatchId=n,this.mutation=i}getKey(){return this.mutation.key}isEqual(n){return n!==null&&this.mutation===n.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class vA{constructor(n,i){this.count=n,this.unchangedNames=i}}var Ae,Nt;function Vv(s){if(s===void 0)return Pi("GRPC error has no .code"),tt.UNKNOWN;switch(s){case Ae.OK:return tt.OK;case Ae.CANCELLED:return tt.CANCELLED;case Ae.UNKNOWN:return tt.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return tt.INTERNAL;case Ae.UNAVAILABLE:return tt.UNAVAILABLE;case Ae.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Ae.NOT_FOUND:return tt.NOT_FOUND;case Ae.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Ae.ABORTED:return tt.ABORTED;case Ae.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Ae.DATA_LOSS:return tt.DATA_LOSS;default:return vt(39323,{code:s})}}(Nt=Ae||(Ae={}))[Nt.OK=0]="OK",Nt[Nt.CANCELLED=1]="CANCELLED",Nt[Nt.UNKNOWN=2]="UNKNOWN",Nt[Nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nt[Nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nt[Nt.NOT_FOUND=5]="NOT_FOUND",Nt[Nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nt[Nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nt[Nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nt[Nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nt[Nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nt[Nt.ABORTED=10]="ABORTED",Nt[Nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nt[Nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nt[Nt.INTERNAL=13]="INTERNAL",Nt[Nt.UNAVAILABLE=14]="UNAVAILABLE",Nt[Nt.DATA_LOSS=15]="DATA_LOSS";function EA(){return new TextEncoder}const TA=new Sr([4294967295,4294967295],0);function u_(s){const n=EA().encode(s),i=new ev;return i.update(n),new Uint8Array(i.digest())}function c_(s){const n=new DataView(s.buffer),i=n.getUint32(0,!0),a=n.getUint32(4,!0),l=n.getUint32(8,!0),h=n.getUint32(12,!0);return[new Sr([i,a],0),new Sr([l,h],0)]}class Id{constructor(n,i,a){if(this.bitmap=n,this.padding=i,this.hashCount=a,i<0||i>=8)throw new ko(`Invalid padding: ${i}`);if(a<0)throw new ko(`Invalid hash count: ${a}`);if(n.length>0&&this.hashCount===0)throw new ko(`Invalid hash count: ${a}`);if(n.length===0&&i!==0)throw new ko(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*n.length-i,this.pe=Sr.fromNumber(this.ge)}ye(n,i,a){let l=n.add(i.multiply(Sr.fromNumber(a)));return l.compare(TA)===1&&(l=new Sr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(n){return!!(this.bitmap[Math.floor(n/8)]&1<<n%8)}mightContain(n){if(this.ge===0)return!1;const i=u_(n),[a,l]=c_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,l,h);if(!this.we(d))return!1}return!0}static create(n,i,a){const l=n%8==0?0:8-n%8,h=new Uint8Array(Math.ceil(n/8)),d=new Id(h,l,i);return a.forEach((p=>d.insert(p))),d}insert(n){if(this.ge===0)return;const i=u_(n),[a,l]=c_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,l,h);this.be(d)}}be(n){const i=Math.floor(n/8),a=n%8;this.bitmap[i]|=1<<a}}class ko extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class mc{constructor(n,i,a,l,h){this.snapshotVersion=n,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(n,i,a){const l=new Map;return l.set(n,il.createSynthesizedTargetChangeForCurrentChange(n,i,a)),new mc(_t.min(),l,new le(Vt),Ir(),Pt())}}class il{constructor(n,i,a,l,h){this.resumeToken=n,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(n,i,a){return new il(a,i,Pt(),Pt(),Pt())}}class Fu{constructor(n,i,a,l){this.Se=n,this.removedTargetIds=i,this.key=a,this.De=l}}class Mv{constructor(n,i){this.targetId=n,this.Ce=i}}class Nv{constructor(n,i,a=Ge.EMPTY_BYTE_STRING,l=null){this.state=n,this.targetIds=i,this.resumeToken=a,this.cause=l}}class h_{constructor(){this.ve=0,this.Fe=f_(),this.Me=Ge.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(n){n.approximateByteSize()>0&&(this.Oe=!0,this.Me=n)}ke(){let n=Pt(),i=Pt(),a=Pt();return this.Fe.forEach(((l,h)=>{switch(h){case 0:n=n.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:vt(38017,{changeType:h})}})),new il(this.Me,this.xe,n,i,a)}Ke(){this.Oe=!1,this.Fe=f_()}qe(n,i){this.Oe=!0,this.Fe=this.Fe.insert(n,i)}Ue(n){this.Oe=!0,this.Fe=this.Fe.remove(n)}$e(){this.ve+=1}We(){this.ve-=1,ae(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class SA{constructor(n){this.Ge=n,this.ze=new Map,this.je=Ir(),this.He=Bu(),this.Je=Bu(),this.Ze=new le(Vt)}Xe(n){for(const i of n.Se)n.De&&n.De.isFoundDocument()?this.Ye(i,n.De):this.et(i,n.key,n.De);for(const i of n.removedTargetIds)this.et(i,n.key,n.De)}tt(n){this.forEachTarget(n,(i=>{const a=this.nt(i);switch(n.state){case 0:this.rt(i)&&a.Le(n.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(n.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(n.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(n.resumeToken));break;default:vt(56790,{state:n.state})}}))}forEachTarget(n,i){n.targetIds.length>0?n.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(n){const i=n.targetId,a=n.Ce.count,l=this.ot(i);if(l){const h=l.target;if($f(h))if(a===0){const d=new mt(h.path);this.et(i,d,Ke.newNoDocument(d,_t.min()))}else ae(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(n),v=p?this.ct(p,n,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(n){const i=n.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:h=0}=i;let d,p;try{d=Cr(a).toUint8Array()}catch(v){if(v instanceof cv)return ys("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Id(d,l,h)}catch(v){return ys(v instanceof ko?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(n,i,a){return i.Ce.count===a-this.Pt(n,i.targetId)?0:2}Pt(n,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;n.mightContain(p)||(this.et(i,h,null),l++)})),l}Tt(n){const i=new Map;this.ze.forEach(((h,d)=>{const p=this.ot(d);if(p){if(h.current&&$f(p.target)){const v=new mt(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Ke.newNoDocument(v,n))}h.Be&&(i.set(d,h.ke()),h.Ke())}}));let a=Pt();this.Je.forEach(((h,d)=>{let p=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(n)));const l=new mc(n,i,this.Ze,this.je,a);return this.je=Ir(),this.He=Bu(),this.Je=Bu(),this.Ze=new le(Vt),l}Ye(n,i){if(!this.rt(n))return;const a=this.Et(n,i.key)?2:0;this.nt(n).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(n)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(n))}et(n,i,a){if(!this.rt(n))return;const l=this.nt(n);this.Et(n,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(n)),this.Je=this.Je.insert(i,this.Rt(i).add(n)),a&&(this.je=this.je.insert(i,a))}removeTarget(n){this.ze.delete(n)}_t(n){const i=this.nt(n).ke();return this.Ge.getRemoteKeysForTarget(n).size+i.addedDocuments.size-i.removedDocuments.size}$e(n){this.nt(n).$e()}nt(n){let i=this.ze.get(n);return i||(i=new h_,this.ze.set(n,i)),i}Rt(n){let i=this.Je.get(n);return i||(i=new Me(Vt),this.Je=this.Je.insert(n,i)),i}It(n){let i=this.He.get(n);return i||(i=new Me(Vt),this.He=this.He.insert(n,i)),i}rt(n){const i=this.ot(n)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",n),i}ot(n){const i=this.ze.get(n);return i&&i.Ne?null:this.Ge.At(n)}it(n){this.ze.set(n,new h_),this.Ge.getRemoteKeysForTarget(n).forEach((i=>{this.et(n,i,null)}))}Et(n,i){return this.Ge.getRemoteKeysForTarget(n).has(i)}}function Bu(){return new le(mt.comparator)}function f_(){return new le(mt.comparator)}const AA={asc:"ASCENDING",desc:"DESCENDING"},bA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RA={and:"AND",or:"OR"};class wA{constructor(n,i){this.databaseId=n,this.useProto3Json=i}}function nd(s,n){return s.useProto3Json||oc(n)?n:{value:n}}function CA(s,n){return s.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function DA(s,n){return s.useProto3Json?n.toBase64():n.toUint8Array()}function fs(s){return ae(!!s,49232),_t.fromTimestamp((function(i){const a=wr(i);return new be(a.seconds,a.nanos)})(s))}function IA(s,n){return id(s,n).canonicalString()}function id(s,n){const i=(function(l){return new re(["projects",l.projectId,"databases",l.database])})(s).child("documents");return n===void 0?i:i.child(n)}function Ov(s){const n=re.fromString(s);return ae(Pv(n),10190,{key:n.toString()}),n}function Of(s,n){const i=Ov(n);if(i.get(1)!==s.databaseId.projectId)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new mt(zv(i))}function xv(s,n){return IA(s.databaseId,n)}function VA(s){const n=Ov(s);return n.length===4?re.emptyPath():zv(n)}function d_(s){return new re(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function zv(s){return ae(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function MA(s,n){let i;if("targetChange"in n){n.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:vt(39313,{state:_})})(n.targetChange.targetChangeType||"NO_CHANGE"),l=n.targetChange.targetIds||[],h=(function(_,S){return _.useProto3Json?(ae(S===void 0||typeof S=="string",58123),Ge.fromBase64String(S||"")):(ae(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Ge.fromUint8Array(S||new Uint8Array))})(s,n.targetChange.resumeToken),d=n.targetChange.cause,p=d&&(function(_){const S=_.code===void 0?tt.UNKNOWN:Vv(_.code);return new ct(S,_.message||"")})(d);i=new Nv(a,l,h,p||null)}else if("documentChange"in n){n.documentChange;const a=n.documentChange;a.document,a.document.name,a.document.updateTime;const l=Of(s,a.document.name),h=fs(a.document.updateTime),d=a.document.createTime?fs(a.document.createTime):_t.min(),p=new di({mapValue:{fields:a.document.fields}}),v=Ke.newFoundDocument(l,h,d,p),_=a.targetIds||[],S=a.removedTargetIds||[];i=new Fu(_,S,v.key,v)}else if("documentDelete"in n){n.documentDelete;const a=n.documentDelete;a.document;const l=Of(s,a.document),h=a.readTime?fs(a.readTime):_t.min(),d=Ke.newNoDocument(l,h),p=a.removedTargetIds||[];i=new Fu([],p,d.key,d)}else if("documentRemove"in n){n.documentRemove;const a=n.documentRemove;a.document;const l=Of(s,a.document),h=a.removedTargetIds||[];i=new Fu([],h,l,null)}else{if(!("filter"in n))return vt(11601,{Vt:n});{n.filter;const a=n.filter;a.targetId;const{count:l=0,unchangedNames:h}=a,d=new vA(l,h),p=a.targetId;i=new Mv(p,d)}}return i}function NA(s,n){return{documents:[xv(s,n.path)]}}function OA(s,n){const i={structuredQuery:{}},a=n.path;let l;n.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=xv(s,l);const h=(function(_){if(_.length!==0)return Lv(yi.create(_,"and"))})(n.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((S=>(function(I){return{field:cs(I.field),direction:UA(I.dir)}})(S)))})(n.orderBy);d&&(i.structuredQuery.orderBy=d);const p=nd(s,n.limit);return p!==null&&(i.structuredQuery.limit=p),n.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(n.startAt)),n.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(n.endAt)),{ft:i,parent:l}}function xA(s){let n=VA(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){ae(a===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:n=n.child(S.collectionId)}let h=[];i.where&&(h=(function(w){const I=Uv(w);return I instanceof yi&&yv(I)?I.getFilters():[I]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((I=>(function(J){return new $u(hs(J.field),(function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(I)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let I;return I=typeof w=="object"?w.value:w,oc(I)?null:I})(i.limit));let v=null;i.startAt&&(v=(function(w){const I=!!w.before,q=w.values||[];return new Ju(q,I)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const I=!w.before,q=w.values||[];return new Ju(q,I)})(i.endAt)),$S(n,l,d,h,p,"F",v,_)}function zA(s,n){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:l})}})(n.purpose);return i==null?null:{"goog-listen-tags":i}}function Uv(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=hs(i.unaryFilter.field);return Ve.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=hs(i.unaryFilter.field);return Ve.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=hs(i.unaryFilter.field);return Ve.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=hs(i.unaryFilter.field);return Ve.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ve.create(hs(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return yi.create(i.compositeFilter.filters.map((a=>Uv(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(s):vt(30097,{filter:s})}function UA(s){return AA[s]}function LA(s){return bA[s]}function PA(s){return RA[s]}function cs(s){return{fieldPath:s.canonicalString()}}function hs(s){return $e.fromServerFormat(s.fieldPath)}function Lv(s){return s instanceof Ve?(function(i){if(i.op==="=="){if(t_(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NAN"}};if(Wy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(t_(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NOT_NAN"}};if(Wy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cs(i.field),op:LA(i.op),value:i.value}}})(s):s instanceof yi?(function(i){const a=i.getFilters().map((l=>Lv(l)));return a.length===1?a[0]:{compositeFilter:{op:PA(i.op),filters:a}}})(s):vt(54877,{filter:s})}function Pv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class vr{constructor(n,i,a,l,h=_t.min(),d=_t.min(),p=Ge.EMPTY_BYTE_STRING,v=null){this.target=n,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(n){return new vr(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,i){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}class BA{constructor(n){this.yt=n}}function kA(s){const n=xA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Wf(n,n.limit,"L"):n}class jA{constructor(){this.Sn=new qA}addToCollectionParentIndex(n,i){return this.Sn.add(i),K.resolve()}getCollectionParents(n,i){return K.resolve(this.Sn.getEntries(i))}addFieldIndex(n,i){return K.resolve()}deleteFieldIndex(n,i){return K.resolve()}deleteAllFieldIndexes(n){return K.resolve()}createTargetIndexes(n,i){return K.resolve()}getDocumentsMatchingTarget(n,i){return K.resolve(null)}getIndexType(n,i){return K.resolve(0)}getFieldIndexes(n,i){return K.resolve([])}getNextCollectionGroupToUpdate(n){return K.resolve(null)}getMinOffset(n,i){return K.resolve(Rr.min())}getMinOffsetFromCollectionGroup(n,i){return K.resolve(Rr.min())}updateCollectionGroup(n,i,a){return K.resolve()}updateIndexEntries(n,i){return K.resolve()}}class qA{constructor(){this.index={}}add(n){const i=n.lastSegment(),a=n.popLast(),l=this.index[i]||new Me(re.comparator),h=!l.has(a);return this.index[i]=l.add(a),h}has(n){const i=n.lastSegment(),a=n.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(n){return(this.index[n]||new Me(re.comparator)).toArray()}}const m_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Bv=41943040;class ln{static withCacheSize(n){return new ln(n,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(n,i,a){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(Bv,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);class Ts{constructor(n){this.sr=n}next(){return this.sr+=2,this.sr}static _r(){return new Ts(0)}static ar(){return new Ts(-1)}}const g_="LruGarbageCollector",HA=1048576;function p_([s,n],[i,a]){const l=Vt(s,i);return l===0?Vt(n,a):l}class GA{constructor(n){this.Pr=n,this.buffer=new Me(p_),this.Tr=0}Ir(){return++this.Tr}Er(n){const i=[n,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();p_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class FA{constructor(n,i,a){this.garbageCollector=n,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(n){rt(g_,`Garbage collection scheduled in ${n}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Cs(i)?rt(g_,"Ignoring IndexedDB error during garbage collection: ",i):await ac(i)}await this.Ar(3e5)}))}}class QA{constructor(n,i){this.Vr=n,this.params=i}calculateTargetCount(n,i){return this.Vr.dr(n).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(n,i){if(i===0)return K.resolve(sc.ce);const a=new GA(i);return this.Vr.forEachTarget(n,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(n,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(n,i,a){return this.Vr.removeTargets(n,i,a)}removeOrphanedDocuments(n,i){return this.Vr.removeOrphanedDocuments(n,i)}collect(n,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(m_)):this.getCacheSize(n).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),m_):this.gr(n,i)))}getCacheSize(n){return this.Vr.getCacheSize(n)}gr(n,i){let a,l,h,d,p,v,_;const S=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(n,l)))).next((w=>(a=w,p=Date.now(),this.removeTargets(n,a,i)))).next((w=>(h=w,v=Date.now(),this.removeOrphanedDocuments(n,a)))).next((w=>(_=Date.now(),ls()<=Ot.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${h} targets in `+(v-p)+`ms
	Removed ${w} documents in `+(_-v)+`ms
Total Duration: ${_-S}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:w}))))}}function YA(s,n){return new QA(s,n)}class KA{constructor(){this.changes=new pa((n=>n.toString()),((n,i)=>n.isEqual(i))),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,i){this.assertNotApplied(),this.changes.set(n,Ke.newInvalidDocument(n).setReadTime(i))}getEntry(n,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?K.resolve(a):this.getFromCache(n,i)}getEntries(n,i){return this.getAllFromCache(n,i)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class XA{constructor(n,i){this.overlayedDocument=n,this.mutatedFields=i}}class ZA{constructor(n,i,a,l){this.remoteDocumentCache=n,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(n,i){let a=null;return this.documentOverlayCache.getOverlay(n,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(n,i)))).next((l=>(a!==null&&Yo(a.mutation,l,_r.empty(),be.now()),l)))}getDocuments(n,i){return this.remoteDocumentCache.getEntries(n,i).next((a=>this.getLocalViewOfDocuments(n,a,Pt()).next((()=>a))))}getLocalViewOfDocuments(n,i,a=Pt()){const l=ua();return this.populateOverlays(n,l,i).next((()=>this.computeViews(n,i,l,a).next((h=>{let d=Bo();return h.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(n,i){const a=ua();return this.populateOverlays(n,a,i).next((()=>this.computeViews(n,i,a,Pt())))}populateOverlays(n,i,a){const l=[];return a.forEach((h=>{i.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(n,l).next((h=>{h.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(n,i,a,l){let h=Ir();const d=Qo(),p=(function(){return Qo()})();return i.forEach(((v,_)=>{const S=a.get(_.key);l.has(_.key)&&(S===void 0||S.mutation instanceof dc)?h=h.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),Yo(S.mutation,_,S.mutation.getFieldMask(),be.now())):d.set(_.key,_r.empty())})),this.recalculateAndSaveOverlays(n,h).next((v=>(v.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>p.set(_,new XA(S,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(n,i){const a=Qo();let l=new le(((d,p)=>d-p)),h=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let S=a.get(v)||_r.empty();S=p.applyToLocalView(_,S),a.set(v,S);const w=(l.get(p.batchId)||Pt()).add(v);l=l.insert(p.batchId,w)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,S=v.value,w=bv();S.forEach((I=>{if(!h.has(I)){const q=Dv(i.get(I),a.get(I));q!==null&&w.set(I,q),h=h.add(I)}})),d.push(this.documentOverlayCache.saveOverlays(n,_,w))}return K.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(n,i){return this.remoteDocumentCache.getEntries(n,i).next((a=>this.recalculateAndSaveOverlays(n,a)))}getDocumentsMatchingQuery(n,i,a,l){return WS(i)?this.getDocumentsMatchingDocumentQuery(n,i.path):tA(i)?this.getDocumentsMatchingCollectionGroupQuery(n,i,a,l):this.getDocumentsMatchingCollectionQuery(n,i,a,l)}getNextDocuments(n,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(n,i,a,l).next((h=>{const d=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,i,a.largestBatchId,l-h.size):K.resolve(ua());let p=Zo,v=h;return d.next((_=>K.forEach(_,((S,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),h.get(S)?K.resolve():this.remoteDocumentCache.getEntry(n,S).next((I=>{v=v.insert(S,I)}))))).next((()=>this.populateOverlays(n,_,h))).next((()=>this.computeViews(n,v,_,Pt()))).next((S=>({batchId:p,changes:aA(S)})))))}))}getDocumentsMatchingDocumentQuery(n,i){return this.getDocument(n,new mt(i)).next((a=>{let l=Bo();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(n,i,a,l){const h=i.collectionGroup;let d=Bo();return this.indexManager.getCollectionParents(n,h).next((p=>K.forEach(p,(v=>{const _=(function(w,I){return new uc(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(n,_,a,l).next((S=>{S.forEach(((w,I)=>{d=d.insert(w,I)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(n,i,a,l){let h;return this.documentOverlayCache.getOverlaysForCollection(n,i.path,a.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(n,i,a,h,l)))).next((d=>{h.forEach(((v,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,Ke.newInvalidDocument(S)))}));let p=Bo();return d.forEach(((v,_)=>{const S=h.get(v);S!==void 0&&Yo(S.mutation,_,_r.empty(),be.now()),hc(i,_)&&(p=p.insert(v,_))})),p}))}}class JA{constructor(n){this.serializer=n,this.Nr=new Map,this.Br=new Map}getBundleMetadata(n,i){return K.resolve(this.Nr.get(i))}saveBundleMetadata(n,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:fs(l.createTime)}})(i)),K.resolve()}getNamedQuery(n,i){return K.resolve(this.Br.get(i))}saveNamedQuery(n,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:kA(l.bundledQuery),readTime:fs(l.readTime)}})(i)),K.resolve()}}class $A{constructor(){this.overlays=new le(mt.comparator),this.Lr=new Map}getOverlay(n,i){return K.resolve(this.overlays.get(i))}getOverlays(n,i){const a=ua();return K.forEach(i,(l=>this.getOverlay(n,l).next((h=>{h!==null&&a.set(l,h)})))).next((()=>a))}saveOverlays(n,i,a){return a.forEach(((l,h)=>{this.bt(n,i,h)})),K.resolve()}removeOverlaysForBatchId(n,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.Lr.delete(a)),K.resolve()}getOverlaysForCollection(n,i,a){const l=ua(),h=i.length+1,d=new mt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>a&&l.set(v.getKey(),v)}return K.resolve(l)}getOverlaysForCollectionGroup(n,i,a,l){let h=new le(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let S=h.get(_.largestBatchId);S===null&&(S=ua(),h=h.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const p=ua(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,S)=>p.set(_,S))),!(p.size()>=l)););return K.resolve(p)}bt(n,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new _A(i,a));let h=this.Lr.get(i);h===void 0&&(h=Pt(),this.Lr.set(i,h)),this.Lr.set(i,h.add(a.key))}}class WA{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(n){return K.resolve(this.sessionToken)}setSessionToken(n,i){return this.sessionToken=i,K.resolve()}}class Vd{constructor(){this.kr=new Me(Ue.Kr),this.qr=new Me(Ue.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(n,i){const a=new Ue(n,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(n,i){n.forEach((a=>this.addReference(a,i)))}removeReference(n,i){this.Wr(new Ue(n,i))}Qr(n,i){n.forEach((a=>this.removeReference(a,i)))}Gr(n){const i=new mt(new re([])),a=new Ue(i,n),l=new Ue(i,n+1),h=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),h.push(d.key)})),h}zr(){this.kr.forEach((n=>this.Wr(n)))}Wr(n){this.kr=this.kr.delete(n),this.qr=this.qr.delete(n)}jr(n){const i=new mt(new re([])),a=new Ue(i,n),l=new Ue(i,n+1);let h=Pt();return this.qr.forEachInRange([a,l],(d=>{h=h.add(d.key)})),h}containsKey(n){const i=new Ue(n,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&n.isEqual(a.key)}}class Ue{constructor(n,i){this.key=n,this.Hr=i}static Kr(n,i){return mt.comparator(n.key,i.key)||Vt(n.Hr,i.Hr)}static Ur(n,i){return Vt(n.Hr,i.Hr)||mt.comparator(n.key,i.key)}}class tb{constructor(n,i){this.indexManager=n,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Me(Ue.Kr)}checkEmpty(n){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(n,i,a,l){const h=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new yA(h,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Ue(p.key,h)),this.indexManager.addToCollectionParentIndex(n,p.key.path.popLast());return K.resolve(d)}lookupMutationBatch(n,i){return K.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(n,i){const a=i+1,l=this.Xr(a),h=l<0?0:l;return K.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?VS:this.Yn-1)}getAllMutationBatches(n){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,i){const a=new Ue(i,0),l=new Ue(i,Number.POSITIVE_INFINITY),h=[];return this.Jr.forEachInRange([a,l],(d=>{const p=this.Zr(d.Hr);h.push(p)})),K.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(n,i){let a=new Me(Vt);return i.forEach((l=>{const h=new Ue(l,0),d=new Ue(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([h,d],(p=>{a=a.add(p.Hr)}))})),K.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(n,i){const a=i.path,l=a.length+1;let h=a;mt.isDocumentKey(h)||(h=h.child(""));const d=new Ue(new mt(h),0);let p=new Me(Vt);return this.Jr.forEachWhile((v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(v.Hr)),!0)}),d),K.resolve(this.Yr(p))}Yr(n){const i=[];return n.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(n,i){ae(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return K.forEach(i.mutations,(l=>{const h=new Ue(l.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(n,l.key)})).next((()=>{this.Jr=a}))}nr(n){}containsKey(n,i){const a=new Ue(i,0),l=this.Jr.firstAfterOrEqual(a);return K.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(n){return this.mutationQueue.length,K.resolve()}ei(n,i){return this.Xr(n)}Xr(n){return this.mutationQueue.length===0?0:n-this.mutationQueue[0].batchId}Zr(n){const i=this.Xr(n);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class eb{constructor(n){this.ti=n,this.docs=(function(){return new le(mt.comparator)})(),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,i){const a=i.key,l=this.docs.get(a),h=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(n,a.path.popLast())}removeEntry(n){const i=this.docs.get(n);i&&(this.docs=this.docs.remove(n),this.size-=i.size)}getEntry(n,i){const a=this.docs.get(i);return K.resolve(a?a.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(n,i){let a=Ir();return i.forEach((l=>{const h=this.docs.get(l);a=a.insert(l,h?h.document.mutableCopy():Ke.newInvalidDocument(l))})),K.resolve(a)}getDocumentsMatchingQuery(n,i,a,l){let h=Ir();const d=i.path,p=new mt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:S}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||wS(RS(S),a)<=0||(l.has(S.key)||hc(i,S))&&(h=h.insert(S.key,S.mutableCopy()))}return K.resolve(h)}getAllFromCollectionGroup(n,i,a,l){vt(9500)}ni(n,i){return K.forEach(this.docs,(a=>i(a)))}newChangeBuffer(n){return new nb(this)}getSize(n){return K.resolve(this.size)}}class nb extends KA{constructor(n){super(),this.Mr=n}applyChanges(n){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(n,l)):this.Mr.removeEntry(a)})),K.waitFor(i)}getFromCache(n,i){return this.Mr.getEntry(n,i)}getAllFromCache(n,i){return this.Mr.getEntries(n,i)}}class ib{constructor(n){this.persistence=n,this.ri=new pa((i=>bd(i)),Rd),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.ii=0,this.si=new Vd,this.targetCount=0,this.oi=Ts._r()}forEachTarget(n,i){return this.ri.forEach(((a,l)=>i(l))),K.resolve()}getLastRemoteSnapshotVersion(n){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return K.resolve(this.ii)}allocateTargetId(n){return this.highestTargetId=this.oi.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(n,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),K.resolve()}lr(n){this.ri.set(n.target,n);const i=n.targetId;i>this.highestTargetId&&(this.oi=new Ts(i),this.highestTargetId=i),n.sequenceNumber>this.ii&&(this.ii=n.sequenceNumber)}addTargetData(n,i){return this.lr(i),this.targetCount+=1,K.resolve()}updateTargetData(n,i){return this.lr(i),K.resolve()}removeTargetData(n,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(n,i,a){let l=0;const h=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),h.push(this.removeMatchingKeysForTargetId(n,p.targetId)),l++)})),K.waitFor(h).next((()=>l))}getTargetCount(n){return K.resolve(this.targetCount)}getTargetData(n,i){const a=this.ri.get(i)||null;return K.resolve(a)}addMatchingKeys(n,i,a){return this.si.$r(i,a),K.resolve()}removeMatchingKeys(n,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,h=[];return l&&i.forEach((d=>{h.push(l.markPotentiallyOrphaned(n,d))})),K.waitFor(h)}removeMatchingKeysForTargetId(n,i){return this.si.Gr(i),K.resolve()}getMatchingKeysForTargetId(n,i){const a=this.si.jr(i);return K.resolve(a)}containsKey(n,i){return K.resolve(this.si.containsKey(i))}}class kv{constructor(n,i){this._i={},this.overlays={},this.ai=new sc(0),this.ui=!1,this.ui=!0,this.ci=new WA,this.referenceDelegate=n(this),this.li=new ib(this),this.indexManager=new jA,this.remoteDocumentCache=(function(l){return new eb(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new BA(i),this.Pi=new JA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let i=this.overlays[n.toKey()];return i||(i=new $A,this.overlays[n.toKey()]=i),i}getMutationQueue(n,i){let a=this._i[n.toKey()];return a||(a=new tb(i,this.referenceDelegate),this._i[n.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(n,i,a){rt("MemoryPersistence","Starting transaction:",n);const l=new rb(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((h=>this.referenceDelegate.Ii(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ei(n,i){return K.or(Object.values(this._i).map((a=>()=>a.containsKey(n,i))))}}class rb extends DS{constructor(n){super(),this.currentSequenceNumber=n}}class Md{constructor(n){this.persistence=n,this.Ri=new Vd,this.Ai=null}static Vi(n){return new Md(n)}get di(){if(this.Ai)return this.Ai;throw vt(60996)}addReference(n,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),K.resolve()}removeReference(n,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),K.resolve()}markPotentiallyOrphaned(n,i){return this.di.add(i.toString()),K.resolve()}removeTarget(n,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(n,i.targetId).next((l=>{l.forEach((h=>this.di.add(h.toString())))})).next((()=>a.removeTargetData(n,i)))}Ti(){this.Ai=new Set}Ii(n){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.di,(a=>{const l=mt.fromPath(a);return this.mi(n,l).next((h=>{h||i.removeEntry(l,_t.min())}))})).next((()=>(this.Ai=null,i.apply(n))))}updateLimboDocument(n,i){return this.mi(n,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(n){return 0}mi(n,i){return K.or([()=>K.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(n,i),()=>this.persistence.Ei(n,i)])}}class ec{constructor(n,i){this.persistence=n,this.fi=new pa((a=>MS(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=YA(this,i)}static Vi(n,i){return new ec(n,i)}Ti(){}Ii(n){return K.resolve()}forEachTarget(n,i){return this.persistence.getTargetCache().forEachTarget(n,i)}dr(n){const i=this.pr(n);return this.persistence.getTargetCache().getTargetCount(n).next((a=>i.next((l=>a+l))))}pr(n){let i=0;return this.mr(n,(a=>{i++})).next((()=>i))}mr(n,i){return K.forEach(this.fi,((a,l)=>this.wr(n,a,l).next((h=>h?K.resolve():i(l)))))}removeTargets(n,i,a){return this.persistence.getTargetCache().removeTargets(n,i,a)}removeOrphanedDocuments(n,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ni(n,(d=>this.wr(n,d,i).next((p=>{p||(a++,h.removeEntry(d,_t.min()))})))).next((()=>h.apply(n))).next((()=>a))}markPotentiallyOrphaned(n,i){return this.fi.set(i,n.currentSequenceNumber),K.resolve()}removeTarget(n,i){const a=i.withSequenceNumber(n.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(n,a)}addReference(n,i,a){return this.fi.set(a,n.currentSequenceNumber),K.resolve()}removeReference(n,i,a){return this.fi.set(a,n.currentSequenceNumber),K.resolve()}updateLimboDocument(n,i){return this.fi.set(i,n.currentSequenceNumber),K.resolve()}hi(n){let i=n.key.toString().length;return n.isFoundDocument()&&(i+=Hu(n.data.value)),i}wr(n,i,a){return K.or([()=>this.persistence.Ei(n,i),()=>this.persistence.getTargetCache().containsKey(n,i),()=>{const l=this.fi.get(i);return K.resolve(l!==void 0&&l>a)}])}getCacheSize(n){return this.persistence.getRemoteDocumentCache().getSize(n)}}class Nd{constructor(n,i,a,l){this.targetId=n,this.fromCache=i,this.Ts=a,this.Is=l}static Es(n,i){let a=Pt(),l=Pt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Nd(n,i.fromCache,a,l)}}class ab{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}class sb{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return QT()?8:IS(GT())>0?6:4})()}initialize(n,i){this.fs=n,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(n,i,a,l){const h={result:null};return this.gs(n,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ps(n,i,l,a).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new ab;return this.ys(n,i,d).next((p=>{if(h.result=p,this.As)return this.ws(n,i,d,p.size)}))})).next((()=>h.result))}ws(n,i,a,l){return a.documentReadCount<this.Vs?(ls()<=Ot.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",us(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),K.resolve()):(ls()<=Ot.DEBUG&&rt("QueryEngine","Query:",us(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(ls()<=Ot.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",us(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,gi(i))):K.resolve())}gs(n,i){if(r_(i))return K.resolve(null);let a=gi(i);return this.indexManager.getIndexType(n,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Wf(i,null,"F"),a=gi(i)),this.indexManager.getDocumentsMatchingTarget(n,a).next((h=>{const d=Pt(...h);return this.fs.getDocuments(n,d).next((p=>this.indexManager.getMinOffset(n,a).next((v=>{const _=this.bs(i,p);return this.Ss(i,_,d,v.readTime)?this.gs(n,Wf(i,null,"F")):this.Ds(n,_,i,v)}))))})))))}ps(n,i,a,l){return r_(i)||l.isEqual(_t.min())?K.resolve(null):this.fs.getDocuments(n,a).next((h=>{const d=this.bs(i,h);return this.Ss(i,d,a,l)?K.resolve(null):(ls()<=Ot.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),us(i)),this.Ds(n,d,i,bS(l,Zo)).next((p=>p)))}))}bs(n,i){let a=new Me(Sv(n));return i.forEach(((l,h)=>{hc(n,h)&&(a=a.add(h))})),a}Ss(n,i,a,l){if(n.limit===null)return!1;if(a.size!==i.size)return!0;const h=n.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}ys(n,i,a){return ls()<=Ot.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",us(i)),this.fs.getDocumentsMatchingQuery(n,i,Rr.min(),a)}Ds(n,i,a,l){return this.fs.getDocumentsMatchingQuery(n,a,l).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const Od="LocalStore",ob=3e8;class lb{constructor(n,i,a,l){this.persistence=n,this.Cs=i,this.serializer=l,this.vs=new le(Vt),this.Fs=new pa((h=>bd(h)),Rd),this.Ms=new Map,this.xs=n.getRemoteDocumentCache(),this.li=n.getTargetCache(),this.Pi=n.getBundleCache(),this.Os(a)}Os(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new ZA(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>n.collect(i,this.vs)))}}function ub(s,n,i,a){return new lb(s,n,i,a)}async function jv(s,n){const i=zt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((h=>(l=h,i.Os(n),i.mutationQueue.getAllMutationBatches(a)))).next((h=>{const d=[],p=[];let v=Pt();for(const _ of l){d.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}for(const _ of h){p.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}return i.localDocuments.getDocuments(a,v).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function qv(s){const n=zt(s);return n.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>n.li.getLastRemoteSnapshotVersion(i)))}function cb(s,n){const i=zt(s),a=n.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];n.targetChanges.forEach(((S,w)=>{const I=l.get(w);if(!I)return;p.push(i.li.removeMatchingKeys(h,S.removedDocuments,w).next((()=>i.li.addMatchingKeys(h,S.addedDocuments,w))));let q=I.withSequenceNumber(h.currentSequenceNumber);n.targetMismatches.get(w)!==null?q=q.withResumeToken(Ge.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):S.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(S.resumeToken,a)),l=l.insert(w,q),(function($,X,ut){return $.resumeToken.approximateByteSize()===0||X.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=ob?!0:ut.addedDocuments.size+ut.modifiedDocuments.size+ut.removedDocuments.size>0})(I,q,S)&&p.push(i.li.updateTargetData(h,q))}));let v=Ir(),_=Pt();if(n.documentUpdates.forEach((S=>{n.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,S))})),p.push(hb(h,d,n.documentUpdates).next((S=>{v=S.Bs,_=S.Ls}))),!a.isEqual(_t.min())){const S=i.li.getLastRemoteSnapshotVersion(h).next((w=>i.li.setTargetsMetadata(h,h.currentSequenceNumber,a)));p.push(S)}return K.waitFor(p).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.vs=l,h)))}function hb(s,n,i){let a=Pt(),l=Pt();return i.forEach((h=>a=a.add(h))),n.getEntries(s,a).next((h=>{let d=Ir();return i.forEach(((p,v)=>{const _=h.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),v.isNoDocument()&&v.version.isEqual(_t.min())?(n.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(n.addEntry(v),d=d.insert(p,v)):rt(Od,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)})),{Bs:d,Ls:l}}))}function fb(s,n){const i=zt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,n).next((h=>h?(l=h,K.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new vr(n,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(n,a.targetId)),a}))}async function rd(s,n,i){const a=zt(s),l=a.vs.get(n),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Cs(d))throw d;rt(Od,`Failed to update sequence numbers for target ${n}: ${d}`)}a.vs=a.vs.remove(n),a.Fs.delete(l.target)}function y_(s,n,i){const a=zt(s);let l=_t.min(),h=Pt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,S){const w=zt(v),I=w.Fs.get(S);return I!==void 0?K.resolve(w.vs.get(I)):w.li.getTargetData(_,S)})(a,d,gi(n)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((v=>{h=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,n,i?l:_t.min(),i?h:Pt()))).next((p=>(db(a,nA(n),p),{documents:p,ks:h})))))}function db(s,n,i){let a=s.Ms.get(n)||_t.min();i.forEach(((l,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)})),s.Ms.set(n,a)}class __{constructor(){this.activeTargetIds=lA()}Qs(n){this.activeTargetIds=this.activeTargetIds.add(n)}Gs(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Ws(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class mb{constructor(){this.vo=new __,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,i,a){}addLocalQueryTarget(n,i=!0){return i&&this.vo.Qs(n),this.Fo[n]||"not-current"}updateQueryState(n,i,a){this.Fo[n]=i}removeLocalQueryTarget(n){this.vo.Gs(n)}isLocalQueryTarget(n){return this.vo.activeTargetIds.has(n)}clearQueryState(n){delete this.Fo[n]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(n){return this.vo.activeTargetIds.has(n)}start(){return this.vo=new __,Promise.resolve()}handleUserChange(n,i,a){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}class gb{Mo(n){}shutdown(){}}const v_="ConnectivityMonitor";class E_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(n){this.Lo.push(n)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){rt(v_,"Network connectivity changed: AVAILABLE");for(const n of this.Lo)n(0)}Bo(){rt(v_,"Network connectivity changed: UNAVAILABLE");for(const n of this.Lo)n(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ku=null;function ad(){return ku===null?ku=(function(){return 268435456+Math.round(2147483648*Math.random())})():ku++,"0x"+ku.toString(16)}const xf="RestConnection",pb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class yb{get Ko(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+n.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===Zu?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(n,i,a,l,h){const d=ad(),p=this.Qo(n,i.toUriEncodedString());rt(xf,`Sending RPC '${n}' ${d}:`,p,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,l,h);const{host:_}=new URL(p),S=pd(_);return this.zo(n,p,v,a,S).then((w=>(rt(xf,`Received RPC '${n}' ${d}: `,w),w)),(w=>{throw ys(xf,`RPC '${n}' ${d} failed with error: `,w,"url: ",p,"request:",a),w}))}jo(n,i,a,l,h,d){return this.Wo(n,i,a,l,h)}Go(n,i,a){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ws})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,h)=>n[h]=l)),a&&a.headers.forEach(((l,h)=>n[h]=l))}Qo(n,i){const a=pb[n];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class _b{constructor(n){this.Ho=n.Ho,this.Jo=n.Jo}Zo(n){this.Xo=n}Yo(n){this.e_=n}t_(n){this.n_=n}onMessage(n){this.r_=n}close(){this.Jo()}send(n){this.Ho(n)}i_(){this.Xo()}s_(){this.e_()}o_(n){this.n_(n)}__(n){this.r_(n)}}const Qe="WebChannelConnection",Lo=(s,n,i)=>{s.listen(n,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class ds extends yb{constructor(n){super(n),this.a_=[],this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}static u_(){if(!ds.c_){const n=av();Lo(n,rv.STAT_EVENT,(i=>{i.stat===Gf.PROXY?rt(Qe,"STAT_EVENT: detected buffering proxy"):i.stat===Gf.NOPROXY&&rt(Qe,"STAT_EVENT: detected no buffering proxy")})),ds.c_=!0}}zo(n,i,a,l,h){const d=ad();return new Promise(((p,v)=>{const _=new nv;_.setWithCredentials(!0),_.listenOnce(iv.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case qu.NO_ERROR:const w=_.getResponseJson();rt(Qe,`XHR for RPC '${n}' ${d} received:`,JSON.stringify(w)),p(w);break;case qu.TIMEOUT:rt(Qe,`RPC '${n}' ${d} timed out`),v(new ct(tt.DEADLINE_EXCEEDED,"Request time out"));break;case qu.HTTP_ERROR:const I=_.getStatus();if(rt(Qe,`RPC '${n}' ${d} failed with status:`,I,"response text:",_.getResponseText()),I>0){let q=_.getResponseJson();Array.isArray(q)&&(q=q[0]);const J=q?.error;if(J&&J.status&&J.message){const $=(function(ut){const ft=ut.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(ft)>=0?ft:tt.UNKNOWN})(J.status);v(new ct($,J.message))}else v(new ct(tt.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ct(tt.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:n,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{rt(Qe,`RPC '${n}' ${d} completed.`)}}));const S=JSON.stringify(l);rt(Qe,`RPC '${n}' ${d} sending request:`,l),_.send(i,"POST",S,a,15)}))}T_(n,i,a){const l=ad(),h=[this.qo,"/","google.firestore.v1.Firestore","/",n,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const _=h.join("");rt(Qe,`Creating RPC '${n}' stream ${l}: ${_}`,p);const S=d.createWebChannel(_,p);this.I_(S);let w=!1,I=!1;const q=new _b({Ho:J=>{I?rt(Qe,`Not sending because RPC '${n}' stream ${l} is closed:`,J):(w||(rt(Qe,`Opening RPC '${n}' stream ${l} transport.`),S.open(),w=!0),rt(Qe,`RPC '${n}' stream ${l} sending:`,J),S.send(J))},Jo:()=>S.close()});return Lo(S,Po.EventType.OPEN,(()=>{I||(rt(Qe,`RPC '${n}' stream ${l} transport opened.`),q.i_())})),Lo(S,Po.EventType.CLOSE,(()=>{I||(I=!0,rt(Qe,`RPC '${n}' stream ${l} transport closed`),q.o_(),this.E_(S))})),Lo(S,Po.EventType.ERROR,(J=>{I||(I=!0,ys(Qe,`RPC '${n}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),q.o_(new ct(tt.UNAVAILABLE,"The operation could not be completed")))})),Lo(S,Po.EventType.MESSAGE,(J=>{if(!I){const $=J.data[0];ae(!!$,16349);const X=$,ut=X?.error||X[0]?.error;if(ut){rt(Qe,`RPC '${n}' stream ${l} received error:`,ut);const ft=ut.status;let ot=(function(st){const b=Ae[st];if(b!==void 0)return Vv(b)})(ft),wt=ut.message;ot===void 0&&(ot=tt.INTERNAL,wt="Unknown error status: "+ft+" with message "+ut.message),I=!0,q.o_(new ct(ot,wt)),S.close()}else rt(Qe,`RPC '${n}' stream ${l} received:`,$),q.__($)}})),ds.u_(),setTimeout((()=>{q.s_()}),0),q}terminate(){this.a_.forEach((n=>n.close())),this.a_=[]}I_(n){this.a_.push(n)}E_(n){this.a_=this.a_.filter((i=>i===n))}Go(n,i,a){super.Go(n,i,a),this.databaseInfo.apiKey&&(n["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return sv()}}function vb(s){return new ds(s)}function zf(){return typeof document<"u"?document:null}function Hv(s){return new wA(s,!0)}ds.c_=!1;class Gv{constructor(n,i,a=1e3,l=1.5,h=6e4){this.Ci=n,this.timerId=i,this.R_=a,this.A_=l,this.V_=h,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(n){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),n()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const T_="PersistentStream";class Eb{constructor(n,i,a,l,h,d,p,v){this.Ci=n,this.b_=a,this.S_=l,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Gv(n,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(n){this.q_(),this.stream.send(n)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(n,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,n!==4?this.M_.reset():i&&i.code===tt.RESOURCE_EXHAUSTED?(Pi(i.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=n,await this.listener.t_(i)}W_(){}auth(){this.state=1;const n=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{n((()=>{const l=new ct(tt.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(n,i){const a=this.Q_(this.D_);this.stream=this.j_(n,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(n){return rt(T_,`close with error: ${n}`),this.stream=null,this.close(4,n)}Q_(n){return i=>{this.Ci.enqueueAndForget((()=>this.D_===n?i():(rt(T_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Tb extends Eb{constructor(n,i,a,l,h,d){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=h}j_(n,i){return this.connection.T_("Listen",n,i)}H_(n){return this.onNext(n)}onNext(n){this.M_.reset();const i=MA(this.serializer,n),a=(function(h){if(!("targetChange"in h))return _t.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?fs(d.readTime):_t.min()})(n);return this.listener.J_(i,a)}Z_(n){const i={};i.database=d_(this.serializer),i.addTarget=(function(h,d){let p;const v=d.target;if(p=$f(v)?{documents:NA(h,v)}:{query:OA(h,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=DA(h,d.resumeToken);const _=nd(h,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(_t.min())>0){p.readTime=CA(h,d.snapshotVersion.toTimestamp());const _=nd(h,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,n);const a=zA(this.serializer,n);a&&(i.labels=a),this.K_(i)}X_(n){const i={};i.database=d_(this.serializer),i.removeTarget=n,this.K_(i)}}class Sb{}class Ab extends Sb{constructor(n,i,a,l){super(),this.authCredentials=n,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Wo(n,id(i,a),l,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ct(tt.UNKNOWN,h.toString())}))}jo(n,i,a,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(n,id(i,a),l,d,p,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(tt.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function bb(s,n,i,a){return new Ab(s,n,i,a)}class Rb{constructor(n,i){this.asyncQueue=n,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(n){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.ca("Offline")))}set(n){this.Pa(),this.oa=0,n==="Online"&&(this.aa=!1),this.ca(n)}ca(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}la(n){const i=`Could not reach Cloud Firestore backend. ${n}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Pi(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ss="RemoteStore";class wb{constructor(n,i,a,l,h){this.localStore=n,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=h,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{al(this)&&(rt(Ss,"Restarting streams for network reachability change."),await(async function(v){const _=zt(v);_.Ea.add(4),await rl(_),_.Va.set("Unknown"),_.Ea.delete(4),await gc(_)})(this))}))})),this.Va=new Rb(a,l)}}async function gc(s){if(al(s))for(const n of s.Ra)await n(!0)}async function rl(s){for(const n of s.Ra)await n(!1)}function Fv(s,n){const i=zt(s);i.Ia.has(n.targetId)||(i.Ia.set(n.targetId,n),Ld(i)?Ud(i):Ds(i).O_()&&zd(i,n))}function xd(s,n){const i=zt(s),a=Ds(i);i.Ia.delete(n),a.O_()&&Qv(i,n),i.Ia.size===0&&(a.O_()?a.L_():al(i)&&i.Va.set("Unknown"))}function zd(s,n){if(s.da.$e(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(_t.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(i)}Ds(s).Z_(n)}function Qv(s,n){s.da.$e(n),Ds(s).X_(n)}function Ud(s){s.da=new SA({getRemoteKeysForTarget:n=>s.remoteSyncer.getRemoteKeysForTarget(n),At:n=>s.Ia.get(n)||null,ht:()=>s.datastore.serializer.databaseId}),Ds(s).start(),s.Va.ua()}function Ld(s){return al(s)&&!Ds(s).x_()&&s.Ia.size>0}function al(s){return zt(s).Ea.size===0}function Yv(s){s.da=void 0}async function Cb(s){s.Va.set("Online")}async function Db(s){s.Ia.forEach(((n,i)=>{zd(s,n)}))}async function Ib(s,n){Yv(s),Ld(s)?(s.Va.ha(n),Ud(s)):s.Va.set("Unknown")}async function Vb(s,n,i){if(s.Va.set("Online"),n instanceof Nv&&n.state===2&&n.cause)try{await(async function(l,h){const d=h.cause;for(const p of h.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(s,n)}catch(a){rt(Ss,"Failed to remove targets %s: %s ",n.targetIds.join(","),a),await S_(s,a)}else if(n instanceof Fu?s.da.Xe(n):n instanceof Mv?s.da.st(n):s.da.tt(n),!i.isEqual(_t.min()))try{const a=await qv(s.localStore);i.compareTo(a)>=0&&await(function(h,d){const p=h.da.Tt(d);return p.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const S=h.Ia.get(_);S&&h.Ia.set(_,S.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,_)=>{const S=h.Ia.get(v);if(!S)return;h.Ia.set(v,S.withResumeToken(Ge.EMPTY_BYTE_STRING,S.snapshotVersion)),Qv(h,v);const w=new vr(S.target,v,_,S.sequenceNumber);zd(h,w)})),h.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){rt(Ss,"Failed to raise snapshot:",a),await S_(s,a)}}async function S_(s,n,i){if(!Cs(n))throw n;s.Ea.add(1),await rl(s),s.Va.set("Offline"),i||(i=()=>qv(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{rt(Ss,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await gc(s)}))}async function A_(s,n){const i=zt(s);i.asyncQueue.verifyOperationInProgress(),rt(Ss,"RemoteStore received new credentials");const a=al(i);i.Ea.add(3),await rl(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(n),i.Ea.delete(3),await gc(i)}async function Mb(s,n){const i=zt(s);n?(i.Ea.delete(2),await gc(i)):n||(i.Ea.add(2),await rl(i),i.Va.set("Unknown"))}function Ds(s){return s.ma||(s.ma=(function(i,a,l){const h=zt(i);return h.sa(),new Tb(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(s.datastore,s.asyncQueue,{Zo:Cb.bind(null,s),Yo:Db.bind(null,s),t_:Ib.bind(null,s),J_:Vb.bind(null,s)}),s.Ra.push((async n=>{n?(s.ma.B_(),Ld(s)?Ud(s):s.Va.set("Unknown")):(await s.ma.stop(),Yv(s))}))),s.ma}class Pd{constructor(n,i,a,l,h){this.asyncQueue=n,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=h,this.deferred=new ha,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(n,i,a,l,h){const d=Date.now()+a,p=new Pd(n,i,d,l,h);return p.start(a),p}start(n){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(tt.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((n=>this.deferred.resolve(n)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kv(s,n){if(Pi("AsyncQueue",`${n}: ${s}`),Cs(s))return new ct(tt.UNAVAILABLE,`${n}: ${s}`);throw s}class ms{static emptySet(n){return new ms(n.comparator)}constructor(n){this.comparator=n?(i,a)=>n(i,a)||mt.comparator(i.key,a.key):(i,a)=>mt.comparator(i.key,a.key),this.keyedMap=Bo(),this.sortedSet=new le(this.comparator)}has(n){return this.keyedMap.get(n)!=null}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const i=this.keyedMap.get(n);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal(((i,a)=>(n(i),!1)))}add(n){const i=this.delete(n.key);return i.copy(i.keyedMap.insert(n.key,n),i.sortedSet.insert(n,null))}delete(n){const i=this.get(n);return i?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(i)):this}isEqual(n){if(!(n instanceof ms)||this.size!==n.size)return!1;const i=this.sortedSet.getIterator(),a=n.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=a.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const n=[];return this.forEach((i=>{n.push(i.toString())})),n.length===0?"DocumentSet ()":`DocumentSet (
  `+n.join(`  
`)+`
)`}copy(n,i){const a=new ms;return a.comparator=this.comparator,a.keyedMap=n,a.sortedSet=i,a}}class b_{constructor(){this.ga=new le(mt.comparator)}track(n){const i=n.doc.key,a=this.ga.get(i);a?n.type!==0&&a.type===3?this.ga=this.ga.insert(i,n):n.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:n.doc}):n.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:n.doc}):n.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:n.doc}):n.type===1&&a.type===0?this.ga=this.ga.remove(i):n.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):n.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:n.doc}):vt(63341,{Vt:n,pa:a}):this.ga=this.ga.insert(i,n)}ya(){const n=[];return this.ga.inorderTraversal(((i,a)=>{n.push(a)})),n}}class As{constructor(n,i,a,l,h,d,p,v,_){this.query=n,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(n,i,a,l,h){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new As(n,i,ms.emptySet(i),d,a,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&cc(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const i=this.docChanges,a=n.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class Nb{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((n=>n.Da()))}}class Ob{constructor(){this.queries=R_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=zt(i),h=l.queries;l.queries=R_(),h.forEach(((d,p)=>{for(const v of p.ba)v.onError(a)}))})(this,new ct(tt.ABORTED,"Firestore shutting down"))}}function R_(){return new pa((s=>Tv(s)),cc)}async function xb(s,n){const i=zt(s);let a=3;const l=n.query;let h=i.queries.get(l);h?!h.Sa()&&n.Da()&&(a=2):(h=new Nb,a=n.Da()?0:1);try{switch(a){case 0:h.wa=await i.onListen(l,!0);break;case 1:h.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Kv(d,`Initialization of query '${us(n.query)}' failed`);return void n.onError(p)}i.queries.set(l,h),h.ba.push(n),n.va(i.onlineState),h.wa&&n.Fa(h.wa)&&Bd(i)}async function zb(s,n){const i=zt(s),a=n.query;let l=3;const h=i.queries.get(a);if(h){const d=h.ba.indexOf(n);d>=0&&(h.ba.splice(d,1),h.ba.length===0?l=n.Da()?0:1:!h.Sa()&&n.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function Ub(s,n){const i=zt(s);let a=!1;for(const l of n){const h=l.query,d=i.queries.get(h);if(d){for(const p of d.ba)p.Fa(l)&&(a=!0);d.wa=l}}a&&Bd(i)}function Lb(s,n,i){const a=zt(s),l=a.queries.get(n);if(l)for(const h of l.ba)h.onError(i);a.queries.delete(n)}function Bd(s){s.Ca.forEach((n=>{n.next()}))}var sd,w_;(w_=sd||(sd={})).Ma="default",w_.Cache="cache";class Pb{constructor(n,i,a){this.query=n,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(n){if(!this.options.includeMetadataChanges){const a=[];for(const l of n.docChanges)l.type!==3&&a.push(l);n=new As(n.query,n.docs,n.oldDocs,a,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let i=!1;return this.Oa?this.Ba(n)&&(this.xa.next(n),i=!0):this.La(n,this.onlineState)&&(this.ka(n),i=!0),this.Na=n,i}onError(n){this.xa.error(n)}va(n){this.onlineState=n;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,n)&&(this.ka(this.Na),i=!0),i}La(n,i){if(!n.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!n.docs.isEmpty()||n.hasCachedResults||i==="Offline")}Ba(n){if(n.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==n.hasPendingWrites;return!(!n.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(n){n=As.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.Oa=!0,this.xa.next(n)}Da(){return this.options.source!==sd.Cache}}class Xv{constructor(n){this.key=n}}class Zv{constructor(n){this.key=n}}class Bb{constructor(n,i){this.query=n,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pt(),this.mutatedKeys=Pt(),this.eu=Sv(n),this.tu=new ms(this.eu)}get nu(){return this.Za}ru(n,i){const a=i?i.iu:new b_,l=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(n.inorderTraversal(((S,w)=>{const I=l.get(S),q=hc(this.query,w)?w:null,J=!!I&&this.mutatedKeys.has(I.key),$=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let X=!1;I&&q?I.data.isEqual(q.data)?J!==$&&(a.track({type:3,doc:q}),X=!0):this.su(I,q)||(a.track({type:2,doc:q}),X=!0,(v&&this.eu(q,v)>0||_&&this.eu(q,_)<0)&&(p=!0)):!I&&q?(a.track({type:0,doc:q}),X=!0):I&&!q&&(a.track({type:1,doc:I}),X=!0,(v||_)&&(p=!0)),X&&(q?(d=d.add(q),h=$?h.add(S):h.delete(S)):(d=d.delete(S),h=h.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),h=h.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Ss:p,mutatedKeys:h}}su(n,i){return n.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(n,i,a,l){const h=this.tu;this.tu=n.tu,this.mutatedKeys=n.mutatedKeys;const d=n.iu.ya();d.sort(((S,w)=>(function(q,J){const $=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Vt:X})}};return $(q)-$(J)})(S.type,w.type)||this.eu(S.doc,w.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],v=this.Ya.size===0&&this.current&&!l?1:0,_=v!==this.Xa;return this.Xa=v,d.length!==0||_?{snapshot:new As(this.query,n.tu,h,d,n.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(n){return this.current&&n==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new b_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(n){return!this.Za.has(n)&&!!this.tu.has(n)&&!this.tu.get(n).hasLocalMutations}ou(n){n&&(n.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),n.modifiedDocuments.forEach((i=>{})),n.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=n.current)}_u(){if(!this.current)return[];const n=this.Ya;this.Ya=Pt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return n.forEach((a=>{this.Ya.has(a)||i.push(new Zv(a))})),this.Ya.forEach((a=>{n.has(a)||i.push(new Xv(a))})),i}cu(n){this.Za=n.ks,this.Ya=Pt();const i=this.ru(n.documents);return this.applyChanges(i,!0)}lu(){return As.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const kd="SyncEngine";class kb{constructor(n,i,a){this.query=n,this.targetId=i,this.view=a}}class jb{constructor(n){this.key=n,this.hu=!1}}class qb{constructor(n,i,a,l,h,d){this.localStore=n,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new pa((p=>Tv(p)),cc),this.Iu=new Map,this.Eu=new Set,this.Ru=new le(mt.comparator),this.Au=new Map,this.Vu=new Vd,this.du={},this.mu=new Map,this.fu=Ts.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Hb(s,n,i=!0){const a=e0(s);let l;const h=a.Tu.get(n);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await Jv(a,n,i,!0),l}async function Gb(s,n){const i=e0(s);await Jv(i,n,!0,!1)}async function Jv(s,n,i,a){const l=await fb(s.localStore,gi(n)),h=l.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let p;return a&&(p=await Fb(s,n,h,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&Fv(s.remoteStore,l),p}async function Fb(s,n,i,a,l){s.pu=(w,I,q)=>(async function($,X,ut,ft){let ot=X.view.ru(ut);ot.Ss&&(ot=await y_($.localStore,X.query,!1).then((({documents:b})=>X.view.ru(b,ot))));const wt=ft&&ft.targetChanges.get(X.targetId),Ut=ft&&ft.targetMismatches.get(X.targetId)!=null,st=X.view.applyChanges(ot,$.isPrimaryClient,wt,Ut);return D_($,X.targetId,st.au),st.snapshot})(s,w,I,q);const h=await y_(s.localStore,n,!0),d=new Bb(n,h.ks),p=d.ru(h.documents),v=il.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,v);D_(s,i,_.au);const S=new kb(n,i,d);return s.Tu.set(n,S),s.Iu.has(i)?s.Iu.get(i).push(n):s.Iu.set(i,[n]),_.snapshot}async function Qb(s,n,i){const a=zt(s),l=a.Tu.get(n),h=a.Iu.get(l.targetId);if(h.length>1)return a.Iu.set(l.targetId,h.filter((d=>!cc(d,n)))),void a.Tu.delete(n);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await rd(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&xd(a.remoteStore,l.targetId),od(a,l.targetId)})).catch(ac)):(od(a,l.targetId),await rd(a.localStore,l.targetId,!0))}async function Yb(s,n){const i=zt(s),a=i.Tu.get(n),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),xd(i.remoteStore,a.targetId))}async function $v(s,n){const i=zt(s);try{const a=await cb(i.localStore,n);n.targetChanges.forEach(((l,h)=>{const d=i.Au.get(h);d&&(ae(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?ae(d.hu,14607):l.removedDocuments.size>0&&(ae(d.hu,42227),d.hu=!1))})),await t0(i,a,n)}catch(a){await ac(a)}}function C_(s,n,i){const a=zt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((h,d)=>{const p=d.view.va(n);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const v=zt(d);v.onlineState=p;let _=!1;v.queries.forEach(((S,w)=>{for(const I of w.ba)I.va(p)&&(_=!0)})),_&&Bd(v)})(a.eventManager,n),l.length&&a.Pu.J_(l),a.onlineState=n,a.isPrimaryClient&&a.sharedClientState.setOnlineState(n)}}async function Kb(s,n,i){const a=zt(s);a.sharedClientState.updateQueryState(n,"rejected",i);const l=a.Au.get(n),h=l&&l.key;if(h){let d=new le(mt.comparator);d=d.insert(h,Ke.newNoDocument(h,_t.min()));const p=Pt().add(h),v=new mc(_t.min(),new Map,new le(Vt),d,p);await $v(a,v),a.Ru=a.Ru.remove(h),a.Au.delete(n),jd(a)}else await rd(a.localStore,n,!1).then((()=>od(a,n,i))).catch(ac)}function od(s,n,i=null){s.sharedClientState.removeLocalQueryTarget(n);for(const a of s.Iu.get(n))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(n),s.isPrimaryClient&&s.Vu.Gr(n).forEach((a=>{s.Vu.containsKey(a)||Wv(s,a)}))}function Wv(s,n){s.Eu.delete(n.path.canonicalString());const i=s.Ru.get(n);i!==null&&(xd(s.remoteStore,i),s.Ru=s.Ru.remove(n),s.Au.delete(i),jd(s))}function D_(s,n,i){for(const a of i)a instanceof Xv?(s.Vu.addReference(a.key,n),Xb(s,a)):a instanceof Zv?(rt(kd,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,n),s.Vu.containsKey(a.key)||Wv(s,a.key)):vt(19791,{wu:a})}function Xb(s,n){const i=n.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(rt(kd,"New document in limbo: "+i),s.Eu.add(a),jd(s))}function jd(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const n=s.Eu.values().next().value;s.Eu.delete(n);const i=new mt(re.fromString(n)),a=s.fu.next();s.Au.set(a,new jb(i)),s.Ru=s.Ru.insert(i,a),Fv(s.remoteStore,new vr(gi(wd(i.path)),a,"TargetPurposeLimboResolution",sc.ce))}}async function t0(s,n,i){const a=zt(s),l=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,v)=>{d.push(a.pu(v,n,i).then((_=>{if((_||i)&&a.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(_){l.push(_);const S=Nd.Es(v.targetId,_);h.push(S)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(v,_){const S=zt(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>K.forEach(_,(I=>K.forEach(I.Ts,(q=>S.persistence.referenceDelegate.addReference(w,I.targetId,q))).next((()=>K.forEach(I.Is,(q=>S.persistence.referenceDelegate.removeReference(w,I.targetId,q)))))))))}catch(w){if(!Cs(w))throw w;rt(Od,"Failed to update sequence numbers: "+w)}for(const w of _){const I=w.targetId;if(!w.fromCache){const q=S.vs.get(I),J=q.snapshotVersion,$=q.withLastLimboFreeSnapshotVersion(J);S.vs=S.vs.insert(I,$)}}})(a.localStore,h))}async function Zb(s,n){const i=zt(s);if(!i.currentUser.isEqual(n)){rt(kd,"User change. New user:",n.toKey());const a=await jv(i.localStore,n);i.currentUser=n,(function(h,d){h.mu.forEach((p=>{p.forEach((v=>{v.reject(new ct(tt.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(n,a.removedBatchIds,a.addedBatchIds),await t0(i,a.Ns)}}function Jb(s,n){const i=zt(s),a=i.Au.get(n);if(a&&a.hu)return Pt().add(a.key);{let l=Pt();const h=i.Iu.get(n);if(!h)return l;for(const d of h){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function e0(s){const n=zt(s);return n.remoteStore.remoteSyncer.applyRemoteEvent=$v.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jb.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=Kb.bind(null,n),n.Pu.J_=Ub.bind(null,n.eventManager),n.Pu.yu=Lb.bind(null,n.eventManager),n}class nc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=Hv(n.databaseInfo.databaseId),this.sharedClientState=this.Du(n),this.persistence=this.Cu(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Fu(n,this.localStore),this.indexBackfillerScheduler=this.Mu(n,this.localStore)}Fu(n,i){return null}Mu(n,i){return null}vu(n){return ub(this.persistence,new sb,n.initialUser,this.serializer)}Cu(n){return new kv(Md.Vi,this.serializer)}Du(n){return new mb}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nc.provider={build:()=>new nc};class $b extends nc{constructor(n){super(),this.cacheSizeBytes=n}Fu(n,i){ae(this.persistence.referenceDelegate instanceof ec,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new FA(a,n.asyncQueue,i)}Cu(n){const i=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new kv((a=>ec.Vi(a,i)),this.serializer)}}class ld{async initialize(n,i){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>C_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=Zb.bind(null,this.syncEngine),await Mb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return(function(){return new Ob})()}createDatastore(n){const i=Hv(n.databaseInfo.databaseId),a=vb(n.databaseInfo);return bb(n.authCredentials,n.appCheckCredentials,a,i)}createRemoteStore(n){return(function(a,l,h,d,p){return new wb(a,l,h,d,p)})(this.localStore,this.datastore,n.asyncQueue,(i=>C_(this.syncEngine,i,0)),(function(){return E_.v()?new E_:new gb})())}createSyncEngine(n,i){return(function(l,h,d,p,v,_,S){const w=new qb(l,h,d,p,v,_);return S&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=zt(i);rt(Ss,"RemoteStore shutting down."),a.Ea.add(5),await rl(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ld.provider={build:()=>new ld};class Wb{constructor(n){this.observer=n,this.muted=!1}next(n){this.muted||this.observer.next&&this.Ou(this.observer.next,n)}error(n){this.muted||(this.observer.error?this.Ou(this.observer.error,n):Pi("Uncaught Error in snapshot listener:",n.toString()))}Nu(){this.muted=!0}Ou(n,i){setTimeout((()=>{this.muted||n(i)}),0)}}const Vr="FirestoreClient";class t2{constructor(n,i,a,l,h){this.authCredentials=n,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=Ye.UNAUTHENTICATED,this.clientId=Td.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async d=>{rt(Vr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(rt(Vr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}terminate(){this.asyncQueue.enterRestrictedMode();const n=new ha;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),n.resolve()}catch(i){const a=Kv(i,"Failed to shutdown persistence");n.reject(a)}})),n.promise}}async function Uf(s,n){s.asyncQueue.verifyOperationInProgress(),rt(Vr,"Initializing OfflineComponentProvider");const i=s.configuration;await n.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await jv(n.localStore,l),a=l)})),n.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=n}async function I_(s,n){s.asyncQueue.verifyOperationInProgress();const i=await e2(s);rt(Vr,"Initializing OnlineComponentProvider"),await n.initialize(i,s.configuration),s.setCredentialChangeListener((a=>A_(n.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>A_(n.remoteStore,l))),s._onlineComponents=n}async function e2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){rt(Vr,"Using user provided OfflineComponentProvider");try{await Uf(s,s._uninitializedComponentsProvider._offline)}catch(n){const i=n;if(!(function(l){return l.name==="FirebaseError"?l.code===tt.FAILED_PRECONDITION||l.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;ys("Error using user provided cache. Falling back to memory cache: "+i),await Uf(s,new nc)}}else rt(Vr,"Using default OfflineComponentProvider"),await Uf(s,new $b(void 0));return s._offlineComponents}async function n2(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(rt(Vr,"Using user provided OnlineComponentProvider"),await I_(s,s._uninitializedComponentsProvider._online)):(rt(Vr,"Using default OnlineComponentProvider"),await I_(s,new ld))),s._onlineComponents}async function i2(s){const n=await n2(s),i=n.eventManager;return i.onListen=Hb.bind(null,n.syncEngine),i.onUnlisten=Qb.bind(null,n.syncEngine),i.onFirstRemoteStoreListen=Gb.bind(null,n.syncEngine),i.onLastRemoteStoreUnlisten=Yb.bind(null,n.syncEngine),i}function r2(s,n,i={}){const a=new ha;return s.asyncQueue.enqueueAndForget((async()=>(function(h,d,p,v,_){const S=new Wb({next:I=>{S.Nu(),d.enqueueAndForget((()=>zb(h,w)));const q=I.docs.has(p);!q&&I.fromCache?_.reject(new ct(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&I.fromCache&&v&&v.source==="server"?_.reject(new ct(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(I)},error:I=>_.reject(I)}),w=new Pb(wd(p.path),S,{includeMetadataChanges:!0,Ka:!0});return xb(h,w)})(await i2(s),s.asyncQueue,n,i,a))),a.promise}function n0(s){const n={};return s.timeoutSeconds!==void 0&&(n.timeoutSeconds=s.timeoutSeconds),n}const a2="ComponentProvider",V_=new Map;function s2(s,n,i,a,l){return new zS(s,n,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,n0(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const i0="firestore.googleapis.com",M_=!0;class N_{constructor(n){if(n.host===void 0){if(n.ssl!==void 0)throw new ct(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=i0,this.ssl=M_}else this.host=n.host,this.ssl=n.ssl??M_;if(this.isUsingEmulator=n.emulatorOptions!==void 0,this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,n.cacheSizeBytes===void 0)this.cacheSizeBytes=Bv;else{if(n.cacheSizeBytes!==-1&&n.cacheSizeBytes<HA)throw new ct(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}TS("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:n.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=n0(n.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,n.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class qd{constructor(n,i,a,l){this._authCredentials=n,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(n){if(this._settingsFrozen)throw new ct(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N_(n),this._emulatorOptions=n.emulatorOptions||{},n.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new cS;switch(a.type){case"firstParty":return new mS(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ct(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(n.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=V_.get(i);a&&(rt(a2,"Removing Datastore"),V_.delete(i),a.terminate())})(this),Promise.resolve()}}function o2(s,n,i,a={}){s=Qf(s,qd);const l=pd(n),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},p=`${n}:${i}`;l&&(BT(`https://${p}`),HT("Firestore",!0)),h.host!==i0&&h.host!==p&&ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:p,ssl:l,emulatorOptions:a};if(!Ku(v,d)&&(s._setSettings(v),a.mockUserToken)){let _,S;if(typeof a.mockUserToken=="string")_=a.mockUserToken,S=Ye.MOCK_USER;else{_=kT(a.mockUserToken,s._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ct(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Ye(w)}s._authCredentials=new hS(new lv(_,S))}}class Hd{constructor(n,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=n}withConverter(n){return new Hd(this.firestore,n,this._query)}}class We{constructor(n,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tl(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new We(this.firestore,n,this._key)}toJSON(){return{type:We._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(n,i,a){if(el(i,We._jsonSchema))return new We(n,a||null,new mt(re.fromString(i.referencePath)))}}We._jsonSchemaVersion="firestore/documentReference/1.0",We._jsonSchema={type:Re("string",We._jsonSchemaVersion),referencePath:Re("string")};class tl extends Hd{constructor(n,i,a){super(n,i,wd(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new We(this.firestore,null,new mt(n))}withConverter(n){return new tl(this.firestore,n,this._path)}}function l2(s,n,...i){if(s=X_(s),arguments.length===1&&(n=Td.newId()),ES("doc","path",n),s instanceof qd){const a=re.fromString(n,...i);return Fy(a),new We(s,null,new mt(a))}{if(!(s instanceof We||s instanceof tl))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(re.fromString(n,...i));return Fy(a),new We(s.firestore,s instanceof tl?s.converter:null,new mt(a))}}const O_="AsyncQueue";class x_{constructor(n=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Gv(this,"async_queue_retry"),this._c=()=>{const a=zf();a&&rt(O_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=n;const i=zf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.uc(),this.cc(n)}enterRestrictedMode(n){if(!this.ec){this.ec=!0,this.sc=n||!1;const i=zf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(n){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ha;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(n().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(n){this.enqueueAndForget((()=>(this.Yu.push(n),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(n){if(!Cs(n))throw n;rt(O_,"Operation failed with retryable error: "+n)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(n){const i=this.ac.then((()=>(this.rc=!0,n().catch((a=>{throw this.nc=a,this.rc=!1,Pi("INTERNAL UNHANDLED ERROR: ",z_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(n,i,a){this.uc(),this.oc.indexOf(n)>-1&&(i=0);const l=Pd.createAndSchedule(this,n,i,a,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&vt(47125,{Pc:z_(this.nc)})}verifyOperationInProgress(){}async Tc(){let n;do n=this.ac,await n;while(n!==this.ac)}Ic(n){for(const i of this.tc)if(i.timerId===n)return!0;return!1}Ec(n){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),n!=="all"&&i.timerId===n)break;return this.Tc()}))}Rc(n){this.oc.push(n)}hc(n){const i=this.tc.indexOf(n);this.tc.splice(i,1)}}function z_(s){let n=s.message||"";return s.stack&&(n=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),n}class r0 extends qd{constructor(n,i,a,l){super(n,i,a,l),this.type="firestore",this._queue=new x_,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const n=this._firestoreClient.terminate();this._queue=new x_(n),this._firestoreClient=void 0,await n}}}function u2(s,n){const i=typeof s=="object"?s:$1(),a=typeof s=="string"?s:Zu,l=Y1(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const h=PT("firestore");h&&o2(l,...h)}return l}function c2(s){if(s._terminated)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||h2(s),s._firestoreClient}function h2(s){const n=s._freezeSettings(),i=s2(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,n);s._componentsProvider||n.localCache?._offlineComponentProvider&&n.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:n.localCache._offlineComponentProvider,_online:n.localCache._onlineComponentProvider}),s._firestoreClient=new t2(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(s._componentsProvider))}class mi{constructor(n){this._byteString=n}static fromBase64String(n){try{return new mi(Ge.fromBase64String(n))}catch(i){throw new ct(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(n){return new mi(Ge.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}toJSON(){return{type:mi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(n){if(el(n,mi._jsonSchema))return mi.fromBase64String(n.bytes)}}mi._jsonSchemaVersion="firestore/bytes/1.0",mi._jsonSchema={type:Re("string",mi._jsonSchemaVersion),bytes:Re("string")};class a0{constructor(...n){for(let i=0;i<n.length;++i)if(n[i].length===0)throw new ct(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class Ar{constructor(n,i){if(!isFinite(n)||n<-90||n>90)throw new ct(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(i)||i<-180||i>180)throw new ct(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=n,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}_compareTo(n){return Vt(this._lat,n._lat)||Vt(this._long,n._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ar._jsonSchemaVersion}}static fromJSON(n){if(el(n,Ar._jsonSchema))return new Ar(n.latitude,n.longitude)}}Ar._jsonSchemaVersion="firestore/geoPoint/1.0",Ar._jsonSchema={type:Re("string",Ar._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};class br{constructor(n){this._values=(n||[]).map((i=>i))}toArray(){return this._values.map((n=>n))}isEqual(n){return(function(a,l){if(a.length!==l.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==l[h])return!1;return!0})(this._values,n._values)}toJSON(){return{type:br._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(n){if(el(n,br._jsonSchema)){if(Array.isArray(n.vectorValues)&&n.vectorValues.every((i=>typeof i=="number")))return new br(n.vectorValues);throw new ct(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}br._jsonSchemaVersion="firestore/vectorValue/1.0",br._jsonSchema={type:Re("string",br._jsonSchemaVersion),vectorValues:Re("object")};function s0(s,n,i){if((n=X_(n))instanceof a0)return n._internalPath;if(typeof n=="string")return d2(s,n);throw ud("Field path arguments must be of type string or ",s,!1,void 0,i)}const f2=new RegExp("[~\\*/\\[\\]]");function d2(s,n,i){if(n.search(f2)>=0)throw ud(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new a0(...n.split("."))._internalPath}catch{throw ud(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function ud(s,n,i,a,l){const h=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${n}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new ct(tt.INVALID_ARGUMENT,p+s+v)}class m2{convertValue(n,i="none"){switch(Dr(n)){case 0:return null;case 1:return n.booleanValue;case 2:return de(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,i);case 5:return n.stringValue;case 6:return this.convertBytes(Cr(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,i);case 11:return this.convertObject(n.mapValue,i);case 10:return this.convertVectorValue(n.mapValue);default:throw vt(62114,{value:n})}}convertObject(n,i){return this.convertObjectMap(n.fields,i)}convertObjectMap(n,i="none"){const a={};return nl(n,((l,h)=>{a[l]=this.convertValue(h,i)})),a}convertVectorValue(n){const i=n.fields?.[Kf].arrayValue?.values?.map((a=>de(a.doubleValue)));return new br(i)}convertGeoPoint(n){return new Ar(de(n.latitude),de(n.longitude))}convertArray(n,i){return(n.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(n,i){switch(i){case"previous":const a=lc(n);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Jo(n));default:return null}}convertTimestamp(n){const i=wr(n);return new be(i.seconds,i.nanos)}convertDocumentKey(n,i){const a=re.fromString(n);ae(Pv(a),9688,{name:n});const l=new $o(a.get(1),a.get(3)),h=new mt(a.popFirst(5));return l.isEqual(i)||Pi(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}class g2 extends m2{constructor(n){super(),this.firestore=n}convertBytes(n){return new mi(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new We(this.firestore,null,i)}}const U_="@firebase/firestore",L_="4.10.0";class o0{constructor(n,i,a,l,h){this._firestore=n,this._userDataWriter=i,this._key=a,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new We(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const n=new p2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(n){if(this._document){const i=this._document.data.field(s0("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i)}}}class p2 extends o0{data(){return super.data()}}class jo{constructor(n,i){this.hasPendingWrites=n,this.fromCache=i}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class da extends o0{constructor(n,i,a,l,h,d){super(n,i,a,l,d),this._firestore=n,this._firestoreImpl=n,this.metadata=h}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const i=new Qu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,i={}){if(this._document){const a=this._document.data.field(s0("DocumentSnapshot.get",n));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const n=this._document,i={};return i.type=da._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!n||!n.isValidDocument()||!n.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(n.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}da._jsonSchemaVersion="firestore/documentSnapshot/1.0",da._jsonSchema={type:Re("string",da._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Qu extends da{data(n={}){return super.data(n)}}class Ko{constructor(n,i,a,l){this._firestore=n,this._userDataWriter=i,this._snapshot=l,this.metadata=new jo(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const n=[];return this.forEach((i=>n.push(i))),n}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(n,i){this._snapshot.docs.forEach((a=>{n.call(i,new Qu(this._firestore,this._userDataWriter,a.key,a,new jo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(n={}){const i=!!n.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const v=new Qu(l._firestore,l._userDataWriter,p.doc.key,p.doc,new jo(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const v=new Qu(l._firestore,l._userDataWriter,p.doc.key,p.doc,new jo(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,S=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:y2(p.type),doc:v,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const n={};n.type=Ko._jsonSchemaVersion,n.bundleSource="QuerySnapshot",n.bundleName=Td.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),n.bundle=(this._firestore,this.query._query,n.bundleName,"NOT SUPPORTED"),n}}function y2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:s})}}Ko._jsonSchemaVersion="firestore/querySnapshot/1.0",Ko._jsonSchema={type:Re("string",Ko._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};function _2(s){s=Qf(s,We);const n=Qf(s.firestore,r0),i=c2(n);return r2(i,s._key).then((a=>v2(n,s,a)))}function v2(s,n,i){const a=i.docs.get(n._key),l=new g2(s);return new da(s,l,n._key,a,new jo(i.hasPendingWrites,i.fromCache),n.converter)}(function(n,i=!0){uS(J1),ps(new ma("firestore",((a,{instanceIdentifier:l,options:h})=>{const d=a.getProvider("app").getImmediate(),p=new r0(new fS(a.getProvider("auth-internal")),new gS(d,a.getProvider("app-check-internal")),US(d,l),d);return h={useFetchStreams:i,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),ca(U_,L_,n),ca(U_,L_,"esm2020")})();var E2="firebase",T2="12.8.0";ca(E2,T2,"app");const S2=new Map,A2={activated:!1,tokenObservers:[]};function Hn(s){return S2.get(s)||{...A2}}const P_={RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3};class b2{constructor(n,i,a,l,h){if(this.operation=n,this.retryPolicy=i,this.getWaitDuration=a,this.lowerBound=l,this.upperBound=h,this.pending=null,this.nextErrorWaitInterval=l,l>h)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(n){this.stop();try{this.pending=new Pf,this.pending.promise.catch(i=>{}),await R2(this.getNextRun(n)),this.pending.resolve(),await this.pending.promise,this.pending=new Pf,this.pending.promise.catch(i=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(i){this.retryPolicy(i)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(n){if(n)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const i=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),i}}}function R2(s){return new Promise(n=>{setTimeout(n,s)})}const w2={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ic=new yd("appCheck","AppCheck",w2);function l0(s){if(!Hn(s).activated)throw ic.create("use-before-activation",{appName:s.name})}const C2="firebase-app-check-database",D2=1,cd="firebase-app-check-store";let ju=null;function I2(){return ju||(ju=new Promise((s,n)=>{try{const i=indexedDB.open(C2,D2);i.onsuccess=a=>{s(a.target.result)},i.onerror=a=>{n(ic.create("storage-open",{originalErrorMessage:a.target.error?.message}))},i.onupgradeneeded=a=>{const l=a.target.result;a.oldVersion===0&&l.createObjectStore(cd,{keyPath:"compositeKey"})}}catch(i){n(ic.create("storage-open",{originalErrorMessage:i?.message}))}}),ju)}function V2(s,n){return M2(N2(s),n)}async function M2(s,n){const a=(await I2()).transaction(cd,"readwrite"),h=a.objectStore(cd).put({compositeKey:s,value:n});return new Promise((d,p)=>{h.onsuccess=v=>{d()},a.onerror=v=>{p(ic.create("storage-set",{originalErrorMessage:v.target.error?.message}))}})}function N2(s){return`${s.options.appId}-${s.name}`}const hd=new _d("@firebase/app-check");function B_(s,n){return K_()?V2(s,n).catch(i=>{hd.warn(`Failed to write token to IndexedDB. Error: ${i}`)}):Promise.resolve()}const O2={error:"UNKNOWN_ERROR"};function x2(s){return md.encodeString(JSON.stringify(s),!1)}async function fd(s,n=!1,i=!1){const a=s.app;l0(a);const l=Hn(a);let h=l.token,d;if(h&&!qo(h)&&(l.token=void 0,h=void 0),!h){const _=await l.cachedTokenPromise;_&&(qo(_)?h=_:await B_(a,void 0))}if(!n&&h&&qo(h))return{token:h.token};let p=!1;try{l.exchangeTokenPromise||(l.exchangeTokenPromise=l.provider.getToken().finally(()=>{l.exchangeTokenPromise=void 0}),p=!0),h=await Hn(a).exchangeTokenPromise}catch(_){_.code==="appCheck/throttled"||_.code==="appCheck/initial-throttle"?hd.warn(_.message):i&&hd.error(_),d=_}let v;return h?d?qo(h)?v={token:h.token,internalError:d}:v=j_(d):(v={token:h.token},l.token=h,await B_(a,h)):v=j_(d),p&&P2(a,v),v}async function z2(s){const n=s.app;l0(n);const{provider:i}=Hn(n);{const{token:a}=await i.getToken();return{token:a}}}function U2(s,n,i,a){const{app:l}=s,h=Hn(l),d={next:i,error:a,type:n};if(h.tokenObservers=[...h.tokenObservers,d],h.token&&qo(h.token)){const p=h.token;Promise.resolve().then(()=>{i({token:p.token}),k_(s)}).catch(()=>{})}h.cachedTokenPromise.then(()=>k_(s))}function u0(s,n){const i=Hn(s),a=i.tokenObservers.filter(l=>l.next!==n);a.length===0&&i.tokenRefresher&&i.tokenRefresher.isRunning()&&i.tokenRefresher.stop(),i.tokenObservers=a}function k_(s){const{app:n}=s,i=Hn(n);let a=i.tokenRefresher;a||(a=L2(s),i.tokenRefresher=a),!a.isRunning()&&i.isTokenAutoRefreshEnabled&&a.start()}function L2(s){const{app:n}=s;return new b2(async()=>{const i=Hn(n);let a;if(i.token?a=await fd(s,!0):a=await fd(s),a.error)throw a.error;if(a.internalError)throw a.internalError},()=>!0,()=>{const i=Hn(n);if(i.token){let a=i.token.issuedAtTimeMillis+(i.token.expireTimeMillis-i.token.issuedAtTimeMillis)*.5+3e5;const l=i.token.expireTimeMillis-300*1e3;return a=Math.min(a,l),Math.max(0,a-Date.now())}else return 0},P_.RETRIAL_MIN_WAIT,P_.RETRIAL_MAX_WAIT)}function P2(s,n){const i=Hn(s).tokenObservers;for(const a of i)try{a.type==="EXTERNAL"&&n.error!=null?a.error(n.error):a.next(n)}catch{}}function qo(s){return s.expireTimeMillis-Date.now()>0}function j_(s){return{token:x2(O2),error:s}}class B2{constructor(n,i){this.app=n,this.heartbeatServiceProvider=i}_delete(){const{tokenObservers:n}=Hn(this.app);for(const i of n)u0(this.app,i.next);return Promise.resolve()}}function k2(s,n){return new B2(s,n)}function j2(s){return{getToken:n=>fd(s,n),getLimitedUseToken:()=>z2(s),addTokenListener:n=>U2(s,"INTERNAL",n),removeTokenListener:n=>u0(s.app,n)}}const q2="@firebase/app-check",H2="0.11.0",G2="app-check",q_="app-check-internal";function F2(){ps(new ma(G2,s=>{const n=s.getProvider("app").getImmediate(),i=s.getProvider("heartbeat");return k2(n,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((s,n,i)=>{s.getProvider(q_).initialize()})),ps(new ma(q_,s=>{const n=s.getProvider("app-check").getImmediate();return j2(n)},"PUBLIC").setInstantiationMode("EXPLICIT")),ca(q2,H2)}F2();const Q2={BASE_URL:"/visa-photo/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Y2=void 0,os=s=>Q2[s]||"",K2={apiKey:os("VITE_FIREBASE_API_KEY"),authDomain:os("VITE_FIREBASE_AUTH_DOMAIN"),projectId:os("VITE_FIREBASE_PROJECT_ID"),storageBucket:os("VITE_FIREBASE_STORAGE_BUCKET"),messagingSenderId:os("VITE_FIREBASE_MESSAGING_SENDER_ID"),appId:os("VITE_FIREBASE_APP_ID")},X2=$_(K2),Z2=u2(X2),J2=async()=>{try{const s=l2(Z2,"settings","public"),n=await _2(s);return n.exists()?n.data().feedbackEnabled!==!1:!0}catch(s){return console.warn("Failed to check feedback status",s),!0}},$2=()=>{const[s,n]=xt.useState(!1),[i,a]=xt.useState(!0),[l,h]=xt.useState("suggestion"),[d,p]=xt.useState(""),[v,_]=xt.useState(""),[S,w]=xt.useState(!1),[I,q]=xt.useState("idle");xt.useEffect(()=>{J2().then(a)},[]);const J=async $=>{$.preventDefault(),w(!0),q("idle");try{Y2||(console.log("Mock Submission:",{type:l,message:d,email:v}),await new Promise(X=>setTimeout(X,1e3))),q("success"),localStorage.setItem("lastFeedbackSubmit",Date.now().toString()),p(""),setTimeout(()=>{n(!1),q("idle")},2e3)}catch(X){console.error("Error submitting feedback:",X),q("error")}finally{w(!1)}};return i?Z.jsxs(Z.Fragment,{children:[Z.jsx("button",{onClick:()=>n(!0),className:"btn-feedback",style:{position:"fixed",bottom:"20px",right:"20px",background:"#3b82f6",color:"white",border:"none",borderRadius:"50%",width:"50px",height:"50px",cursor:"pointer",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem",zIndex:100},title:"Send Feedback",children:""}),s&&Z.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:101},children:Z.jsxs("div",{style:{background:"#1e293b",padding:"2rem",borderRadius:"12px",width:"90%",maxWidth:"400px",position:"relative",color:"white"},children:[Z.jsx("button",{onClick:()=>n(!1),style:{position:"absolute",top:"10px",right:"10px",background:"transparent",border:"none",color:"#94a3b8",cursor:"pointer",fontSize:"1.2rem"},children:""}),Z.jsx("h2",{style:{marginTop:0,marginBottom:"1rem"},children:"Feedback"}),I==="success"?Z.jsx("div",{style:{color:"#4ade80",textAlign:"center",padding:"2rem 0"},children:"Thank you for your feedback!"}):Z.jsxs("form",{onSubmit:J,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[Z.jsxs("div",{children:[Z.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem"},children:"Type"}),Z.jsxs("select",{value:l,onChange:$=>h($.target.value),style:{width:"100%",padding:"0.5rem",borderRadius:"4px"},children:[Z.jsx("option",{value:"suggestion",children:"Suggestion"}),Z.jsx("option",{value:"bug",children:"Bug Report"})]})]}),Z.jsxs("div",{children:[Z.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem"},children:"Message"}),Z.jsx("textarea",{value:d,onChange:$=>p($.target.value),required:!0,maxLength:500,rows:4,style:{width:"100%",padding:"0.5rem",borderRadius:"4px"},placeholder:"Tell us what you think..."})]}),Z.jsxs("div",{children:[Z.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem"},children:"Email (Optional)"}),Z.jsx("input",{type:"email",value:v,onChange:$=>_($.target.value),style:{width:"100%",padding:"0.5rem",borderRadius:"4px"},placeholder:"For follow-up"})]}),I==="error"&&Z.jsx("p",{style:{color:"#ef4444",fontSize:"0.9rem"},children:"Failed to submit. Please try again."}),Z.jsx("button",{type:"submit",disabled:S,className:"btn btn-primary",style:{marginTop:"0.5rem"},children:S?"Sending...":"Submit Feedback"})]})]})})]}):null};function W2(){const[s,n]=xt.useState(null),[i,a]=xt.useState(""),[l,h]=xt.useState(null),{t:d}=bs(),p=(_,S,w)=>{n(_),a(S),h(w)},v=()=>{n(null),a(""),h(null)};return Z.jsxs("div",{className:"container",children:[Z.jsx(wT,{}),Z.jsxs("header",{style:{marginBottom:"2rem",textAlign:"center",marginTop:"1rem"},children:[Z.jsx("h1",{style:{fontSize:"2.5rem",fontWeight:"bold",marginBottom:"0.5rem"},children:d.title}),Z.jsx("p",{style:{color:"#94a3b8"},children:d.subtitle})]}),Z.jsx("main",{style:{width:"100%",display:"flex",justifyContent:"center"},children:s?Z.jsx(RT,{imageSrc:s,fileName:i,onCancel:v,fileHandle:l}):Z.jsx("div",{style:{width:"100%",maxWidth:"600px"},children:Z.jsx(WE,{onFileSelect:p})})}),Z.jsx(CT,{}),Z.jsx($2,{})]})}function tR(){return Z.jsx($E,{children:Z.jsx(W2,{})})}ZE.createRoot(document.getElementById("root")).render(Z.jsx(xt.StrictMode,{children:Z.jsx(tR,{})}));
